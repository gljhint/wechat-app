# ============================================
# 应用基础配置
# ============================================

# 应用名称（显示在页面标题等位置）
APP_NAME="微信教会管理系统"

# 环境类型：local（开发）, testing（测试）, staging（预发布）, production（生产）
APP_ENV=local

# 应用密钥（⚠️ 极其重要！用于加密聊天消息，生成后切勿修改！必须备份！）
# 生成方法：php artisan key:generate
APP_KEY=

# 调试模式（生产环境必须设为 false）
APP_DEBUG=true

# 应用访问地址（生产环境必须使用 HTTPS）
APP_URL=http://localhost

# ============================================
# 日志配置
# ============================================

LOG_CHANNEL=stack
LOG_DEPRECATIONS_CHANNEL=null
LOG_LEVEL=debug

# ============================================
# 数据库配置
# ============================================

# 数据库驱动：mysql, pgsql, sqlite, sqlsrv
DB_CONNECTION=mysql

# 数据库服务器地址
DB_HOST=127.0.0.1

# 数据库端口
DB_PORT=3306

# 数据库名称
DB_DATABASE=weixin_app

# 数据库用户名
DB_USERNAME=root

# 数据库密码（生产环境请使用强密码）
DB_PASSWORD=

# ============================================
# 缓存与队列配置
# ============================================

BROADCAST_DRIVER=log

CACHE_DRIVER=file

# 默认文件存储磁盘：local, public, s3, r2
FILESYSTEM_DISK=local

# 队列驱动：sync, database, redis, sqs, beanstalkd
# 生产环境推荐：redis
QUEUE_CONNECTION=sync

# Session 驱动：file, cookie, database, redis, memcached
SESSION_DRIVER=file

# Session 有效期（分钟）
SESSION_LIFETIME=120

# ============================================
# Redis 配置
# ============================================

REDIS_HOST=127.0.0.1
REDIS_PASSWORD=null
REDIS_PORT=6379

# ============================================
# 邮件配置
# ============================================

MAIL_MAILER=smtp
MAIL_HOST=mailpit
MAIL_PORT=1025
MAIL_USERNAME=null
MAIL_PASSWORD=null
MAIL_ENCRYPTION=null
MAIL_FROM_ADDRESS="hello@example.com"
MAIL_FROM_NAME="${APP_NAME}"

# ============================================
# Cloudflare R2 存储配置
# ============================================
# 获取方式：https://dash.cloudflare.com/ -> R2 -> Manage R2 API Tokens

# R2 Access Key ID
R2_ACCESS_KEY_ID=

# R2 Secret Access Key
R2_SECRET_ACCESS_KEY=

# R2 存储桶名称
R2_BUCKET=

# R2 API 端点（在 R2 Dashboard 可找到）
# 格式：https://<account-id>.r2.cloudflarestorage.com
R2_ENDPOINT=

# R2 自定义域名（可选，推荐配置以提高访问速度）
# 配置方法：在 R2 存储桶设置中添加自定义域名
R2_URL=

# R2 区域（默认 auto 即可）
R2_DEFAULT_REGION=auto


# ============================================
# 微信公众号配置
# ============================================
# 获取方式：https://mp.weixin.qq.com/ -> 开发 -> 基本配置

# 微信公众号 AppID
WECHAT_OFFICIAL_ACCOUNT_APPID=

# 微信公众号 AppSecret（请妥善保管，不要泄露）
WECHAT_OFFICIAL_ACCOUNT_SECRET=

# 微信公众号 Token（自定义，建议使用随机字符串）
# 生成方法：openssl rand -hex 32
WECHAT_OFFICIAL_ACCOUNT_TOKEN=

# 微信公众号 EncodingAESKey（在微信公众平台点击随机生成）
WECHAT_OFFICIAL_ACCOUNT_AES_KEY=
WECHAT_OFFICIAL_ACCOUNT_OAUTH_SCOPES=snsapi_userinfo

# OAuth 回调地址（相对路径）
WECHAT_OFFICIAL_ACCOUNT_OAUTH_CALLBACK=/wechat/oauth/callback

# ============================================
# Cloudflare RealtimeKit 直播配置
# ============================================
# 获取方式：https://dash.realtime.cloudflare.com/

# Organization ID（在 Developer Portal 中生成）
CLOUDFLARE_REALTIME_ORG_ID=

# API Key（在 Developer Portal 中生成，请妥善保管）
CLOUDFLARE_REALTIME_API_KEY=

# ============================================
# 聊天记录保留配置
# ============================================

# 聊天记录保留天数（0 = 永久保存，正整数 = 保留指定天数）
# 推荐值：小型教会 180 天，中型教会 90 天，大型教会 60 天
CHAT_RETENTION_DAYS=90

# 是否启用聊天记录自动清理
CHAT_AUTO_CLEANUP_ENABLED=true

# 每次批量删除的记录数（避免一次性删除太多导致数据库压力）
CHAT_CLEANUP_BATCH_SIZE=1000

# 聊天文件存储磁盘：r2, s3, public, local
CHAT_STORAGE_DISK=r2


# ============================================
# Vite 前端构建配置
# ============================================

VITE_APP_NAME="${APP_NAME}"
VITE_PUSHER_APP_KEY="${PUSHER_APP_KEY}"
VITE_PUSHER_HOST="${PUSHER_HOST}"
VITE_PUSHER_PORT="${PUSHER_PORT}"
VITE_PUSHER_SCHEME="${PUSHER_SCHEME}"
VITE_PUSHER_APP_CLUSTER="${PUSHER_APP_CLUSTER}"

# ============================================
# OpenRouter AI API 配置
# ============================================
# 获取方式：https://openrouter.ai/keys

# OpenRouter API Key（请妥善保管）
OPENROUTER_API_KEY=