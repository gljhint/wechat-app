<?php

return [
    /*
    |--------------------------------------------------------------------------
    | 聊天记录保存时长配置
    |--------------------------------------------------------------------------
    |
    | 设置聊天记录的保存时长(天数)
    | - 0 或 null: 永久保存,不自动删除
    | - 正整数: 保存指定天数后自动删除
    |
    | 注意: 删除操作会同时删除数据库记录和关联的媒体文件
    |
    */
    'retention_days' => env('CHAT_RETENTION_DAYS', 90), // 默认保存90天

    /*
    |--------------------------------------------------------------------------
    | 自动清理开关
    |--------------------------------------------------------------------------
    |
    | 是否启用聊天记录自动清理
    |
    */
    'auto_cleanup_enabled' => env('CHAT_AUTO_CLEANUP_ENABLED', true),

    /*
    |--------------------------------------------------------------------------
    | 批量删除数量
    |--------------------------------------------------------------------------
    |
    | 每次批量删除的记录数,避免一次性删除太多导致数据库压力过大
    |
    */
    'cleanup_batch_size' => env('CHAT_CLEANUP_BATCH_SIZE', 1000),

    /*
    |--------------------------------------------------------------------------
    | 文件存储配置
    |--------------------------------------------------------------------------
    |
    | 聊天文件存储相关配置
    | 支持: 'r2', 's3', 'public', 'local'
    |
    */
    'storage' => [
        // 文件存储磁盘 (默认使用Cloudflare R2)
        'disk' => env('CHAT_STORAGE_DISK', 'r2'),

        // 文件存储路径前缀
        'path_prefix' => 'chat',
    ],
];
