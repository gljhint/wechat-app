import{r as t,h as r,H as e,c as a,w as i,f as s,a as o,F as n}from"./p-0ee570cd.js";import{e as c,h as d,H as l,I as h,J as p,B as b,c as g,K as k,L as v,G as u,M as f,u as m,b as x,N as w}from"./p-3c9aa206.js";import{f as y,g as j,s as _,a as C,h as z}from"./p-338c7261.js";import{S as R}from"./p-e51bb952.js";import{d as P}from"./p-203a6c0b.js";import{h as O,g as S,T as M,i as D,d as $,e as U,s as T,p as L,M as A,f as E,j as I}from"./p-70cecf9e.js";import{d as q,f as N,e as G,C as Y}from"./p-0b1fabf5.js";import{s as B}from"./p-0752f2ba.js";import{R as J}from"./p-c8eaa707.js";import{g as F,a as X,d as H}from"./p-9fc565cf.js";import{p as K,d as W}from"./p-f22deedb.js";import{g as V,R as Q}from"./p-20d0f503.js";import{i as Z}from"./p-f47d4fe8.js";import{c as tt,o as rt,f as et,s as at,a as it}from"./p-769bb885.js";import{T as st}from"./p-9caecba5.js";var ot=function(t,r,e,a){var i,s=arguments.length,o=s<3?r:null===a?a=Object.getOwnPropertyDescriptor(r,e):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,r,e,a);else for(var n=t.length-1;n>=0;n--)(i=t[n])&&(o=(s<3?i(o):s>3?i(r,e,o):i(r,e))||o);return s>3&&o&&Object.defineProperty(r,e,o),o};const nt=class{constructor(e){t(this,e),this.variant="circular",this.iconPack=c,this.t=d(),this.imageState="loading",this.getAvatar=()=>{var t;const e=y((null===(t=this.participant)||void 0===t?void 0:t.name)||"");let a;if(null!=this.participant&&"picture"in this.participant&&(a=this.participant.picture),a&&a.length>0&&"errored"!==this.imageState)return r("div",{class:"image-ctr"},"loading"===this.imageState&&r("rtk-spinner",{iconPack:this.iconPack}),r("img",{src:a,class:{loaded:"loaded"===this.imageState},loading:"lazy",title:e,onLoad:()=>this.imageState="loaded",onError:()=>this.imageState="errored",part:"image"}));const i=j(e);return r("div",{class:"initials",title:e,part:"initials"},i)}}render(){return r(e,{key:"c1a0be37edb75c40b275ad59af85cee7df3f1cdf"},this.getAvatar(),r("slot",{key:"1cd71e7494a09d68a52051edc279911dc3168515"}))}};ot([R()],nt.prototype,"iconPack",void 0),ot([R()],nt.prototype,"t",void 0),nt.style=":host{line-height:initial;font-family:var(--rtk-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--rtk-space-0, 0px);padding:var(--rtk-space-0, 0px)}:host{display:flex;height:var(--rtk-space-32, 128px);width:var(--rtk-space-32, 128px);align-items:center;justify-content:center;font-size:28px;--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-brand-500, 33 96 253) / var(--tw-bg-opacity));color:rgb(var(--rtk-colors-text-on-brand-1000, var(--rtk-colors-text-1000, 255 255 255)));overflow:clip;border-radius:9999px;-webkit-user-select:none;-moz-user-select:none;user-select:none}rtk-icon{height:50%;width:50%}.image-ctr{display:flex;height:100%;width:100%;align-items:center;justify-content:center;--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-background-700, 44 44 44) / var(--tw-bg-opacity));color:rgb(var(--rtk-colors-text-600, 255 255 255 / 0.52))}img{height:var(--rtk-space-0, 0px);width:var(--rtk-space-0, 0px);-o-object-fit:cover;object-fit:cover}img.loaded{height:100%;width:100%}.initials{display:flex;height:100%;width:100%;align-items:center;justify-content:center;text-transform:uppercase}.image{display:flex;height:100%;width:100%;align-items:center;justify-content:center}.image img{display:none;height:100%;width:100%;-o-object-fit:cover;object-fit:cover}.image img.loaded{display:block}:host([variant='hexagon']){border-radius:var(--rtk-border-radius-none, 0);clip-path:polygon(50% 0, 95% 25%, 95% 75%, 50% 100%, 5% 75%, 5% 25%)}:host([variant='square']){border-radius:var(--rtk-border-radius-none, 0);clip-path:polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%)}:host([size='sm']){height:var(--rtk-space-14, 56px);width:var(--rtk-space-14, 56px);font-size:12px}:host([size='md']){height:var(--rtk-space-28, 112px);width:var(--rtk-space-28, 112px)}:host([size='lg']){height:var(--rtk-space-32, 128px);width:var(--rtk-space-32, 128px)}";var ct=function(t,r,e,a){var i,s=arguments.length,o=s<3?r:null===a?a=Object.getOwnPropertyDescriptor(r,e):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,r,e,a);else for(var n=t.length-1;n>=0;n--)(i=t[n])&&(o=(s<3?i(o):s>3?i(r,e,o):i(r,e))||o);return s>3&&o&&Object.defineProperty(r,e,o),o};const dt=class{constructor(r){t(this,r),this.onParticipantsAdd=a(this,"participantsAdd",7),this.onParticipantDelete=a(this,"participantDelete",7),this.onRoomJoin=a(this,"roomJoin",7),this.deleteRoom=a(this,"delete",7),this.updateRoom=a(this,"update",7),this.allowDelete=!0,this.iconPack=c,this.t=d(),this.isDragMode=!1,this.defaultExpanded=!1,this.editingTitleRoomId=null,this.newTitle=null,this.showExpandedCard=!1,this.glowingCard=!1,this.permissionsUpdateListener=()=>{this.permissions=this.meeting.self.permissions.connectedMeetings},this.reset=()=>{this.editingTitleRoomId=null,this.newTitle=null},this.onEditClick=()=>{if(this.editingTitleRoomId){if(this.newTitle.length<3)return;this.roomTitle=this.newTitle,this.updateRoom.emit({title:this.newTitle,id:this.editingTitleRoomId}),this.glowCard(),this.reset()}else this.editingTitleRoomId=this.room.id,i((()=>{this.inputTextEl.focus(),this.inputTextEl.select()}))},this.onDrop=t=>{t.currentTarget instanceof HTMLParagraphElement&&(t.currentTarget.classList.remove("drop-zone-active"),this.onAssign())},this.onDragOver=t=>{t.currentTarget instanceof HTMLParagraphElement&&(t.currentTarget.classList.add("drop-zone-active"),t.preventDefault())}}connectedCallback(){var t;this.allParticipants=l(this.meeting),this.permissionsUpdateListener(),this.showExpandedCard=this.defaultExpanded,this.roomTitle=this.room.isParent?this.t("breakout_rooms.main_room"):null===(t=this.room)||void 0===t?void 0:t.title,this.canEditMeetingTitle=this.permissions.canAlterConnectedMeetings&&!this.room.isParent&&!this.meeting.connectedMeetings.isActive,this.meeting.self.permissions.on("permissionsUpdate",this.permissionsUpdateListener)}disconnectedCallback(){this.meeting.self.permissions.off("permissionsUpdate",this.permissionsUpdateListener)}onDragLeave(t){t.currentTarget instanceof HTMLParagraphElement&&t.currentTarget.classList.remove("drop-zone-active")}getAssignmentHint(){return this.assigningParticipants&&this.isDragMode?this.t("breakout_rooms.drag_drop_participants"):this.assigningParticipants?this.t("breakout_rooms.click_drop_participants"):0===this.room.participants.length?this.t("breakout_rooms.none_assigned"):void 0}toggleCardDisplay(){this.showExpandedCard=!this.showExpandedCard}glowCard(){this.glowingCard=!0,setTimeout((()=>{this.glowingCard=!1}),2e3)}onAssign(){this.onParticipantsAdd.emit(),this.glowCard()}onJoin(){this.onRoomJoin.emit()}onTitleChanged(t){"Enter"===t.key&&(this.newTitle=t.target.value,this.onEditClick())}renderPeer(t){const{displayPictureUrl:e}=this.allParticipants.find((r=>h(r)===h(t))),a=y(t.displayName||"");return r("div",{class:"peer-ui-container"},r("rtk-avatar",{participant:{name:a,picture:e},size:"sm"}),r("p",{class:"name",title:a},_(a,16),this.meeting.self.userId===t.id&&` (${this.t("you")})`))}renderExpandedCardMaybe(){if(this.showExpandedCard&&!this.room.isParent&&this.getAssignmentHint()&&this.permissions.canAlterConnectedMeetings)return r("div",{class:"message-container"},r("p",{class:{"compact-height":0!==this.room.participants.length},onClick:()=>this.onAssign(),onDragOver:this.onDragOver,onDragLeave:this.onDragLeave,onDrop:this.onDrop},this.getAssignmentHint()))}renderParticipantsMaybe(){if(this.showExpandedCard&&!this.room.isParent&&0!==this.room.participants.length)return r("div",{class:"participant-list",onClick:()=>{this.onAssign()}},this.room.participants.map((t=>r("div",{class:"participant-item",role:"listitem",key:t.id},this.renderPeer(t),this.permissions.canAlterConnectedMeetings&&r("rtk-icon",{class:"show-on-hover",icon:this.iconPack.dismiss,onClick:()=>{this.onParticipantDelete.emit(t)}})))))}render(){var t,a,i;return this.meeting?r(e,null,r("div",{class:{"assign-mode":this.assigningParticipants,"selector-mode":!this.assigningParticipants,"glowing-card":this.glowingCard}},r("div",{class:"header"},r("input",{ref:t=>this.inputTextEl=t,placeholder:this.t("breakout_rooms.room_name"),disabled:!(this.editingTitleRoomId===this.room.id),value:this.roomTitle,minlength:3,onChange:t=>{this.newTitle=t.target.value},onKeyPress:t=>this.onTitleChanged(t),class:{"editing-enabled":this.editingTitleRoomId===this.room.id},style:{width:`${this.roomTitle.length+1}ch`}}),this.editingTitleRoomId!==this.room.id&&r("span",{class:"participant-count"},"(",r("rtk-icon",{icon:this.iconPack.people}),null!==(i=null===(a=null===(t=this.room)||void 0===t?void 0:t.participants)||void 0===a?void 0:a.length)&&void 0!==i?i:"0",")"),this.canEditMeetingTitle&&r("rtk-tooltip",{label:this.t(this.editingTitleRoomId===this.room.id?"breakout_rooms.save_room_name":"breakout_rooms.edit_room_name")},r("rtk-icon",{icon:this.editingTitleRoomId===this.room.id?this.iconPack.checkmark:this.iconPack.edit,class:"show-on-hover",onClick:this.onEditClick})),r("div",{class:"rooms-container"},this.permissions.canAlterConnectedMeetings&&!this.room.isParent&&this.allowDelete&&r("rtk-tooltip",{label:this.t("breakout_rooms.delete"),class:"danger"},r("rtk-icon",{icon:this.iconPack.delete,class:"show-on-hover",onClick:()=>{this.deleteRoom.emit()}})),this.assigningParticipants&&this.permissions.canAlterConnectedMeetings&&!this.room.isParent&&r("rtk-button",{kind:"button",variant:"ghost",class:"assign-button",size:"md",onClick:()=>this.onAssign()},this.t("breakout_rooms.assign")),"edit"===this.mode&&!this.assigningParticipants&&this.permissions.canSwitchConnectedMeetings&&r("rtk-button",{kind:"button",variant:"ghost",class:"assign-button",size:"md",disabled:this.room.id===this.meeting.meta.meetingId,onClick:()=>this.onJoin()},this.t(this.room.id===this.meeting.meta.meetingId?"joined":"join")),!this.room.isParent&&r("rtk-icon",{icon:this.showExpandedCard?this.iconPack.chevron_up:this.iconPack.chevron_down,onClick:()=>this.toggleCardDisplay()}))),this.renderExpandedCardMaybe(),this.renderParticipantsMaybe())):null}};ct([R()],dt.prototype,"meeting",void 0),ct([R()],dt.prototype,"states",void 0),ct([R()],dt.prototype,"iconPack",void 0),ct([R()],dt.prototype,"t",void 0),dt.style=":host{line-height:initial;font-family:var(--rtk-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--rtk-space-0, 0px);padding:var(--rtk-space-0, 0px)}:host{--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-background-800, 30 30 30) / var(--tw-bg-opacity));border-radius:var(--rtk-border-radius-sm, 4px)}@keyframes bg-glow{25%{background-color:rgba(var(--rtk-colors-brand-500, 33 96 253) / 0.2)}50%{--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-background-800, 30 30 30) / var(--tw-bg-opacity))}75%{background-color:rgba(var(--rtk-colors-brand-500, 33 96 253) / 0.2)}}.glowing-card{animation:bg-glow 0.8s}.selector-mode,.assign-mode{display:flex;flex-direction:column;align-items:center;padding:var(--rtk-space-2, 8px);cursor:pointer}.selector:hover{--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}.show-on-hover{display:none}.header{width:100%;display:flex;align-items:center}.header rtk-icon{margin-left:var(--rtk-space-2, 8px);height:var(--rtk-space-5, 20px);cursor:pointer}.header .danger{--tw-text-opacity:1;color:rgba(var(--rtk-colors-danger, 255 45 45) / var(--tw-text-opacity))}.header .hide{display:none}.header .rooms-container{display:flex;flex-grow:1;flex-direction:row;align-items:center;justify-content:flex-end}.header input{--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-background-800, 30 30 30) / var(--tw-bg-opacity));padding:var(--rtk-space-1, 4px);color:rgb(var(--rtk-colors-text-900, 255 255 255 / 0.88));max-width:var(--rtk-space-36, 144px);font-size:14px;font-weight:500;border-radius:var(--rtk-border-radius-sm, 4px);border-width:var(--rtk-border-width-none, 0);border-style:none;outline:2px solid transparent;outline-offset:2px;border-bottom-width:var(--rtk-border-width-sm, 1px);border-style:solid;--tw-border-opacity:1;border-bottom-color:rgba(var(--rtk-colors-background-800, 30 30 30) / var(--tw-border-opacity))}.header input:disabled{overflow-x:visible;border-radius:var(--rtk-border-radius-none, 0);border-width:var(--rtk-border-width-none, 0);border-style:none;background-color:transparent}.header input:invalid{border-bottom-width:var(--rtk-border-width-sm, 1px);border-style:dashed;--tw-border-opacity:1;border-bottom-color:rgba(var(--rtk-colors-danger, 255 45 45) / var(--tw-border-opacity))}.header input.editing-enabled{--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-background-900, 26 26 26) / var(--tw-bg-opacity))}.header .participant-count{display:flex;align-items:center;font-size:14px;color:rgb(var(--rtk-colors-text-900, 255 255 255 / 0.88))}.header .participant-count rtk-icon{margin:var(--rtk-space-0, 0px);margin-right:var(--rtk-space-0\\.5, 2px);width:var(--rtk-space-3, 12px)}.header .assign-button{height:var(--rtk-space-6, 24px);--tw-text-opacity:1;color:rgba(var(--rtk-colors-brand-500, 33 96 253) / var(--tw-text-opacity));text-decoration-line:underline}.header .assign-button:hover{--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-background-800, 30 30 30) / var(--tw-bg-opacity))}.participant-list{display:grid;flex-grow:1;grid-template-columns:repeat(2, minmax(0, 1fr));gap:var(--rtk-space-2, 8px);margin-top:var(--rtk-space-2, 8px);margin-bottom:var(--rtk-space-2, 8px);width:100%;border-radius:var(--rtk-border-radius-sm, 4px)}.participant-list::-webkit-scrollbar{width:var(--rtk-space-1\\.5, 6px)}.participant-list::-webkit-scrollbar-thumb{border-radius:var(--rtk-border-radius-sm, 4px);--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}.participant-list::-webkit-scrollbar-track{border-radius:var(--rtk-border-radius-sm, 4px);--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-background-800, 30 30 30) / var(--tw-bg-opacity))}.participant-item{display:flex;align-items:center;justify-content:space-between;margin-right:var(--rtk-space-2, 8px);height:-moz-fit-content;height:fit-content;padding-left:var(--rtk-space-2, 8px);padding-right:var(--rtk-space-2, 8px)}.participant-item:hover{border-radius:var(--rtk-border-radius-sm, 4px);--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}.selector-mode:hover .show-on-hover{display:flex}.message-container{margin:var(--rtk-space-0, 0px);display:flex;width:100%;padding-top:var(--rtk-space-2, 8px);padding-bottom:var(--rtk-space-2, 8px)}.message-container p{margin-top:var(--rtk-space-0, 0px);margin-bottom:var(--rtk-space-0, 0px);height:var(--rtk-space-20, 80px);display:flex;width:100%;align-items:center;justify-content:center;border-radius:var(--rtk-border-radius-sm, 4px);font-size:12px;color:rgb(var(--rtk-colors-text-700, 255 255 255 / 0.64));border-style:dashed;--tw-border-opacity:1;border-color:rgba(var(--rtk-colors-background-600, 60 60 60) / var(--tw-border-opacity))}.message-container p:hover{--tw-border-opacity:1;border-color:rgba(var(--rtk-colors-brand-300, 73 124 253) / var(--tw-border-opacity));background-color:rgba(var(--rtk-colors-brand-500, 33 96 253) / 0.25)}.message-container .drop-zone-active{--tw-border-opacity:1;border-color:rgba(var(--rtk-colors-brand-300, 73 124 253) / var(--tw-border-opacity));background-color:rgba(var(--rtk-colors-brand-500, 33 96 253) / 0.25)}rtk-icon{height:var(--rtk-space-6, 24px);width:var(--rtk-space-6, 24px)}.show-on-hover{margin-left:var(--rtk-space-4, 16px);height:var(--rtk-space-4, 16px);width:var(--rtk-space-4, 16px);display:none}:host(:hover) .show-on-hover{display:flex}.peer-ui-container{position:relative;display:flex;align-items:center;gap:var(--rtk-space-2, 8px);height:var(--rtk-space-10, 40px);cursor:pointer;border-radius:var(--rtk-border-radius-sm, 4px);color:rgb(var(--rtk-colors-text-900, 255 255 255 / 0.88))}.peer-ui-container rtk-avatar{height:var(--rtk-space-7, 28px);width:var(--rtk-space-7, 28px);font-size:14px;color:rgb(var(--rtk-colors-text-1000, 255 255 255))}.peer-ui-container .name{font-size:14px;overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1}";var lt=function(t,r,e,a){var i,s=arguments.length,o=s<3?r:null===a?a=Object.getOwnPropertyDescriptor(r,e):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,r,e,a);else for(var n=t.length-1;n>=0;n--)(i=t[n])&&(o=(s<3?i(o):s>3?i(r,e,o):i(r,e))||o);return s>3&&o&&Object.defineProperty(r,e,o),o};const ht=class{constructor(r){t(this,r),this.onSelectedParticipantsUpdate=a(this,"selectedParticipantsUpdate",7),this.onAllToggled=a(this,"allParticipantsToggleUpdate",7),this.onParticipantsDragging=a(this,"participantsDragging",7),this.participantIds=[],this.iconPack=c,this.t=d(),this.search="",this.participantsToShow=[],this.selectedParticipantIds=[],this.isDragging=!1,this.onSearchInput=t=>{this.search=t.target.value},this.onDragStart=t=>{this.isDragging=!0,this.onParticipantsDragging.emit(!0),this.updateSelectedParticipants(t,!0)},this.onDragEnd=t=>{this.isDragging=!1,this.onParticipantsDragging.emit(!1),this.updateSelectedParticipants(t,!1)},this.onClick=t=>{const r=this.selectedParticipantIds.includes(h(t));this.updateSelectedParticipants(t,!r)},this.onToggleAll=t=>{const r=t?this.participantsToShow.map(h):[];this.onAllToggled.emit(r)}}connectedCallback(){this.meetingChanged(this.meeting),this.searchChanged(this.search)}disconnectedCallback(){}updateSelectedParticipants(t,r){const e=h(t);let a=[];a=r&&!this.selectedParticipantIds.includes(e)?[...this.selectedParticipantIds,e]:[...this.selectedParticipantIds.filter((t=>t!==e))],this.onSelectedParticipantsUpdate.emit(a)}meetingChanged(t){t&&this.getParticipants(this.search)}participantsChanged(){this.getParticipants(this.search)}searchChanged(t){this.getParticipants(t)}getParticipants(t){const r=l(this.meeting);this.participantsToShow=r.filter((r=>{var e;return this.participantIds.includes(h(r))&&(null!==(e=r.displayName)&&void 0!==e?e:"").toLowerCase().includes(t.toLowerCase())}))}renderPeer(t){const e=y(t.displayName||"");return r("div",{class:"peer-ui-container"},r("rtk-avatar",{participant:{name:t.displayName,picture:t.displayPictureUrl},size:"sm"}),r("p",{class:"name",title:e},_(e,16),this.meeting.self.userId===t.id&&` (${this.t("you")})`))}render(){return r(e,{key:"3d6466a85fa946d5c0d064d22431e3c7bf044787"},r("div",{key:"8626af199d5290ce595212817ee06c1ef00d91bf",class:"search-wrapper"},r("div",{key:"9ac706f201f5975b7d36b4dde7fd9504321b7d5f",class:"search",part:"search"},r("rtk-icon",{key:"0ccba51717c665364934ea1bfdd7eeea3c5e96b7",icon:this.iconPack.search,part:"search-icon",class:"search-icon"}),r("input",{key:"01c85631f3e1823d1ab384bad4a9efbd86514894",type:"search",autocomplete:"off",placeholder:this.t("search"),onInput:this.onSearchInput,part:"search-input"})),r("slot",{key:"9d3a00a2bd167d053025d979bb0a498028b664de",name:"shuffle-button"})),r("div",{key:"38defd0577bedacd300e8cb558b42727b7817420",class:"header"},r("div",{key:"e11f58aae66a50800625464b79517e59094e5f1d",class:"title-wrapper"},r("span",{key:"99ec80653bc7045fd08c4e95ac15f95dc3ca90ad"},this.t("breakout_rooms.main_room")),r("span",{key:"40617acc26b95df49c2f221846ee811046709908",class:"participant-count"},"(",r("rtk-icon",{key:"aa8c4c4281635c998ea7c254b611341fd28e65cc",icon:this.iconPack.people}),this.participantsToShow.length,")")),0!==this.selectedParticipantIds.length&&r("rtk-tooltip",{key:"ce8eb895411d27003cafccb8ed694851df0ec52e",label:this.t("breakout_rooms.select_all")},r("input",{key:"76ba09891936c9dfbfbd216f030c32b38c3160ee",type:"checkbox",checked:this.selectedParticipantIds.length===this.participantsToShow.length,onChange:t=>this.onToggleAll(!!t.target.checked)}))),r("div",{key:"2ac3f88bd10747f453a626837a8806072ccc283d",class:"ctr scrollbar",part:"container"},this.participantsToShow.length>0&&r("ul",{key:"01e08e47d7b52a1805561b3efc4e97713f542a4d",class:"participants",part:"participants"},this.participantsToShow.map((t=>r("li",{class:{"participant-item":!0,dragging:this.isDragging},onClick:()=>this.onClick(t),onDragStart:()=>this.onDragStart(t),onDragEnd:()=>this.onDragEnd(t),draggable:0===this.selectedParticipantIds.length,role:"listitem",key:t.id},this.renderPeer(t),!this.isDragging&&r("input",{type:"checkbox",class:{"hide-checkbox":0===this.selectedParticipantIds.length},checked:this.selectedParticipantIds.includes(h(t))}))))),0===this.participantsToShow.length&&this.search.length>0&&r("div",{key:"aa14388c88e230528364d906d97972abdb4a5d7c",class:"empty-message"},this.t("participants.errors.empty_results")),0===this.participantsToShow.length&&0===this.search.length&&r("div",{key:"0b10bd982a32001549df0d38cb76f0fcc112fb3d",class:"empty-room"},r("rtk-icon",{key:"bc7ce0cfa9f46e0d793f9b9a6b3866325963d017",icon:this.iconPack.people_checked,part:"search-icon",class:"search-icon"}),r("p",{key:"6ff4827b2df19620c677fdbf432669fd60200bb1"},this.t("breakout_rooms.all_assigned")),r("span",{key:"ea6e1b05bfaf16842687fbdf1b680cb64fe2a9ef"},this.t("breakout_rooms.empty_main_room")))))}static get watchers(){return{meeting:["meetingChanged"],participantIds:["participantsChanged"],search:["searchChanged"]}}};lt([R()],ht.prototype,"meeting",void 0),lt([R()],ht.prototype,"iconPack",void 0),lt([R()],ht.prototype,"t",void 0),ht.style=":host{line-height:initial;font-family:var(--rtk-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--rtk-space-0, 0px);padding:var(--rtk-space-0, 0px)}.scrollbar{scrollbar-width:thin;scrollbar-color:var(--rtk-scrollbar-color, rgb(var(--rtk-colors-background-600, 60 60 60)))\n    var(--rtk-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar{height:var(--rtk-space-1\\.5, 6px);width:var(--rtk-space-1\\.5, 6px);border-radius:9999px;background-color:var(--rtk-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar-thumb{border-radius:9999px;background-color:var(--rtk-scrollbar-color, rgb(var(--rtk-colors-background-600, 60 60 60)))}:host{display:flex;height:100%;flex-direction:column;font-size:14px}:host input[type='checkbox']{margin:var(--rtk-space-0, 0px);cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none;border-radius:var(--rtk-border-radius-sm, 4px);position:relative;height:var(--rtk-space-4, 16px);width:var(--rtk-space-4, 16px);border-width:var(--rtk-border-width-sm, 1px);border-style:solid;border-color:rgb(var(--rtk-colors-text-600, 255 255 255 / 0.52))}:host input[type='checkbox']:checked{--tw-border-opacity:1;border-color:rgba(var(--rtk-colors-brand-500, 33 96 253) / var(--tw-border-opacity));--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-brand-500, 33 96 253) / var(--tw-bg-opacity))}:host input[type='checkbox']:checked::before{position:absolute;top:1px;left:1px;height:var(--rtk-space-3, 12px);width:var(--rtk-space-3, 12px);background-color:rgb(var(--rtk-colors-text-1000, 255 255 255));content:'';clip-path:polygon(5% 60%, 35% 93%, 100% 19%, 86% 4%, 36% 62%, 19% 44%)}*{box-sizing:border-box}.participants{margin-top:var(--rtk-space-2, 8px);padding:var(--rtk-space-0, 0px)}.ctr{box-sizing:border-box;padding-top:var(--rtk-space-0, 0px);padding-bottom:var(--rtk-space-0, 0px);overflow-y:auto;flex-grow:1;flex-basis:0}.empty-message{margin-top:var(--rtk-space-10, 40px);margin-bottom:var(--rtk-space-10, 40px);text-align:center;font-size:14px;color:rgb(var(--rtk-colors-text-700, 255 255 255 / 0.64))}.empty-room{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:var(--rtk-space-2, 8px);height:100%;text-align:center;color:rgb(var(--rtk-colors-text-700, 255 255 255 / 0.64))}.empty-room rtk-icon{height:var(--rtk-space-7, 28px);width:var(--rtk-space-7, 28px)}.empty-room p{font-size:16px;font-weight:500;margin:var(--rtk-space-0, 0px)}.empty-room span{font-size:12px;color:rgb(var(--rtk-colors-text-600, 255 255 255 / 0.52))}.search-wrapper{margin-bottom:var(--rtk-space-1, 4px);display:flex;align-items:center;gap:var(--rtk-space-2, 8px)}.search{position:sticky;box-sizing:border-box;display:flex;align-items:center;border-radius:var(--rtk-border-radius-sm, 4px);--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-background-800, 30 30 30) / var(--tw-bg-opacity));margin-top:var(--rtk-space-0, 0px);margin-bottom:var(--rtk-space-0, 0px);height:var(--rtk-space-8, 32px)}.search .search-icon{margin-left:var(--rtk-space-2, 8px);margin-right:var(--rtk-space-2, 8px);height:var(--rtk-space-5, 20px);width:var(--rtk-space-5, 20px);color:rgb(var(--rtk-colors-text-600, 255 255 255 / 0.52))}.search input{box-sizing:border-box;width:100%;padding-right:var(--rtk-space-2, 8px);border-width:var(--rtk-border-width-none, 0);border-style:none;background-color:inherit;color:rgb(var(--rtk-colors-text-1000, 255 255 255));outline:2px solid transparent;outline-offset:2px;border-radius:var(--rtk-border-radius-sm, 4px);font-size:14px}.search input::-moz-placeholder{color:rgb(var(--rtk-colors-text-800, 255 255 255 / 0.76))}.search input::placeholder{color:rgb(var(--rtk-colors-text-800, 255 255 255 / 0.76))}.header{margin-left:var(--rtk-space-2, 8px);margin-right:var(--rtk-space-1\\.5, 6px);height:var(--rtk-space-9, 36px);padding-top:var(--rtk-space-3, 12px);padding-bottom:var(--rtk-space-3, 12px);padding-right:var(--rtk-space-0\\.5, 2px);border-bottom-width:var(--rtk-border-width-sm, 1px);border-top-width:var(--rtk-border-width-none, 0);border-right-width:var(--rtk-border-width-none, 0);border-left-width:var(--rtk-border-width-none, 0);border-style:solid;--tw-border-opacity:1;border-bottom-color:rgba(var(--rtk-colors-background-600, 60 60 60) / var(--tw-border-opacity));font-size:12px;color:rgb(var(--rtk-colors-text-900, 255 255 255 / 0.88));display:flex;align-items:center;justify-content:space-between}.title-wrapper{display:flex;align-items:center;gap:var(--rtk-space-2, 8px)}.participant-count{display:flex;align-items:center;font-size:14px}.participant-count rtk-icon{margin-right:var(--rtk-space-0\\.5, 2px);width:var(--rtk-space-3, 12px)}.participant-item{display:flex;align-items:center;justify-content:space-between;margin-top:var(--rtk-space-1, 4px);margin-bottom:var(--rtk-space-1, 4px);border-radius:var(--rtk-border-radius-sm, 4px);padding-left:var(--rtk-space-2, 8px);padding-right:var(--rtk-space-2, 8px);cursor:pointer}.participant-item input.hide-checkbox{display:none}.participant-item input:checked{display:inline-block}.dragging input{display:none}.participant-item:hover{--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}.participant-item:hover input{display:inline-block}.peer-ui-container{position:relative;display:flex;align-items:center;gap:var(--rtk-space-2, 8px);height:var(--rtk-space-10, 40px);cursor:pointer;border-radius:var(--rtk-border-radius-sm, 4px);color:rgb(var(--rtk-colors-text-700, 255 255 255 / 0.64))}.peer-ui-container rtk-avatar{height:var(--rtk-space-7, 28px);width:var(--rtk-space-7, 28px);font-size:14px;color:rgb(var(--rtk-colors-text-1000, 255 255 255))}.peer-ui-container .name{font-size:14px;overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1}";var pt=function(t,r,e,a){var i,s=arguments.length,o=s<3?r:null===a?a=Object.getOwnPropertyDescriptor(r,e):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,r,e,a);else for(var n=t.length-1;n>=0;n--)(i=t[n])&&(o=(s<3?i(o):s>3?i(r,e,o):i(r,e))||o);return s>3&&o&&Object.defineProperty(r,e,o),o};const bt=class{constructor(r){t(this,r),this.stateUpdate=a(this,"rtkStateUpdate",7),this.loading=!1,this.roomConfig={rooms:2,step:"room-config",mode:"create",applyingChanges:!1},this.assigningParticipants=!1,this.selectedParticipants=[],this.ephemeralStatusText="",this.isDragMode=!1,this.iconPack=c,this.t=d(),this.permissionsUpdateListener=()=>{this.permissions=this.meeting.self.permissions.connectedMeetings},this.updateLocalState=t=>{this.stateManager.updateCurrentState(t),this.draftState=this.stateManager.currentState,this.meeting.connectedMeetings.isActive&&(this.roomConfig=Object.assign(Object.assign({},this.roomConfig),{mode:"edit"})),"create"!==this.roomConfig.mode||this.meeting.connectedMeetings.isActive||p(),["edit","view"].includes(this.roomConfig.mode)&&(this.roomConfig=Object.assign(Object.assign({},this.roomConfig),{rooms:t.meetings.length,step:"participants-config"}),this.selectedParticipants=[])},this.onAddNewRoom=()=>{this.stateManager.addNewMeeting(),this.draftState=this.stateManager.currentState,this.selectorRef.scrollTo({top:this.selectorRef.scrollHeight,behavior:"smooth"})},this.onRoomUpdate=t=>{const{detail:r}=t;this.stateManager.updateMeetingTitle(r.id,r.title),this.draftState=this.stateManager.currentState},this.onRoomDelete=t=>{this.stateManager.allConnectedMeetings.find((r=>r.id===t))&&(this.stateManager.deleteMeeting(t),this.draftState=this.stateManager.currentState)},this.unassignParticipant=t=>{this.stateManager.unassignParticipants([t]),this.draftState=this.stateManager.currentState},this.onUnassignAll=()=>{this.stateManager.unassignAllParticipants(),this.draftState=this.stateManager.currentState},this.assignParticipantsToRoom=t=>{0!==this.selectedParticipants.length&&0!=this.assigningParticipants&&(this.stateManager.assignParticipantsToMeeting(this.selectedParticipants,t),this.draftState=this.stateManager.currentState,this.selectedParticipants=[],this.assigningParticipants=!1,this.setEphemeralStatus(this.t("breakout_rooms.ephemeral_status.participants_assigned")))},this.handleClose=(t,r)=>{t.emit({activeBreakoutRoomsManager:{active:!0}}),r.activeBreakoutRoomsManager={active:!0}},this.enableConfirmationModal=(t="start-breakout")=>{let r={active:!0,header:"breakout_rooms.confirm_modal.start_breakout.header",content:"breakout_rooms.confirm_modal.start_breakout.content",variant:"primary",cancelText:"breakout_rooms.confirm_modal.start_breakout.cancelText",ctaText:"breakout_rooms.confirm_modal.start_breakout.ctaText",onClick:()=>this.applyChanges(),onClose:this.handleClose};"close-breakout"===t&&(r={active:!0,header:"breakout_rooms.confirm_modal.close_breakout.header",content:"breakout_rooms.confirm_modal.close_breakout.content",variant:"danger",cancelText:"cancel",ctaText:"breakout_rooms.confirm_modal.close_breakout.ctaText",onClick:()=>this.closeBreakout(),onClose:this.handleClose}),this.stateUpdate.emit({activeBreakoutRoomsManager:{active:!1},activeConfirmationModal:r})},this.close=()=>{this.stateManager.discardChanges(),this.stateUpdate.emit({activeBreakoutRoomsManager:{active:!1}})},this.applyChanges=async()=>{this.roomConfig=Object.assign(Object.assign({},this.roomConfig),{applyingChanges:!0}),await this.stateManager.applyChanges(this.meeting),this.close(),this.roomConfig=Object.assign(Object.assign({},this.roomConfig),{applyingChanges:!1})}}onSelectedParticipantsChanged(t){this.assigningParticipants=t.length>0}connectedCallback(){this.permissionsUpdateListener(),this.meeting.connectedMeetings.on("stateUpdate",this.updateLocalState),this.meeting.connectedMeetings.on("changingMeeting",this.close),this.meeting.self.permissions.on("permissionsUpdate",this.permissionsUpdateListener),this.stateManager=new b,this.fetchRoomState()}disconnectedCallback(){this.meeting.connectedMeetings.off("stateUpdate",this.updateLocalState),this.meeting.connectedMeetings.off("changingMeeting",this.close),this.meeting.self.permissions.off("permissionsUpdate",this.permissionsUpdateListener)}async fetchRoomState(){this.loading=!0,await this.meeting.connectedMeetings.getConnectedMeetings(),this.loading=!1}setEphemeralStatus(t){this.ephemeralStatusText=t,setTimeout((()=>{this.ephemeralStatusText=""}),3e3)}onCreateRooms(){this.selectedParticipants=[],this.stateManager.addNewMeetings(this.roomConfig.rooms),this.draftState=this.stateManager.currentState,this.roomConfig=Object.assign(Object.assign({},this.roomConfig),{step:"participants-config"})}onParticipantDelete(t){const{detail:r}=t,e=h(r);null!=e&&this.unassignParticipant(e)}toggleDragMode(t){this.isDragMode=t.detail}assignParticipantsRandomly(){0!==this.stateManager.unassignedParticipants.length&&(this.stateManager.assignParticipantsRandomly(),this.draftState=this.stateManager.currentState,this.setEphemeralStatus(this.t("breakout_rooms.ephemeral_status.participants_assigned_randomly")))}async joinRoom(t){const r=h(this.meeting.self);this.stateManager.assignParticipantsToMeeting([r],t),await this.applyChanges()}async closeBreakout(){this.stateManager.allConnectedMeetings.forEach((t=>this.stateManager.deleteMeeting(t.id))),await this.applyChanges()}updateSelectedParticipants(t){this.selectedParticipants=t.detail}updateAllParticipants(t){this.selectedParticipants=t.detail}getStatusText(){if(""!==this.ephemeralStatusText)return this.ephemeralStatusText;let t="";return"create"===this.roomConfig.mode&&(t=this.t("breakout_rooms.status.assign_multiple"),0!==this.selectedParticipants.length&&(t=this.t("breakout_rooms.status.select_room"))),t}getApproxDistribution(){return Math.max(1,Math.round(this.stateManager.unassignedParticipants.length/(this.roomConfig.rooms||1)))}deselectAll(){this.selectedParticipants=[]}async discardChanges(){this.stateManager.discardChanges(),await this.fetchRoomState(),this.setEphemeralStatus(this.t("breakout_rooms.ephemeral_status.changes_discarded"))}shouldShowOnlyRoomSwitcher(){return!1===this.permissions.canAlterConnectedMeetings}getPermittedRooms(){return this.permissions.canAlterConnectedMeetings||this.permissions.canSwitchConnectedMeetings?this.stateManager.allConnectedMeetings:this.stateManager.allConnectedMeetings.filter((t=>t.id===this.meeting.meta.meetingId))}renderMainRoomMaybe(){return this.meeting.connectedMeetings.isActive&&this.permissions.canSwitchToParentMeeting?r("rtk-breakout-room-manager",{key:this.stateManager.currentState.parentMeeting.id,assigningParticipants:this.assigningParticipants,isDragMode:this.isDragMode,meeting:this.meeting,mode:this.roomConfig.mode,onParticipantsAdd:()=>this.assignParticipantsToRoom(this.stateManager.currentState.parentMeeting.id),onRoomJoin:()=>this.joinRoom(this.stateManager.currentState.parentMeeting.id),onUpdate:this.onRoomUpdate,states:this.states,room:Object.assign({},this.stateManager.currentState.parentMeeting),iconPack:this.iconPack,t:this.t}):null}renderRoomSwitcher(){return r(e,null,r("div",{class:"room-switcher-container"},r("header",null,r("rtk-icon",{icon:this.iconPack.breakout_rooms}),r("span",null,this.t("breakout_rooms.join_breakout_header"))),r("div",{class:"rooms",ref:t=>this.selectorRef=t},this.renderMainRoomMaybe(),this.getPermittedRooms().map(((t,e)=>r("rtk-breakout-room-manager",{key:t.id,assigningParticipants:this.assigningParticipants,isDragMode:this.isDragMode,defaultExpanded:0===e,meeting:this.meeting,mode:this.roomConfig.mode,onDelete:()=>this.onRoomDelete(t.id),onParticipantsAdd:()=>this.assignParticipantsToRoom(t.id),onRoomJoin:()=>this.joinRoom(t.id),states:this.states,room:Object.assign({},t),iconPack:this.iconPack,t:this.t,allowDelete:!1}))))))}renderLoading(){return r(e,null,r("div",{class:"loading-content"},r("rtk-spinner",{size:"xl"})))}renderRoomConfig(){return r(e,null,r("div",{class:"room-config"},r("header",null,r("rtk-icon",{icon:this.iconPack.breakout_rooms}),r("span",null,this.t("breakout_rooms.room_config_header"))),r("div",{class:"create-room"},r("p",null,this.t("breakout_rooms.num_of_rooms")),r("rtk-counter",{value:this.roomConfig.rooms,minValue:1,iconPack:this.iconPack,t:this.t,onValueChange:t=>{this.roomConfig=Object.assign(Object.assign({},this.roomConfig),{rooms:Math.max(+t.detail,1)})}})),r("span",{class:"distribution-hint"},`${this.t("breakout_rooms.approx")} `," ",r("em",null,this.getApproxDistribution()," ",this.t("breakout_rooms.participants_per_room"))," ",this.t("breakout_rooms.division_text")),r("footer",null,r("rtk-button",{kind:"button",size:"lg",title:this.t("create"),disabled:0===this.roomConfig.rooms,onClick:()=>this.onCreateRooms()},this.t("create")))))}render(){return this.loading?this.renderLoading():this.shouldShowOnlyRoomSwitcher()?this.renderRoomSwitcher():"room-config"===this.roomConfig.step?this.renderRoomConfig():r(e,null,r("div",{class:"participant-config-wrapper"},r("div",{class:"participant-config"},r("aside",{part:"menu"},r("header",null,this.t("breakout_rooms.assign_participants")),r("rtk-breakout-room-participants",{meeting:this.meeting,iconPack:this.iconPack,t:this.t,participantIds:this.stateManager.unassignedParticipants.map(h),selectedParticipantIds:this.selectedParticipants},r("rtk-tooltip",{label:this.t("breakout_rooms.shuffle_participants"),slot:"shuffle-button"},r("rtk-button",{disabled:"edit"===this.roomConfig.mode||0===this.stateManager.unassignedParticipants.length,kind:"button",variant:"secondary",size:"md",onClick:()=>this.assignParticipantsRandomly(),class:"shuffle-button br-primary-btn"},r("rtk-icon",{icon:this.iconPack.shuffle})))),0!==this.selectedParticipants.length&&r("div",{class:"participants-assign-actions"},r("span",null,`${this.selectedParticipants.length} ${this.t("breakout_rooms.selected")}`),r("rtk-button",{disabled:"edit"===this.roomConfig.mode,kind:"button",variant:"ghost",size:"md",onClick:()=>this.deselectAll(),class:"deselect-button color-danger"},this.t("breakout_rooms.deselect")))),r("div",{class:"assign-rooms"},r("div",{class:"row"},r("p",{class:"row-header"},this.t("breakout_rooms.rooms")," (",this.stateManager.allConnectedMeetings.length,")"),!this.assigningParticipants&&r("div",{class:"cta-buttons"},r("rtk-button",{kind:"button",variant:"secondary",class:"br-primary-btn"},r("div",{onClick:this.onAddNewRoom},r("rtk-icon",{icon:this.iconPack.add}),this.t("breakout_rooms.add_room"))),0!==this.stateManager.allConnectedMeetings.flatMap((t=>t.participants)).length&&r("rtk-button",{kind:"button",variant:"ghost",onClick:this.onUnassignAll},this.t("breakout_rooms.unassign_all")))),r("div",{class:"rooms",ref:t=>this.selectorRef=t},this.renderMainRoomMaybe(),this.getPermittedRooms().map(((t,e)=>r("rtk-breakout-room-manager",{key:t.id,assigningParticipants:this.assigningParticipants,isDragMode:this.isDragMode,defaultExpanded:0===e,meeting:this.meeting,mode:this.roomConfig.mode,onDelete:()=>this.onRoomDelete(t.id),onParticipantsAdd:()=>this.assignParticipantsToRoom(t.id),onRoomJoin:()=>this.joinRoom(t.id),onUpdate:this.onRoomUpdate,states:this.states,room:Object.assign({},t),iconPack:this.iconPack,t:this.t,allowDelete:this.stateManager.allConnectedMeetings.length>1}))),r("rtk-button",{kind:"button",variant:"secondary",onClick:this.onAddNewRoom,class:"add-room-jumbo-btn br-secondary-btn"},r("div",null,r("rtk-icon",{icon:this.iconPack.add}),r("span",null,this.t("breakout_rooms.add_room_brief"))))))),r("div",{class:"participant-config-actions"},r("div",{class:{"status-bar":!0,"ephemeral-status":""!==this.ephemeralStatusText}},""!==this.ephemeralStatusText&&r("rtk-icon",{icon:this.iconPack.checkmark}),this.getStatusText()),r("div",{class:"breakout-actions"},"create"===this.roomConfig.mode&&this.permissions.canAlterConnectedMeetings&&r("rtk-button",{size:"md",class:"start-breakout-button",onClick:()=>this.enableConfirmationModal("start-breakout")},this.t("breakout_rooms.start_breakout")),"edit"===this.roomConfig.mode&&this.stateManager.hasLocalChanges&&this.permissions.canAlterConnectedMeetings&&r("rtk-button",{size:"md",class:"color-danger",variant:"ghost",onClick:()=>this.discardChanges()},this.t("breakout_rooms.discard_changes")),"edit"===this.roomConfig.mode&&this.stateManager.hasLocalChanges&&this.permissions.canAlterConnectedMeetings&&r("rtk-button",{size:"md",class:"update-breakout-button",onClick:this.applyChanges},this.t("breakout_rooms.update_breakout")),"edit"===this.roomConfig.mode&&!this.stateManager.hasLocalChanges&&this.permissions.canAlterConnectedMeetings&&r("rtk-button",{size:"md",class:"close-breakout-button",onClick:()=>this.enableConfirmationModal("close-breakout")},this.t("breakout_rooms.close_breakout"))))))}static get watchers(){return{selectedParticipants:["onSelectedParticipantsChanged"]}}};pt([R()],bt.prototype,"meeting",void 0),pt([R()],bt.prototype,"states",void 0),pt([R()],bt.prototype,"iconPack",void 0),pt([R()],bt.prototype,"t",void 0),bt.style=":host{line-height:initial;font-family:var(--rtk-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--rtk-space-0, 0px);padding:var(--rtk-space-0, 0px)}.color-brand{--tw-text-opacity:1;color:rgba(var(--rtk-colors-brand-300, 73 124 253) / var(--tw-text-opacity))}.color-danger{--tw-text-opacity:1;color:rgba(var(--rtk-colors-danger, 255 45 45) / var(--tw-text-opacity))}.loading-content{height:var(--rtk-space-60, 240px);width:var(--rtk-space-96, 384px);padding:var(--rtk-space-9, 36px);--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-background-1000, 8 8 8) / var(--tw-bg-opacity));display:flex;align-items:center;justify-content:center}.room-config{overflow:hidden;border-radius:var(--rtk-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-background-1000, 8 8 8) / var(--tw-bg-opacity));display:flex;flex-direction:column;width:var(--rtk-space-96, 384px);padding-left:var(--rtk-space-9, 36px);padding-right:var(--rtk-space-9, 36px);padding-top:var(--rtk-space-10, 40px);padding-bottom:var(--rtk-space-10, 40px)}header{margin-bottom:var(--rtk-space-8, 32px);display:flex;align-items:center;gap:var(--rtk-space-2, 8px);font-size:24px;font-weight:600}header rtk-icon{height:var(--rtk-space-7, 28px);width:var(--rtk-space-7, 28px)}.create-room{margin-bottom:var(--rtk-space-4, 16px);display:flex;align-items:center;gap:var(--rtk-space-3, 12px);width:100%}.create-room p{margin:var(--rtk-space-0, 0px);margin-bottom:var(--rtk-space-1, 4px);font-size:16px}.distribution-hint{margin-bottom:var(--rtk-space-8, 32px);font-size:14px;font-weight:400;color:rgb(var(--rtk-colors-text-600, 255 255 255 / 0.52))}.distribution-hint em{font-style:normal;color:rgb(var(--rtk-colors-text-800, 255 255 255 / 0.76))}footer{display:flex;flex-direction:row;vertical-align:middle;justify-content:center}footer rtk-button{width:100%;color:rgb(var(--rtk-colors-text-1000, 255 255 255))}label{margin-bottom:var(--rtk-space-3, 12px);font-weight:400;color:rgb(var(--rtk-colors-text-1000, 255 255 255));opacity:0.4}.participant-config-wrapper{width:850px;min-height:595px;max-width:100%;max-height:100%;border-radius:var(--rtk-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-background-900, 26 26 26) / var(--tw-bg-opacity));display:flex;flex-direction:column}.participant-config-actions{display:flex;justify-content:space-between;padding-left:var(--rtk-space-8, 32px);padding-right:var(--rtk-space-8, 32px);padding-top:var(--rtk-space-5, 20px);padding-bottom:var(--rtk-space-5, 20px);border-bottom-right-radius:var(--rtk-border-radius-md, 8px);border-bottom-left-radius:var(--rtk-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-background-1000, 8 8 8) / var(--tw-bg-opacity))}.participant-config{display:flex;flex-grow:1;flex-direction:row;overflow:hidden}aside{box-sizing:border-box;display:flex;width:var(--rtk-space-96, 384px);flex-grow:1;flex-direction:column;padding-left:var(--rtk-space-8, 32px);padding-right:var(--rtk-space-4, 16px);border-right-width:var(--rtk-border-width-sm, 1px);border-top-width:var(--rtk-border-width-none, 0);border-bottom-width:var(--rtk-border-width-none, 0);border-left-width:var(--rtk-border-width-none, 0);border-style:solid;--tw-border-opacity:1;border-right-color:rgba(var(--rtk-colors-background-600, 60 60 60) / var(--tw-border-opacity))}aside header{margin-bottom:var(--rtk-space-4, 16px);width:100%;padding-left:var(--rtk-space-0, 0px);padding-right:var(--rtk-space-0, 0px);padding-top:var(--rtk-space-8, 32px);font-size:20px;font-weight:500;line-height:2rem}.shuffle-button{display:flex;flex-direction:row;align-items:center}.shuffle-button rtk-icon{height:var(--rtk-space-8, 32px)}.participants-assign-actions{display:flex;flex-direction:row;align-items:center;justify-content:space-between;font-size:14px;padding-left:var(--rtk-space-8, 32px);padding-right:var(--rtk-space-2, 8px);margin-left:calc(var(--rtk-space-8, 32px) * -1);margin-right:calc(var(--rtk-space-4, 16px) * -1);padding-top:var(--rtk-space-0\\.5, 2px);padding-bottom:var(--rtk-space-0\\.5, 2px);--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-background-700, 44 44 44) / var(--tw-bg-opacity))}.participants-assign-actions .deselect-button{height:var(--rtk-space-6, 24px)}.participants-assign-actions .deselect-button:hover{--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-background-700, 44 44 44) / var(--tw-bg-opacity))}.assign-rooms{padding:var(--rtk-space-8, 32px);display:flex;width:100%;flex-direction:column}.assign-rooms .disabled{opacity:0.2}.assign-rooms .back{display:flex;cursor:pointer;flex-direction:row;align-items:center;justify-content:flex-start;padding:var(--rtk-space-4, 16px);padding-bottom:var(--rtk-space-0, 0px);font-size:14px;color:rgb(var(--rtk-colors-text-800, 255 255 255 / 0.76))}.assign-rooms .back rtk-icon{height:var(--rtk-space-5, 20px)}.assign-rooms .row{display:flex;flex-direction:row;align-items:center;justify-content:flex-start;gap:var(--rtk-space-3, 12px);margin-bottom:var(--rtk-space-4, 16px);font-size:14px}.assign-rooms .row-header{margin:var(--rtk-space-0, 0px);font-size:16px;line-height:2rem}.assign-rooms .cta-buttons{display:flex;align-items:center;justify-content:flex-start;gap:var(--rtk-space-2, 8px)}.assign-rooms .cta-buttons rtk-button div{display:flex;flex-direction:row;align-items:center}.assign-rooms .cta-buttons rtk-button div rtk-icon{height:var(--rtk-space-4, 16px);width:var(--rtk-space-4, 16px)}.rooms{margin-bottom:var(--rtk-space-2, 8px);padding-right:var(--rtk-space-1, 4px);display:flex;flex-grow:1;flex-direction:column;gap:var(--rtk-space-2, 8px);overflow-y:auto;max-height:500px}.rooms::-webkit-scrollbar{width:var(--rtk-space-1\\.5, 6px);border-radius:var(--rtk-border-radius-sm, 4px)}.rooms::-webkit-scrollbar-thumb{border-radius:var(--rtk-border-radius-sm, 4px);--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}.rooms::-webkit-scrollbar-track{border-radius:var(--rtk-border-radius-sm, 4px);--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-background-800, 30 30 30) / var(--tw-bg-opacity))}.breakout-actions{display:flex;flex-direction:row;align-items:center;justify-content:flex-end;gap:var(--rtk-space-2, 8px)}.breakout-actions .start-breakout-button{color:rgb(var(--rtk-colors-text-1000, 255 255 255))}.breakout-actions .close-breakout-button{color:rgb(var(--rtk-colors-text-1000, 255 255 255));--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-danger, 255 45 45) / var(--tw-bg-opacity))}.breakout-actions .update-breakout-button{background-color:transparent;--tw-text-opacity:1;color:rgba(var(--rtk-colors-brand-500, 33 96 253) / var(--tw-text-opacity));border-width:var(--rtk-border-width-sm, 1px);border-style:solid;--tw-border-opacity:1;border-color:rgba(var(--rtk-colors-brand-500, 33 96 253) / var(--tw-border-opacity))}.status-bar{display:flex;align-items:center;font-size:14px;color:rgb(var(--rtk-colors-text-700, 255 255 255 / 0.64));width:var(--rtk-space-80, 320px)}.ephemeral-status{--tw-text-opacity:1;color:rgba(var(--rtk-colors-success, 98 165 4) / var(--tw-text-opacity))}.ephemeral-status rtk-icon{height:var(--rtk-space-4, 16px);width:var(--rtk-space-4, 16px)}.room-switcher-container{border-radius:var(--rtk-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-background-1000, 8 8 8) / var(--tw-bg-opacity));width:468px;padding:var(--rtk-space-8, 32px)}.add-room-jumbo-btn div{display:flex;align-items:center;gap:var(--rtk-space-1, 4px);font-size:14px;--tw-text-opacity:1;color:rgba(var(--rtk-colors-brand-300, 73 124 253) / var(--tw-text-opacity))}.add-room-jumbo-btn div rtk-icon{height:var(--rtk-space-4, 16px);width:var(--rtk-space-4, 16px)}.br-primary-btn:not([disabled]){--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-background-800, 30 30 30) / var(--tw-bg-opacity))}.br-primary-btn:not([disabled]):hover{--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-brand-600, 13 81 253) / var(--tw-bg-opacity))}.br-secondary-btn:not([disabled]){--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-background-800, 30 30 30) / var(--tw-bg-opacity))}.br-secondary-btn:not([disabled]):hover{--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}";var gt=function(t,r,e,a){var i,s=arguments.length,o=s<3?r:null===a?a=Object.getOwnPropertyDescriptor(r,e):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,r,e,a);else for(var n=t.length-1;n>=0;n--)(i=t[n])&&(o=(s<3?i(o):s>3?i(r,e,o):i(r,e))||o);return s>3&&o&&Object.defineProperty(r,e,o),o};const kt=class{constructor(r){t(this,r),this.stateUpdate=a(this,"rtkStateUpdate",7),this.iconPack=c,this.t=d(),this.messagePayload={to:"Everyone",message:""},this.successMessage=!1}close(){var t;null===(t=this.stateUpdate)||void 0===t||t.emit({activeBroadcastMessageModal:!1})}sendMessage(){this.successMessage=!0,setTimeout((()=>{this.close()}),2e3)}render(){return r(e,{key:"4d23ce819f004fd0e14a4c9062e21f1321c46495"},r("div",{key:"f0814536068dd268c1aec9d80c45cc6817fe184b",class:"content-col"},r("h2",{key:"5b0caef4e9f93d1a18c7bba8a269f10d95f5d290"},"Broadcast message to"),r("select",{key:"8f32291fa522cf7a5947caf54178327e1574f103",onChange:t=>{this.messagePayload=Object.assign(Object.assign({},this.messagePayload),{to:t.target.value})}},r("option",{key:"b09bb9b952ade48788bf8ab15645a1a45dab6935"},"Everyone"),r("option",{key:"177d1af8eaeaa77393a9b2e477fca32563c05290"},"List of rooms")),r("textarea",{key:"b592528751cb63fa8c107b2b63455bfed0b3f3cb",placeholder:"Type message here...",onInput:t=>{this.messagePayload=Object.assign(Object.assign({},this.messagePayload),{message:t.target.value})}}),this.successMessage?r("p",null,"Message sent to ",this.messagePayload.to,r("rtk-icon",{icon:this.iconPack.checkmark})):r("div",{class:"content-row"},r("rtk-button",{onClick:()=>this.close(),variant:"secondary"},"Cancel"),"",r("rtk-button",{variant:"primary",onClick:()=>this.sendMessage()},"Send"))))}};gt([R()],kt.prototype,"meeting",void 0),gt([R()],kt.prototype,"states",void 0),gt([R()],kt.prototype,"iconPack",void 0),gt([R()],kt.prototype,"t",void 0),kt.style=":host{line-height:initial;font-family:var(--rtk-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--rtk-space-0, 0px);padding:var(--rtk-space-0, 0px)}:host{position:relative;display:flex;flex-direction:column;overflow:hidden;border-radius:var(--rtk-border-radius-md, 8px);padding:var(--rtk-space-4, 16px);width:100%;--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-background-800, 30 30 30) / var(--tw-bg-opacity));color:rgb(var(--rtk-colors-text-1000, 255 255 255));width:400px;max-width:80%}.content-col{display:flex;width:100%;flex-direction:column}h2{margin:var(--rtk-space-0, 0px);margin-bottom:var(--rtk-space-2, 8px)}.content-row{display:flex;width:100%;flex-direction:row}.content-row rtk-button{margin-top:var(--rtk-space-4, 16px);width:100%}textarea{margin-top:var(--rtk-space-3, 12px);resize:none;border-radius:var(--rtk-border-radius-sm, 4px);border-width:var(--rtk-border-width-none, 0);border-style:none;font-family:var(--rtk-font-family, sans-serif);outline:2px solid transparent;outline-offset:2px;height:var(--rtk-space-16, 64px);--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-background-700, 44 44 44) / var(--tw-bg-opacity));padding:var(--rtk-space-2, 8px);color:rgb(var(--rtk-colors-text-800, 255 255 255 / 0.76))}textarea::-moz-placeholder{color:rgb(var(--rtk-colors-text-600, 255 255 255 / 0.52))}textarea::placeholder{color:rgb(var(--rtk-colors-text-600, 255 255 255 / 0.52))}select{border-radius:var(--rtk-border-radius-sm, 4px);border-width:var(--rtk-border-width-none, 0);border-style:none;padding-top:var(--rtk-space-3, 12px);padding-bottom:var(--rtk-space-3, 12px);padding-left:var(--rtk-space-2, 8px);padding-right:var(--rtk-space-2, 8px);outline:2px solid transparent;outline-offset:2px;border-right-width:var(--rtk-border-width-md, 2px);border-style:solid;border-color:transparent;--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-background-700, 44 44 44) / var(--tw-bg-opacity));color:rgb(var(--rtk-colors-text-1000, 255 255 255))}p{margin:var(--rtk-space-0, 0px);margin-top:var(--rtk-space-2, 8px);width:100%;text-align:center;font-size:14px;--tw-text-opacity:1;color:rgba(var(--rtk-colors-brand-300, 73 124 253) / var(--tw-text-opacity));display:flex;flex-direction:row;align-items:center;justify-content:center}p rtk-icon{margin-left:var(--rtk-space-1, 4px);height:var(--rtk-space-5, 20px)}";const vt=class{constructor(r){t(this,r),this.variant="primary",this.kind="button",this.reverse=!1,this.disabled=!1,this.type="button"}render(){return r(e,{key:"0f96cef4ae77a2be8013fa5d62d39626734eeced"},r("button",{key:"8c06d5f5cc71779b8d56f31d2dd77b8d35e8b280",part:"button",type:this.type,disabled:this.disabled},r("span",{key:"ae741ddf8cc914f9493c26330b1f322541f64223",class:"start"},r("slot",{key:"18275dab42a4dd38b5a59463ffca227e4a6df3c8",name:"start"})),r("span",{key:"c2b912515b6edc2966c4cdb282c89022aa05c13f",class:"content",part:"content"},r("slot",{key:"5d87993198e16a3b5f38e62979fa2ee5637a059d"})),r("span",{key:"0bc907da23ea362f8ae0b3fdf88452b1c3881078",class:"end"},r("slot",{key:"0862eeefcfa5765ce605b99a04aab88222ed6e68",name:"end"}))))}static get delegatesFocus(){return!0}};vt.style=":host{line-height:initial;font-family:var(--rtk-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--rtk-space-0, 0px);padding:var(--rtk-space-0, 0px)}:host{--icon-size:var(--rtk-button-icon-size, var(--rtk-space-5, 20px));--transition-property:var(--rtk-transition-property, all);--transition-duration:100ms;display:inline-flex;height:var(--rtk-space-8, 32px);cursor:pointer;--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-brand-500, 33 96 253) / var(--tw-bg-opacity));color:rgb(var(--rtk-colors-text-1000, 255 255 255));font-size:14px;-webkit-user-select:none;-moz-user-select:none;user-select:none;border-radius:var(--rtk-border-radius-sm, 4px);transition-property:var(--transition-property);transition-duration:var(--transition-duration)}button{box-sizing:border-box;background-color:transparent;color:inherit;border:var(--rtk-border-width-sm, 1px) solid transparent;padding-left:var(--rtk-space-2, 8px);padding-right:var(--rtk-space-2, 8px);display:inline-flex;flex-grow:1;justify-content:center;vertical-align:baseline;gap:var(--rtk-space-1, 4px);transition-property:var(--transition-property);transition-duration:var(--transition-duration);outline:none;height:inherit;border-radius:inherit;fill:inherit;cursor:inherit;font-weight:inherit;font-family:inherit;font-size:inherit;line-height:inherit}.start,.content,.end{align-self:center}::slotted(rtk-icon),::slotted(rtk-spinner){height:var(--icon-size);width:var(--icon-size)}:host([variant='primary']){color:rgb(var(--rtk-colors-text-on-brand-1000, var(--rtk-colors-text-1000, 255 255 255)))}:host(:hover){--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-brand-600, 13 81 253) / var(--tw-bg-opacity))}button:focus-visible{border-color:rgb(var(--rtk-colors-text-1000, 255 255 255))}:host(:active){--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-brand-700, 2 70 253) / var(--tw-bg-opacity))}:host([disabled]:not([disabled='false'])){cursor:not-allowed;opacity:0.6}:host([variant='secondary']){--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}:host([variant='secondary']:hover){--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-background-800, 30 30 30) / var(--tw-bg-opacity))}:host([variant='secondary']:active){--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-background-900, 26 26 26) / var(--tw-bg-opacity))}:host([variant='danger']){--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-danger, 255 45 45) / var(--tw-bg-opacity))}:host([variant='danger']:hover){background-color:rgba(var(--rtk-colors-danger, 255 45 45) / 0.7)}:host([variant='danger']:active){--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-danger, 255 45 45) / var(--tw-bg-opacity))}:host([variant='ghost']){background-color:transparent;color:inherit}:host([variant='ghost'].active){--tw-text-opacity:1;color:rgba(var(--rtk-colors-brand-300, 73 124 253) / var(--tw-text-opacity))}:host([variant='ghost']:hover){--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}:host([variant='ghost']:active){--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-background-700, 44 44 44) / var(--tw-bg-opacity))}:host([kind='icon']){--icon-size:var(--rtk-space-5, 20px);width:var(--rtk-space-8, 32px)}:host([kind='icon']) button{padding-left:var(--rtk-space-0, 0px);padding-right:var(--rtk-space-0, 0px)}:host([kind='wide']){width:100%}:host([size='lg']){--icon-size:var(--rtk-space-5, 20px);height:var(--rtk-space-10, 40px);font-size:16px}:host([size='lg'][kind='icon']){--icon-size:var(--rtk-space-6, 24px);height:var(--rtk-space-10, 40px);width:var(--rtk-space-10, 40px)}:host([size='sm']){--icon-size:var(--rtk-space-4, 16px);height:var(--rtk-space-6, 24px);font-size:12px}:host([size='sm'][kind='icon']){height:var(--rtk-space-6, 24px);width:var(--rtk-space-6, 24px)}";var ut=function(t,r,e,a){var i,s=arguments.length,o=s<3?r:null===a?a=Object.getOwnPropertyDescriptor(r,e):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,r,e,a);else for(var n=t.length-1;n>=0;n--)(i=t[n])&&(o=(s<3?i(o):s>3?i(r,e,o):i(r,e))||o);return s>3&&o&&Object.defineProperty(r,e,o),o};const ft=class{constructor(e){t(this,e),this.stateUpdate=a(this,"rtkStateUpdate",7),this.switchChannel=a(this,"switchChannel",7),this.t=d(),this.iconPack=c,this.channelName="",this.searchQuery="",this.step=1,this.loading=!1,this.selectedMemberIds=new Set,this.focusedMemberIndex=-1,this.showAllMembersList=!1,this.allMembers=new Map,this.inputTextRef=null,this.searchInputTextRef=null,this.focusOnSearch=(t=!1)=>{this.focusedMemberIndex=-1,i((()=>{var r,e;null===(r=this.searchInputTextRef)||void 0===r||r.focus(),t&&(null===(e=this.searchInputTextRef)||void 0===e||e.select())}))},this.onClickHandler=async()=>{if(0!==this.channelName.length){if(1===this.step){const t=this.meeting.participants.all.toArray(),r=this.meeting.self.userId;return t.filter((t=>t.userId!==r)).forEach((t=>this.allMembers.set(t.userId,t))),this.step=2,void this.focusOnSearch()}await this.createChannel()}},this.createChannel=async()=>{const t=Array.from(this.selectedMemberIds),r=await this.meeting.chat.createChannel(this.channelName,t,{displayPictureUrl:"",visibility:"public",isDirectMessage:!1});this.switchChannel.emit(r.id),this.stateUpdate.emit({activeChannelCreator:!1})},this.onMemberAdd=t=>{this.showAllMembersList=!1,this.selectedMemberIds.add(t),this.searchQuery="",this.focusOnSearch()},this.keyDownHandler=(t,r)=>{if("ArrowDown"===t.key)this.focusedMemberIndex=Math.min(this.focusedMemberIndex+1,r.length-1);else if("ArrowUp"===t.key){if(-1===this.focusedMemberIndex)return;if(0===this.focusedMemberIndex)return void this.focusOnSearch(!0);this.focusedMemberIndex=Math.max(this.focusedMemberIndex-1,0)}else if("Enter"===t.key)this.onMemberAdd(r[this.focusedMemberIndex].userId);else if("Backspace"===t.key){if(0!==this.searchQuery.length)return;if(0===this.selectedMemberIds.size)return;const t=Array.from(this.selectedMemberIds.values()).at(-1);this.selectedMemberIds.delete(t),s(this.$el)}},this.renderMemberSelector=()=>{const t=Array.from(this.allMembers.values()).filter((t=>!this.selectedMemberIds.has(t.userId)&&t.name.toLowerCase().includes(this.searchQuery.toLowerCase()))),e=Array.from(this.selectedMemberIds.values()).map((t=>this.allMembers.get(t))),a=this.selectedMemberIds.size===this.allMembers.size;return r("div",{class:"input-container"},r("ul",{class:"members scrollbar",onClick:()=>{var t;null===(t=this.searchInputTextRef)||void 0===t||t.focus()}},e.map((t=>r("li",{class:"pill"},r("rtk-avatar",{participant:{name:t.name,picture:t.picture},size:"sm"}),r("span",null,t.name),r("rtk-icon",{icon:this.iconPack.dismiss,onClick:()=>{this.selectedMemberIds.delete(t.userId),s(this.$el),this.focusOnSearch()}})))),!a&&r("input",{type:"text",ref:t=>this.searchInputTextRef=t,value:this.searchQuery,placeholder:0===this.selectedMemberIds.size?this.t("chat.member_name"):"",class:{"wide-input":0===this.selectedMemberIds.size},onInput:t=>{this.searchQuery=t.target.value.trim()},onClick:()=>{this.showAllMembersList=!this.showAllMembersList},onKeyDown:r=>this.keyDownHandler(r,t)})),(0!==this.searchQuery.length||this.showAllMembersList)&&r("ul",{class:"search-results"},t.map(((t,e)=>r("li",{class:{member:!0,selected:e===this.focusedMemberIndex},onClick:()=>this.onMemberAdd(t.userId),ref:t=>{e===this.focusedMemberIndex&&i((()=>{t&&t.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})}))}},r("rtk-avatar",{participant:{name:t.name,picture:t.picture},size:"sm"}),r("span",null,t.name)))),0===t.length&&r("li",{class:"member"},r("span",null,this.t("chat.error.empty_results")))))}}componentDidLoad(){var t;null===(t=this.inputTextRef)||void 0===t||t.focus()}render(){return r(e,{key:"7d1b6bc07ef49de8075a25dec0f70b1f01d41222"},r("header",{key:"d0db6948cb2888043e6bb260f219570523398721"},this.t(1===this.step?"chat.new_channel":"chat.add_members")),1===this.step&&r("input",{key:"ebe47cfa27796197bc08a74e3e2d23e557325e30",class:"channel-name-input",type:"text",placeholder:this.t("chat.channel_name"),ref:t=>this.inputTextRef=t,onInput:t=>{this.channelName=t.target.value.trim()}}),2===this.step&&this.renderMemberSelector(),r("footer",{key:"c2a1b31a32bef53ced22b6d7267dba25173376cf"},r("rtk-button",{key:"2766a128dca00f5175545897e985ab9fe2a074b1",kind:"button",size:"lg",disabled:0===this.channelName.length,onClick:this.onClickHandler},this.t(1===this.step?"chat.add_members":"create"))))}get $el(){return o(this)}};ut([R()],ft.prototype,"meeting",void 0),ut([R()],ft.prototype,"t",void 0),ut([R()],ft.prototype,"iconPack",void 0),ft.style=":host{line-height:initial;font-family:var(--rtk-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--rtk-space-0, 0px);padding:var(--rtk-space-0, 0px)}.scrollbar{scrollbar-width:thin;scrollbar-color:var(--rtk-scrollbar-color, rgb(var(--rtk-colors-background-600, 60 60 60)))\n    var(--rtk-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar{height:var(--rtk-space-1\\.5, 6px);width:var(--rtk-space-1\\.5, 6px);border-radius:9999px;background-color:var(--rtk-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar-thumb{border-radius:9999px;background-color:var(--rtk-scrollbar-color, rgb(var(--rtk-colors-background-600, 60 60 60)))}:host{border-radius:var(--rtk-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-background-1000, 8 8 8) / var(--tw-bg-opacity));display:flex;flex-direction:column;width:var(--rtk-space-96, 384px);padding-left:var(--rtk-space-9, 36px);padding-right:var(--rtk-space-9, 36px);padding-top:var(--rtk-space-10, 40px);padding-bottom:var(--rtk-space-10, 40px)}header{margin-bottom:var(--rtk-space-8, 32px);display:flex;align-items:center;gap:var(--rtk-space-2, 8px);font-size:24px;font-weight:600}.channel-name-input{--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-background-900, 26 26 26) / var(--tw-bg-opacity));color:rgb(var(--rtk-colors-text-1000, 255 255 255));border-radius:var(--rtk-border-radius-sm, 4px);border-width:var(--rtk-border-width-none, 0);border-style:none;padding:var(--rtk-space-3, 12px);font-size:16px;-webkit-appearance:none;-moz-appearance:none;appearance:none;line-height:1.25;outline:2px solid transparent;outline-offset:2px}.channel-name-input:focus{outline-width:2px;outline-color:rgba(var(--rtk-colors-brand-300, 73 124 253) / 0.5)}footer{margin-top:var(--rtk-space-5, 20px);display:flex;justify-content:flex-end}.member{display:flex;align-items:center;gap:var(--rtk-space-1, 4px);padding:var(--rtk-space-2, 8px)}.member rtk-avatar{height:var(--rtk-space-5, 20px);width:var(--rtk-space-5, 20px);font-size:14px;color:rgb(var(--rtk-colors-text-1000, 255 255 255))}.input-container{position:relative;-webkit-appearance:none;-moz-appearance:none;appearance:none;line-height:1.25;outline:2px solid transparent;outline-offset:2px;outline-width:2px;outline-color:rgba(var(--rtk-colors-brand-300, 73 124 253) / 0.5);border-radius:var(--rtk-border-radius-sm, 4px)}.input-container .members{margin:var(--rtk-space-0, 0px);max-height:var(--rtk-space-28, 112px);border-radius:var(--rtk-border-radius-sm, 4px);padding:var(--rtk-space-2, 8px);list-style-type:none;display:flex;flex-wrap:wrap;gap:var(--rtk-space-1, 4px);cursor:text;font-size:16px;--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-background-900, 26 26 26) / var(--tw-bg-opacity));overflow-y:auto;min-height:var(--rtk-space-7, 28px)}.input-container .pill{display:flex;align-items:center;gap:var(--rtk-space-1, 4px);border-radius:var(--rtk-border-radius-sm, 4px);padding:var(--rtk-space-2, 8px);--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-background-800, 30 30 30) / var(--tw-bg-opacity))}.input-container .pill rtk-avatar{height:var(--rtk-space-5, 20px);width:var(--rtk-space-5, 20px);font-size:14px;color:rgb(var(--rtk-colors-text-on-brand-1000, var(--rtk-colors-text-1000, 255 255 255)))}.input-container .pill span{max-width:var(--rtk-space-32, 128px);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.input-container .pill rtk-icon{height:var(--rtk-space-4, 16px);width:var(--rtk-space-4, 16px);cursor:pointer}.input-container input{width:var(--rtk-space-24, 96px);border-radius:var(--rtk-border-radius-sm, 4px);border-width:var(--rtk-border-width-none, 0);border-style:none;padding:var(--rtk-space-1, 4px);--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-background-900, 26 26 26) / var(--tw-bg-opacity));color:rgb(var(--rtk-colors-text-1000, 255 255 255));outline:2px solid transparent;outline-offset:2px;font-size:16px;line-height:1.25rem}.input-container input.wide-input{width:100%}.search-results{margin:var(--rtk-space-0, 0px);margin-top:var(--rtk-space-1, 4px);max-height:var(--rtk-space-28, 112px);width:100%;padding:var(--rtk-space-0, 0px);position:absolute;list-style-type:none;overflow-y:auto;--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-background-900, 26 26 26) / var(--tw-bg-opacity));border-radius:var(--rtk-border-radius-md, 8px);--tw-border-spacing-x:var(--rtk-space-2, 8px);--tw-border-spacing-y:var(--rtk-space-2, 8px);border-spacing:var(--tw-border-spacing-x) var(--tw-border-spacing-y);border-style:solid;border-color:rgba(var(--rtk-colors-brand-300, 73 124 253) / 0.5)}.search-results .member{cursor:pointer}.search-results .member rtk-avatar{color:rgb(var(--rtk-colors-text-on-brand-1000, var(--rtk-colors-text-1000, 255 255 255)))}.search-results .member:hover,.search-results .member.selected{--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-brand-700, 2 70 253) / var(--tw-bg-opacity));color:rgb(var(--rtk-colors-text-on-brand-1000, var(--rtk-colors-text-1000, 255 255 255)))}";var mt=function(t,r,e,a){var i,s=arguments.length,o=s<3?r:null===a?a=Object.getOwnPropertyDescriptor(r,e):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,r,e,a);else for(var n=t.length-1;n>=0;n--)(i=t[n])&&(o=(s<3?i(o):s>3?i(r,e,o):i(r,e))||o);return s>3&&o&&Object.defineProperty(r,e,o),o};const xt=class{constructor(r){t(this,r),this.t=d(),this.iconPack=c,this.members=[]}renderMembers(){return r("ul",{class:"scrollbar"},this.members.map((t=>r("li",null,r("rtk-avatar",{participant:{name:t.name,picture:t.picture},size:"sm"}),r("span",null,t.name)))))}render(){return r(e,{key:"cc8b22dae541a200e63d0d6b286f7ad380a53f09"},r("header",{key:"e481f5db77f40f53cac0c6aeae28752ddab505cb"},this.t("chat.channel_members")),this.renderMembers())}};mt([R()],xt.prototype,"t",void 0),mt([R()],xt.prototype,"iconPack",void 0),xt.style=":host{line-height:initial;font-family:var(--rtk-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--rtk-space-0, 0px);padding:var(--rtk-space-0, 0px)}.scrollbar{scrollbar-width:thin;scrollbar-color:var(--rtk-scrollbar-color, rgb(var(--rtk-colors-background-600, 60 60 60)))\n    var(--rtk-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar{height:var(--rtk-space-1\\.5, 6px);width:var(--rtk-space-1\\.5, 6px);border-radius:9999px;background-color:var(--rtk-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar-thumb{border-radius:9999px;background-color:var(--rtk-scrollbar-color, rgb(var(--rtk-colors-background-600, 60 60 60)))}:host{border-radius:var(--rtk-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-background-1000, 8 8 8) / var(--tw-bg-opacity));display:flex;flex-direction:column;width:var(--rtk-space-72, 288px);padding-top:var(--rtk-space-5, 20px);padding-bottom:var(--rtk-space-5, 20px);padding-left:var(--rtk-space-8, 32px);padding-right:var(--rtk-space-8, 32px)}header{font-size:20px}rtk-spinner{margin-top:var(--rtk-space-10, 40px);margin-bottom:var(--rtk-space-10, 40px);margin-left:auto;margin-right:auto}ul{margin-left:var(--rtk-space-0, 0px);margin-right:var(--rtk-space-0, 0px);margin-top:var(--rtk-space-6, 24px);margin-bottom:var(--rtk-space-4, 16px);height:var(--rtk-space-48, 192px);padding:var(--rtk-space-0, 0px);overflow-y:auto;list-style-type:none;display:flex;flex-direction:column;gap:var(--rtk-space-2, 8px)}ul li{margin-right:var(--rtk-space-2, 8px);display:flex;align-items:center;gap:var(--rtk-space-2, 8px);padding:var(--rtk-space-2, 8px);cursor:pointer;border-radius:var(--rtk-border-radius-sm, 4px)}ul li:hover{--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}ul li rtk-avatar{height:var(--rtk-space-7, 28px);width:var(--rtk-space-7, 28px);font-size:14px;color:rgb(var(--rtk-colors-text-1000, 255 255 255))}";var wt=function(t,r,e,a){var i,s=arguments.length,o=s<3?r:null===a?a=Object.getOwnPropertyDescriptor(r,e):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,r,e,a);else for(var n=t.length-1;n>=0;n--)(i=t[n])&&(o=(s<3?i(o):s>3?i(r,e,o):i(r,e))||o);return s>3&&o&&Object.defineProperty(r,e,o),o};const yt=class{constructor(r){t(this,r),this.search=a(this,"search",7),this.searchDismissed=a(this,"searchDismissed",7),this.back=a(this,"back",7),this.iconPack=c,this.t=d(),this.showChannelDetailsDialog=!1,this.showSearchBar=!1,this.members=[],this.showBackButton=!1}onChannelChanged(){this.$searchInput&&(this.$searchInput.value=""),this.showSearchBar=!1,this.channel.isDirectMessage||this.meeting.chat.getChannelMembers(this.channel.id).then((t=>{this.members=t}))}connectedCallback(){this.onChannelChanged()}renderChannelDetails(){return r("rtk-dialog",{open:!0,onRtkDialogClose:()=>{this.showChannelDetailsDialog=!1},iconPack:this.iconPack,t:this.t},r("rtk-channel-details",{members:this.members,channel:this.channel}))}render(){return this.channel?r(e,null,this.showChannelDetailsDialog&&this.renderChannelDetails(),r("header",{class:{searching:this.showSearchBar}},this.showBackButton&&r("rtk-button",{kind:"icon",variant:"secondary",class:"back-btn",onClick:()=>{this.back.emit()}},r("rtk-icon",{icon:this.iconPack.chevron_left})),r("div",{class:"channel-details"},r("span",{class:"name"},this.channel.displayName),!this.channel.isDirectMessage&&r("span",{class:"members"},this.members.map((t=>t.name)).join(", "))),r("div",{class:"channel-tools"},!this.channel.isDirectMessage&&r("rtk-tooltip",{label:this.t("chat.channel_members"),variant:"primary"},r("rtk-button",{kind:"button",variant:"secondary",size:"md",onClick:()=>{this.showChannelDetailsDialog=!this.showChannelDetailsDialog},class:"br-primary-btn"},r("rtk-icon",{icon:this.iconPack.people})))))):null}static get watchers(){return{channel:["onChannelChanged"]}}};wt([R()],yt.prototype,"meeting",void 0),wt([R()],yt.prototype,"iconPack",void 0),wt([R()],yt.prototype,"t",void 0),yt.style="header{box-sizing:border-box;height:var(--rtk-space-16, 64px);width:100%;padding:var(--rtk-space-4, 16px);display:flex;justify-content:space-between;--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-background-1000, 8 8 8) / var(--tw-bg-opacity));border-left-width:var(--rtk-border-width-none, 0);border-right-width:var(--rtk-border-width-none, 0);border-bottom-width:var(--rtk-border-width-sm, 1px);border-top-width:var(--rtk-border-width-none, 0);border-style:solid;--tw-border-opacity:1;border-bottom-color:rgba(var(--rtk-colors-background-800, 30 30 30) / var(--tw-border-opacity))}header.searching{justify-content:flex-end}header.searching .channel-details{display:none}header .channel-details{display:flex;flex-grow:1;flex-direction:column;justify-content:center;height:var(--rtk-space-9, 36px);width:var(--rtk-space-1, 4px)}header .channel-details .name{font-weight:500}header .channel-details .members{margin-top:var(--rtk-space-0\\.5, 2px);overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:12px;color:rgb(var(--rtk-colors-text-600, 255 255 255 / 0.52))}header .channel-tools{display:flex;flex-shrink:0;justify-content:flex-end;gap:var(--rtk-space-1, 4px);min-width:var(--rtk-space-24, 96px)}header .channel-tools rtk-tooltip{height:var(--rtk-space-8, 32px);width:var(--rtk-space-10, 40px);display:flex}header .search-input{height:var(--rtk-space-8, 32px);width:var(--rtk-space-48, 192px);padding-left:var(--rtk-space-2, 8px);padding-right:var(--rtk-space-2, 8px);border-width:var(--rtk-border-width-none, 0);border-style:none;outline:2px solid transparent;outline-offset:2px;border-radius:var(--rtk-border-radius-sm, 4px);--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-background-800, 30 30 30) / var(--tw-bg-opacity));color:rgb(var(--rtk-colors-text-1000, 255 255 255))}header .name{font-size:16px}header .br-primary-btn{background-color:transparent}header .br-primary-btn:hover{--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-background-800, 30 30 30) / var(--tw-bg-opacity))}@media (orientation: landscape) and (min-width: 400px){header.searching .channel-details{display:flex}}.back-btn{margin-right:var(--rtk-space-3, 12px)}";var jt=function(t,r,e,a){var i,s=arguments.length,o=s<3?r:null===a?a=Object.getOwnPropertyDescriptor(r,e):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,r,e,a);else for(var n=t.length-1;n>=0;n--)(i=t[n])&&(o=(s<3?i(o):s>3?i(r,e,o):i(r,e))||o);return s>3&&o&&Object.defineProperty(r,e,o),o};const _t=class{constructor(r){t(this,r),this.channelChange=a(this,"channelChange",7),this.disableSearch=!1,this.hideAvatar=!1,this.iconPack=c,this.t=d(),this.viewAs="list",this.searchQuery="",this.showDropdown=!1,this.calculateListHeight=P((()=>{if("list"===this.viewAs&&this.$listEl){let t=0;const r=this.$el.shadowRoot.querySelector('slot[name="header"]');r&&r.assignedElements().forEach((r=>t+=r.offsetHeight)),this.$searchEl&&(t+=this.$searchEl.offsetHeight),this.$listEl.style.height=window.innerHeight-t-16+"px"}}),60),this.getFilteredChannels=()=>""===this.searchQuery.trim()?this.channels:this.channels.filter((t=>t.name.toLowerCase().includes(this.searchQuery.toLowerCase()))),this.toggleDropdown=()=>{this.showDropdown=!this.showDropdown},this.getChannelById=t=>this.channels.find((r=>r.id===t)),this.getTotalUnreads=()=>this.channels.reduce(((t,r)=>t+r.unreadCount),0),this.onChannelClickHandler=t=>{this.channelChange.emit(t),"dropdown"===this.viewAs&&(this.showDropdown=!1)}}connectedCallback(){this.resizeObserver=new ResizeObserver(this.calculateListHeight)}componentDidLoad(){this.resizeObserver.observe(this.$el),this.calculateListHeight()}disconnectedCallback(){var t;null===(t=this.resizeObserver)||void 0===t||t.disconnect(),this.calculateListHeight.cancel()}getTimeLabel(t){const r=new Date,e=new Date(r);e.setDate(r.getDate()-1);const a=new Date(r);return a.setDate(r.getDate()-r.getDay()-1),t.toDateString()===r.toDateString()?t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):t.toDateString()===e.toDateString()?this.t("date.yesteday"):t>a?this.t(["date.sunday","date.monday","date.tuesday","date.wednesday","date.thursday","date.friday","date.saturday"][t.getDay()]):Intl.DateTimeFormat([],{day:"2-digit",month:"2-digit",year:"2-digit"}).format(t)}render(){const t=this.getFilteredChannels(),a="list"===this.viewAs||"dropdown"===this.viewAs&&this.showDropdown;return r(e,{key:"adc8ab4b9c8c865998588fbd9766296f18b3e48e"},"list"===this.viewAs&&r("slot",{key:"e5740725a4349472ca2eb1fb0816eb2311a99838",name:"header"}),a&&r("div",{key:"425adc920c28e0421e07bb0bd9f61b31c42fcda9",class:{dropdown:"dropdown"===this.viewAs,scrollbar:"dropdown"===this.viewAs,list:"list"===this.viewAs}},!this.disableSearch&&r("div",{key:"9fbbc48d8489f2a6490729fac1fecdef1838e84a",class:"search-container",ref:t=>this.$searchEl=t},r("input",{key:"f7fb43662d50274f80380b735ef9f5fc0b215442",type:"text",placeholder:this.t("chat.search_conversations"),value:this.searchQuery,onInput:t=>this.searchQuery=t.target.value}),r("rtk-icon",{key:"af76e65a1397d2a6e557a28b687e26aef641c568",icon:this.iconPack.search})),r("div",{key:"0711a9cfcc811269a5020dc41030c0daee5cc8bf",class:"channels-container scrollbar",ref:t=>this.$listEl=t},t.map((t=>r("button",{class:{channel:!0,active:this.selectedChannelId===t.id},onClick:()=>this.onChannelClickHandler(t)},!this.hideAvatar&&r("div",null,t.icon?r("rtk-icon",{class:"avatar-icon",icon:this.iconPack[t.icon]}):r("rtk-avatar",{participant:{name:t.name,picture:t.avatarUrl}})),r("div",{class:"channel-data"},r("div",{class:"col"},r("div",{class:"name"},t.name),t.latestMessage&&r("div",{class:{"last-message":!0,"no-message":!t.latestMessage}},r("rtk-text-message-view",{isMarkdown:!0,text:t.latestMessage}))),r("div",{class:"col channel-meta"},t.latestMessageTime&&r("time",{class:"time"},this.getTimeLabel(t.latestMessageTime)),t.unreadCount>0&&r("div",{class:"unread-count"},t.unreadCount)))))))),"dropdown"===this.viewAs&&r("button",{key:"0c87f90d6d0fe22284995ab7259689f80a862829",class:"dropdown-trigger",onClick:this.toggleDropdown},r("span",{key:"d1a364f2c5c57d19702d0b8707ca661c1dc4c14f"},this.selectedChannelId&&`${this.t("to")} ${this.getChannelById(this.selectedChannelId).name}`,this.getTotalUnreads()>0&&r("div",{key:"bf789f9df82851825bc6ea12a19a5f37ab74aefe",class:"unread-count"},this.getTotalUnreads())),r("rtk-icon",{key:"c0d03f883f4c46b2698be0f197751fc0470717ea",icon:this.showDropdown?this.iconPack.chevron_up:this.iconPack.chevron_down})))}get $el(){return o(this)}};jt([R()],_t.prototype,"iconPack",void 0),jt([R()],_t.prototype,"t",void 0),_t.style=".scrollbar {\n  /* For Firefox */\n  scrollbar-width: thin;\n  scrollbar-color: var(--rtk-scrollbar-color, rgb(var(--rtk-colors-background-600, 60 60 60)))\n    var(--rtk-scrollbar-background, transparent);\n}\n\n/* For WebKit */\n.scrollbar::-webkit-scrollbar {\n  height: var(--rtk-space-1\\.5, 6px);\n  width: var(--rtk-space-1\\.5, 6px);\n  border-radius: 9999px;\n  background-color: var(--rtk-scrollbar-background, transparent);\n}\n\n.scrollbar::-webkit-scrollbar-thumb {\n  border-radius: 9999px;\n  background-color: var(--rtk-scrollbar-color, rgb(var(--rtk-colors-background-600, 60 60 60)));\n}\n\n\n:host {\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  --tw-bg-opacity: 1;\n  background-color: rgba(var(--rtk-colors-background-900, 26 26 26) / var(--tw-bg-opacity));\n  position: relative;\n  z-index: 10;\n  height: var(--rtk-space-12, 48px);\n  min-height: 48px;\n}\n\n.dropdown-trigger {\n  height: 100%;\n  width: 100%;\n  border-width: var(--rtk-border-width-none, 0);\n  border-style: none;\n  padding: var(--rtk-space-4, 16px);\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  --tw-bg-opacity: 1;\n  background-color: rgba(var(--rtk-colors-background-700, 44 44 44) / var(--tw-bg-opacity));\n  font-size: 14px;\n  color: rgb(var(--rtk-colors-text-1000, 255 255 255));\n  cursor: pointer;\n  position: absolute;\n  z-index: 20;\n}\n\n.dropdown-trigger span {\n  display: flex;\n  flex: 1 1 0%;\n  align-items: center;\n  justify-content: space-between;\n}\n\n.dropdown-trigger rtk-icon {\n  margin-left: var(--rtk-space-1, 4px);\n  height: var(--rtk-space-5, 20px);\n  width: var(--rtk-space-5, 20px);\n  flex-shrink: 0;\n}\n\n@container chatcontainer (height < 360px) {\n  .dropdown-trigger {\n    padding: var(--rtk-space-2, 8px);\n  }\n  .dropdown {\n    top: var(--rtk-space-8, 32px) !important;\n  }\n  .search-container {\n    padding-left: var(--rtk-space-0, 0px) !important;\n    padding-right: var(--rtk-space-0, 0px) !important;\n    padding-top: var(--rtk-space-0, 0px) !important;\n    padding-bottom: var(--rtk-space-0, 0px) !important;\n  }\n  input {\n    height: var(--rtk-space-8, 32px) !important;\n    border-radius: var(--rtk-border-radius-none, 0) !important;\n  }\n  .channel {\n    height: var(--rtk-space-8, 32px) !important;\n    border-radius: var(--rtk-border-radius-sm, 4px) !important;\n  }\n  .avatar-icon {\n    height: var(--rtk-space-3, 12px) !important;\n    width: var(--rtk-space-3, 12px) !important;\n    padding: var(--rtk-space-1, 4px) !important;\n  }\n\n  rtk-avatar {\n    height: var(--rtk-space-5, 20px) !important;\n    width: var(--rtk-space-5, 20px) !important;\n  }\n}\n\n.dropdown {\n  position: absolute;\n  width: 100%;\n  --tw-bg-opacity: 1;\n  background-color: rgba(var(--rtk-colors-background-900, 26 26 26) / var(--tw-bg-opacity));\n  top: var(--rtk-space-12, 48px);\n  z-index: 10;\n  animation: 0.3s slide-down ease;\n}\n\n.dropdown .channels-container {\n  max-height: var(--rtk-space-80, 320px);\n}\n\n.list {\n  display: flex;\n  flex-direction: column;\n}\n\n.list .channel .channel-data {\n  align-items: flex-start;\n}\n\n.unread-count {\n  display: flex;\n  justify-content: center;\n  height: var(--rtk-space-5, 20px);\n  min-width: var(--rtk-space-3, 12px);\n  border-radius: 9999px;\n  padding-left: var(--rtk-space-1, 4px);\n  padding-right: var(--rtk-space-1, 4px);\n  font-size: 12px;\n  line-height: 1.25rem;\n  --tw-bg-opacity: 1;\n  background-color: rgba(var(--rtk-colors-brand-500, 33 96 253) / var(--tw-bg-opacity));\n  color: rgb(var(--rtk-colors-text-on-brand-1000, var(--rtk-colors-text-1000, 255 255 255)));\n}\n\ninput {\n  height: var(--rtk-space-9, 36px);\n  width: 100%;\n  padding-left: var(--rtk-space-3, 12px);\n  padding-right: var(--rtk-space-3, 12px);\n  box-sizing: border-box;\n  border-width: var(--rtk-border-width-none, 0);\n  border-style: none;\n  outline: 2px solid transparent;\n  outline-offset: 2px;\n  border-radius: var(--rtk-border-radius-sm, 4px);\n  --tw-bg-opacity: 1;\n  background-color: rgba(var(--rtk-colors-background-600, 60 60 60) / var(--tw-bg-opacity));\n  color: rgb(var(--rtk-colors-text-1000, 255 255 255));\n}\n\n.search-container {\n  display: flex;\n  flex-shrink: 0;\n  flex-grow: 0;\n  flex-basis: auto;\n  align-items: center;\n  padding-top: var(--rtk-space-3, 12px);\n  padding-bottom: var(--rtk-space-3, 12px);\n  padding-left: var(--rtk-space-2, 8px);\n  padding-right: var(--rtk-space-2, 8px);\n  border-bottom: var(--rtk-border-width-sm, 1px) solid rgb(var(--rtk-colors-background-700, 44 44 44));\n}\n\n.search-container rtk-icon {\n  margin-left: calc(var(--rtk-space-8, 32px) * -1);\n  height: var(--rtk-space-5, 20px);\n  width: var(--rtk-space-5, 20px);\n  color: rgb(var(--rtk-colors-text-800, 255 255 255 / 0.76));\n}\n\n.channels-container {\n  display: flex;\n  flex-direction: column;\n  gap: var(--rtk-space-1, 4px);\n  padding: var(--rtk-space-2, 8px);\n  flex: 1 1 auto;\n  overflow-y: auto;\n}\n\n.channel {\n  flex-shrink: 0;\n  box-sizing: border-box;\n  border-width: var(--rtk-border-width-none, 0);\n  border-style: none;\n  background-color: transparent;\n  outline: 2px solid transparent;\n  outline-offset: 2px;\n  cursor: pointer;\n  border-radius: var(--rtk-border-radius-md, 8px);\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  gap: var(--rtk-space-2, 8px);\n  height: var(--rtk-space-16, 64px);\n  width: 100%;\n  padding-left: var(--rtk-space-2, 8px);\n  padding-right: var(--rtk-space-3, 12px);\n  color: rgb(var(--rtk-colors-text-1000, 255 255 255));\n  transition-property: color, background-color, border-color, text-decoration-color, fill, stroke;\n  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n  transition-duration: 150ms;\n}\n\n.channel:hover {\n  --tw-bg-opacity: 1;\n  background-color: rgba(var(--rtk-colors-background-600, 60 60 60) / var(--tw-bg-opacity));\n}\n\n.channel .channel-data {\n  flex: 1 1 0%;\n  align-items: center;\n  justify-content: space-between;\n  display: flex;\n  gap: var(--rtk-space-2, 8px);\n}\n\n.channel .name {\n  font-size: 16px;\n}\n\n.channel .name, \n  .channel .last-message {\n  max-width: var(--rtk-space-40, 160px);\n  text-align: left;\n  overflow: hidden;\n  display: -webkit-box;\n  -webkit-box-orient: vertical;\n  -webkit-line-clamp: 1;\n}\n\n.channel .no-message {\n  font-style: italic;\n}\n\n.channel rtk-avatar {\n  height: var(--rtk-space-12, 48px);\n  width: var(--rtk-space-12, 48px);\n  overflow: clip;\n  border-radius: 9999px;\n  font-size: 14px;\n}\n\n.channel .avatar-icon {\n  height: var(--rtk-space-6, 24px);\n  width: var(--rtk-space-6, 24px);\n  padding: var(--rtk-space-3, 12px);\n  color: rgb(var(--rtk-colors-text-on-brand-1000, var(--rtk-colors-text-1000, 255 255 255)));\n  overflow: clip;\n  border-radius: 9999px;\n  --tw-bg-opacity: 1;\n  background-color: rgba(var(--rtk-colors-brand-500, 33 96 253) / var(--tw-bg-opacity));\n}\n\n.channel time, \n  .channel .last-message {\n  font-size: 12px;\n  color: rgb(var(--rtk-colors-text-800, 255 255 255 / 0.76));\n}\n\n.channel.active {\n  --tw-bg-opacity: 1;\n  background-color: rgba(var(--rtk-colors-brand-300, 73 124 253) / var(--tw-bg-opacity));\n  color: rgb(var(--rtk-colors-text-on-brand-1000, var(--rtk-colors-text-1000, 255 255 255)));\n}\n\n.channel.active .unread-count {\n  background-color: rgb(var(--rtk-colors-text-on-brand-800, var(--rtk-colors-text-800, 255 255 255 / 0.76)));\n  --tw-text-opacity: 1;\n  color: rgba(var(--rtk-colors-brand-500, 33 96 253) / var(--tw-text-opacity));\n}\n\n.channel.active time {\n  color: rgb(var(--rtk-colors-text-on-brand-800, var(--rtk-colors-text-800, 255 255 255 / 0.76)));\n}\n\n.channel.active .last-message {\n  color: rgb(var(--rtk-colors-text-on-brand-700, var(--rtk-colors-text-700, 255 255 255 / 0.64)));\n}\n\n.channel.active rtk-avatar {\n  --tw-bg-opacity: 1;\n  background-color: rgba(var(--rtk-colors-brand-500, 33 96 253) / var(--tw-bg-opacity));\n  color: rgb(var(--rtk-colors-text-on-brand-1000, var(--rtk-colors-text-1000, 255 255 255)));\n}\n\n.col {\n  gap: var(--rtk-space-1, 4px);\n  display: flex;\n  flex-direction: column;\n}\n\n.channel-meta {\n  flex-shrink: 0;\n  align-items: flex-end;\n}\n\n@keyframes slide-down {\n  from {\n    transform: translateY(-50px);\n  }\n  to {\n    transform: translateY(0%);\n  }\n}\n";var Ct=function(t,r,e,a){var i,s=arguments.length,o=s<3?r:null===a?a=Object.getOwnPropertyDescriptor(r,e):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,r,e,a);else for(var n=t.length-1;n>=0;n--)(i=t[n])&&(o=(s<3?i(o):s>3?i(r,e,o):i(r,e))||o);return s>3&&o&&Object.defineProperty(r,e,o),o};const zt=class{constructor(e){t(this,e),this.stateUpdate=a(this,"rtkStateUpdate",7),this.chatUpdateListener=({message:t})=>{t.channelId||this.displayFilter&&!this.displayFilter(t)||(this.addToChatGroup(t),this.chatGroups=Object.assign({},this.chatGroups))},this.chatPermissionUpdateListener=()=>{this.canSend=this.meeting.self.permissions.chatPublic.canSend,this.canSendTextMessage=this.meeting.self.permissions.chatPublic.text,this.canSendFiles=this.meeting.self.permissions.chatPublic.files},this.config=g(),this.iconPack=c,this.t=d(),this.disablePrivateChat=!1,this.canPinMessages=!1,this.privatePresetFilter=[],this.displayFilter=void 0,this.unreadCountGroups={},this.chatGroups={everyone:[]},this.selectedGroup="everyone",this.now=new Date,this.dropzoneActivated=!1,this.showLatestMessageButton=!1,this.canSend=!1,this.canSendTextMessage=!1,this.canSendFiles=!1,this.canPrivateMessage=!1,this.canSendPrivateTexts=!1,this.canSendPrivateFiles=!1,this.emojiPickerEnabled=!1,this.chatRecipientId="everyone",this.participants=[],this.channels=[],this.editingMessage=null,this.replyMessage=null,this.searchQuery="",this.selectorState="hide",this.creatingChannel=!1,this.showPinnedMessages=!1,this.channelMap=new Map,this.onDragOver=t=>{t.preventDefault(),this.dropzoneActivated=!0},this.onDragLeave=()=>{this.dropzoneActivated=!1},this.onDrop=t=>{t.preventDefault(),this.dropzoneActivated=!1,O(t.dataTransfer.items,((t,r)=>{var e,a,i,s;switch(t){case"image":this.isFileMessagingAllowed()&&(null===(a=null===(e=this.meeting)||void 0===e?void 0:e.chat)||void 0===a||a.sendImageMessage(r,this.getRecipientPeerIds()));break;case"file":this.isFileMessagingAllowed()&&(null===(s=null===(i=this.meeting)||void 0===i?void 0:i.chat)||void 0===s||s.sendFileMessage(r,this.getRecipientPeerIds()))}}))},this.disconnectMeeting=t=>{var r,e,a,i,s,o;this.isPrivateChatSupported()&&(null==t||t.participants.joined.removeListener("participantJoined",this.onParticipantUpdate),null==t||t.participants.joined.removeListener("participantLeft",this.onParticipantUpdate)),null===(r=null==t?void 0:t.chat)||void 0===r||r.removeListener("chatUpdate",this.chatUpdateListener),null===(e=null==t?void 0:t.chat)||void 0===e||e.removeListener("channelCreate",this.onChannelCreateOrUpdate),null===(a=null==t?void 0:t.chat)||void 0===a||a.removeListener("channelUpdate",this.onChannelCreateOrUpdate),null===(i=null==t?void 0:t.chat)||void 0===i||i.removeListener("channelMessageUpdate",this.onChannelCreateOrUpdate),null===(o=null===(s=null==t?void 0:t.participants)||void 0===s?void 0:s.all)||void 0===o||o.removeListener("participantsUpdate",this.onChannelCreateOrUpdate),t.self.permissions.removeListener("*",this.chatPermissionUpdateListener)},this.getFilteredParticipants=()=>0===this.privatePresetFilter.length?this.participants:this.participants.filter((t=>this.privatePresetFilter.includes(t.presetName))),this.onParticipantUpdate=()=>{this.participants=this.meeting.participants.joined.toArray().filter((t=>0===this.privatePresetFilter.length||this.privatePresetFilter.includes(t.presetName))),this.selectedParticipant&&!this.participants.includes(this.selectedParticipant)&&(this.selectedParticipant=null,this.chatRecipientId=this.selectedGroup="everyone")},this.usePaginatedChat=()=>(!this.isGroupCall||!this.showPinnedMessages)&&"everyone"===this.selectedGroup&&k(this.meeting),this.updateUnreadCountGroups=t=>{this.unreadCountGroups=Object.assign(Object.assign({},this.unreadCountGroups),t)},this.isPrivateChatSupported=()=>this.canPrivateMessage&&!this.disablePrivateChat,this.updateRecipients=t=>{const{id:r}=t.detail;if(this.chatRecipientId=r,this.selectedParticipant=this.participants.find((t=>t.userId===r)),"everyone"!==this.chatRecipientId){const t=S([this.chatRecipientId,this.meeting.self.userId]);this.selectedGroup=t}else this.selectedGroup="everyone";this.updateUnreadCountGroups({[this.selectedGroup]:0})},this.isTextMessagingAllowed=()=>"everyone"===this.chatRecipientId?this.canSend&&this.canSendTextMessage:this.canPrivateMessage&&this.canSendPrivateTexts,this.isFileMessagingAllowed=()=>"everyone"===this.chatRecipientId?this.canSend&&this.canSendFiles:this.canPrivateMessage&&this.canSendPrivateFiles,this.onChannelChanged=t=>{const r=t.detail;r.id.includes(M)?this.createDMChannel(r.id.replace(M,"")):this.selectedChannelId=r.id,this.cleanup(),"desktop"!==this.selectorState&&(this.selectorState="hide")},this.createDMChannel=async t=>{this.creatingChannel=!0;const r=await this.meeting.chat.createChannel("Direct Message",[t],{visibility:"private",isDirectMessage:!0});this.creatingChannel=!1,this.selectedChannelId=r.id},this.cleanup=()=>{this.editingMessage=null,this.replyMessage=null,this.searchQuery=""},this.onQuotedMessageDismiss=()=>{this.replyMessage=null},this.onChannelCreateOrUpdate=t=>{t?this.channelMap.set(t.id,t):this.meeting.chat.channels.forEach((t=>this.channelMap.set(t.id,t)));const r=Array.from(this.channelMap.values()),e=r.filter((t=>!D(t))).sort(((t,r)=>$(t.displayName,r.displayName))),a=r.filter(D).map((t=>Object.assign(Object.assign({},t),{displayName:this.getMemberDisplayName(t)}))),i=this.meeting.participants.all.toArray().filter((t=>{if(t.userId===this.meeting.self.userId)return!1;const r=U([this.meeting.self.userId,t.userId]);return a.every((t=>U(t.memberIds)!==r))})).map((t=>({id:`${M}${t.userId}`,displayName:t.name,displayPictureUrl:t.picture,isDirectMessage:!0,unreadCount:0}))),s=[...a,...i].sort(((t,r)=>$(t.displayName,r.displayName)));this.channels=[...e,...s];const o=[...e,...a];this.selectedChannelId||0===o.length||(this.selectedChannelId=o[0].id)},this.getMemberDisplayName=t=>{var r;let e;e=1===t.memberIds.length?t.memberIds[0]:t.memberIds[0]===this.meeting.self.userId?t.memberIds[1]:t.memberIds[0];const a=this.meeting.participants.all.toArray().find((t=>t.userId===e));return null!==(r=null==a?void 0:a.name)&&void 0!==r?r:e},this.onNewMessageHandler=async t=>{const r=t.detail;this.isChatViewType?(await this.meeting.chat.sendMessageToChannel(r,this.selectedChannelId,this.replyMessage?{replyTo:this.replyMessage}:{}),this.replyMessage=null):this.meeting.chat.sendMessage(r,this.getRecipientPeerIds())},this.onEditMessageHandler=async t=>{var r,e;await(null===(e=null===(r=this.meeting)||void 0===r?void 0:r.chat)||void 0===e?void 0:e.editTextMessage(this.editingMessage.id,t.detail,this.editingMessage.channelId)),this.editingMessage=null},this.onEditCancel=()=>{this.editingMessage=null},this.onSearchHandler=async t=>{this.searchQuery=t.detail},this.onSearchDismissed=()=>{this.searchQuery=""},this.onChannelCreateClicked=()=>{this.stateUpdate.emit({activeChannelCreator:!0})},this.onPinMessage=t=>{const r=t.detail;r.pinned?this.meeting.chat.unpin(r.id):this.meeting.chat.pin(r.id)},this.onDeleteMessage=t=>{this.meeting.chat.deleteMessage(t.detail.id)},this.getChannelItems=()=>this.channels.map((t=>{const r={id:t.id,name:t.displayName,avatarUrl:t.displayPictureUrl};return t.latestMessage&&(r.latestMessage="text"===t.latestMessage.type?T(t.latestMessage.message):"",r.latestMessageTime=t.latestMessage.time),r})),this.getPrivateChatRecipients=()=>{const t=this.getFilteredParticipants().map((t=>{const r=S([t.userId,this.meeting.self.userId]);return{id:t.userId,name:t.name,avatarUrl:t.picture,unreadCount:this.unreadCountGroups[r]}}));return[{id:"everyone",name:this.t("chat.everyone"),icon:"participants",unreadCount:this.unreadCountGroups.everyone},...t]},this.onTogglePinnedMessages=()=>{this.showPinnedMessages=!this.showPinnedMessages},this.renderPinnedMessagesHeader=()=>0===this.meeting.chat.pinned.length?null:r("rtk-tooltip",{label:this.t("chat.toggle_pinned_msgs")},r("div",{class:{"pinned-messages-header":!0,active:this.showPinnedMessages},onClick:this.onTogglePinnedMessages},r("rtk-icon",{icon:this.iconPack.pin}),this.t("chat.pinned_msgs"),` (${this.meeting.chat.pinned.length})`))}connectedCallback(){this.meeting&&(this.meetingChanged(this.meeting),this.meeting&&!this.meeting.chat||this.isFileMessagingAllowed()&&(this.host.addEventListener("dragover",this.onDragOver),this.host.addEventListener("dragleave",this.onDragLeave),this.host.addEventListener("drop",this.onDrop)))}onEditMessageInit(t){t.detail.flags.isReply?this.replyMessage=t.detail.payload:t.detail.flags.isEdit&&(this.editingMessage=t.detail.payload)}disconnectedCallback(){var t;null===(t=this.resizeObserver)||void 0===t||t.disconnect(),this.disconnectMeeting(this.meeting),this.host.removeEventListener("dragover",this.onDragOver),this.host.removeEventListener("dragleave",this.onDragLeave),this.host.removeEventListener("drop",this.onDrop)}meetingChanged(t,r){var e,a,i,s,o,n;null!=r&&this.disconnectMeeting(r),t&&!t.chat||null==t||(this.canSend=t.self.permissions.chatPublic.canSend,this.canSendTextMessage=t.self.permissions.chatPublic.text,this.canSendFiles=t.self.permissions.chatPublic.files,this.canPrivateMessage=!(!(null===(e=t.self.permissions.chatPrivate)||void 0===e?void 0:e.canSend)&&!(null===(a=t.self.permissions.chatPrivate)||void 0===a?void 0:a.canReceive)),this.canSendPrivateTexts=!!(null===(i=t.self.permissions.chatPrivate)||void 0===i?void 0:i.text),this.canSendPrivateFiles=!!(null===(s=t.self.permissions.chatPrivate)||void 0===s?void 0:s.files),this.canPinMessages=(null===(o=null==t?void 0:t.__internals__)||void 0===o?void 0:o.features.hasFeature(v.PINNED_MESSAGES))&&t.self.permissions.pinParticipant,this.isGroupCall="GROUP_CALL"===t.meta.viewType,this.isChatViewType="CHAT"===t.meta.viewType,this.isChatViewType&&(this.onChannelCreateOrUpdate(),this.channels.filter((t=>!t.id.includes(M))).length&&(this.selectedChannelId=this.channels[0].id),this.resizeObserver&&this.resizeObserver.disconnect(),this.resizeObserver=new ResizeObserver((t=>{for(const r of t)this.selectorState=r.contentBoxSize[0].inlineSize<758?"hide":"desktop"})),this.isChatViewType&&this.resizeObserver.observe(this.host)),this.initializeChatGroups(),this.chatGroups=Object.assign({},this.chatGroups),t.self.permissions.on("*",this.chatPermissionUpdateListener),this.onParticipantUpdate(),null===(n=t.chat)||void 0===n||n.addListener("chatUpdate",this.chatUpdateListener),this.isPrivateChatSupported()&&(t.participants.joined.addListener("participantJoined",this.onParticipantUpdate),t.participants.joined.addListener("participantLeft",this.onParticipantUpdate)),this.isChatViewType&&(t.chat.addListener("channelCreate",this.onChannelCreateOrUpdate),t.chat.addListener("channelUpdate",this.onChannelCreateOrUpdate),t.chat.addListener("channelMessageUpdate",this.onChannelCreateOrUpdate),t.participants.all.addListener("participantsUpdate",this.onChannelCreateOrUpdate)))}chatGroupsChanged(t){var r,e;if(!this.isPrivateChatSupported())return;const a={};for(const i in t){const s=null!==(r=u[i])&&void 0!==r?r:0;a[i]=t[i].filter((t=>"chat"==t.type&&t.message.time>s&&t.message.userId!==this.meeting.self.userId)).length,(i===S([this.meeting.self.userId,null===(e=this.selectedParticipant)||void 0===e?void 0:e.userId])||"everyone"===i&&null===this.selectedParticipant)&&(a[i]=0,u[i]=new Date)}this.updateUnreadCountGroups(a)}initializeChatGroups(){var t;null===(t=this.meeting.chat)||void 0===t||t.messages.forEach((t=>{this.displayFilter&&!this.displayFilter(t)||this.addToChatGroup(t)}))}onDisplayFilterChanged(t,r){t!==r&&(this.chatGroups={},this.initializeChatGroups())}addToChatGroup(t){var r;const e=L(t);let a="everyone";if((null===(r=e.targetUserIds)||void 0===r?void 0:r.length)>0){const t=new Set([e.userId,...e.targetUserIds]);a=S(Array.from(t))}void 0===this.chatGroups[a]&&(this.chatGroups[a]=[]);let i=!1,s=[];this.chatGroups[a].forEach((r=>{"chat"===r.type&&r.message.id===t.id?(i=!0,s.push({type:"chat",message:e})):s.push(r)})),i||s.push({type:"chat",message:e}),this.chatGroups[a]=s}getRecipientPeerIds(){let t=[];return"everyone"!==this.chatRecipientId&&(t=[this.selectedParticipant.id]),t}channelSwitchListener(t){this.onChannelChanged(t)}renderHeadlessComponents(){return r(n,null,r("rtk-dialog-manager",{meeting:this.meeting}),r("rtk-notifications",{meeting:this.meeting}))}renderComposerUI(){var t,e,a;if(this.isChatViewType&&0===this.channels.length)return null;if(this.isChatViewType&&""!==this.searchQuery)return null;if(this.isChatViewType&&!this.selectedChannelId)return null;if("everyone"===this.chatRecipientId){if(!this.canSendTextMessage&&!this.canSendFiles)return null}else if(!this.canSendPrivateTexts&&!this.canSendPrivateFiles)return null;const i={iconPack:this.iconPack,t:this.t,size:this.size};return r("rtk-chat-composer-view",Object.assign({message:this.editingMessage?this.editingMessage.message:"",storageKey:null!==(t=this.selectedChannelId)&&void 0!==t?t:`draft-${this.selectedChannelId}`,quotedMessage:this.replyMessage?this.replyMessage.message:"",isEditing:!!this.editingMessage,canSendTextMessage:this.isTextMessagingAllowed(),canSendFiles:this.isFileMessagingAllowed(),disableEmojiPicker:!!(null===(a=null===(e=this.meeting)||void 0===e?void 0:e.__internals__)||void 0===a?void 0:a.features.hasFeature(v.DISABLE_EMOJI_PICKER)),maxLength:this.meeting.chat.maxTextLimit,rateLimits:this.meeting.chat.rateLimits,inputTextPlaceholder:this.t("chat.message_placeholder"),onNewMessage:this.onNewMessageHandler,onEditMessage:this.onEditMessageHandler,onEditCancel:this.onEditCancel,onQuotedMessageDismiss:this.onQuotedMessageDismiss},i),r("slot",{name:"chat-addon",slot:"chat-addon"}))}renderFullChat(){if(this.creatingChannel)return r("div",{class:"banner"},r("rtk-spinner",{size:"lg"}));if(0===this.channels.length||!this.selectedChannelId)return r("div",{class:"banner"},r("rtk-icon",{icon:this.iconPack.create_channel_illustration,slot:"start",class:"create-channel-illustration"}),r("rtk-button",{kind:"wide",variant:"primary",size:"md",onClick:this.onChannelCreateClicked,class:"welcome-new-channel"},r("rtk-icon",{icon:this.iconPack.add,slot:"start"}),r("span",null,this.t("chat.new_channel"))),("mobile"===this.selectorState||"hide"===this.selectorState)&&r("rtk-button",{kind:"button",variant:"secondary",size:"md",class:"view-chats-btn",onClick:()=>{this.selectorState="mobile"}},r("rtk-icon",{icon:this.iconPack.chat,slot:"start"}),r("span",null,this.t("chat.view_chats"))));const t=this.channels.find((t=>t.id===this.selectedChannelId));return r("div",{class:"chat"},r("rtk-channel-header",{slot:"header",meeting:this.meeting,channel:t,onSearch:this.onSearchHandler,onSearchDismissed:this.onSearchDismissed,showBackButton:"mobile"===this.selectorState||"hide"===this.selectorState,onBack:()=>{this.selectorState="mobile"}}),""!==this.searchQuery&&r("rtk-chat-search-results",{meeting:this.meeting,query:this.searchQuery,channelId:this.selectedChannelId}),""===this.searchQuery&&r("rtk-chat-messages-ui-paginated",{meeting:this.meeting,size:this.size,iconPack:this.iconPack,t:this.t,selectedChannelId:this.selectedChannelId,selectedChannel:t}))}render(){var t,a;if(!this.meeting)return null;const i={iconPack:this.iconPack,t:this.t,size:this.size},s=null===(t=this.meeting)||void 0===t?void 0:t.self.userId;let o=this.chatGroups[this.selectedGroup]||[];return this.showPinnedMessages&&0!==this.meeting.chat.pinned.length&&(o=o.filter((t=>"chat"===t.type&&t.message.pinned))),r(e,null,this.isChatViewType&&this.renderHeadlessComponents(),r("div",{class:"chat-container"},this.isChatViewType&&r("div",{class:{"selector-container":!0,[this.selectorState]:!0}},r("rtk-channel-selector-view",{channels:this.getChannelItems(),selectedChannelId:this.selectedChannelId,onChannelChange:this.onChannelChanged,t:this.t},r("div",{class:"channel-selector-header",slot:"header"},r("rtk-logo",{meeting:this.meeting,config:this.config,t:this.t}),r("rtk-tooltip",{label:this.t("chat.new_channel")},r("rtk-button",{kind:"button",variant:"ghost",size:"md",onClick:this.onChannelCreateClicked,class:"channel-create-btn"},r("rtk-icon",{icon:this.iconPack.add}))))),r("rtk-button",{kind:"icon",variant:"ghost",class:"mobile-close-btn",onClick:()=>this.selectorState="hide"},r("rtk-icon",{icon:this.iconPack.dismiss}))),r("div",{class:"chat"},this.isFileMessagingAllowed()&&r("div",{id:"dropzone",class:{active:this.dropzoneActivated},part:"dropzone"},r("rtk-icon",{icon:this.iconPack.attach}),r("p",null,this.t("chat.send_attachment"))),this.renderPinnedMessagesHeader(),this.isPrivateChatSupported()&&r("rtk-channel-selector-view",{channels:this.getPrivateChatRecipients(),selectedChannelId:(null===(a=this.selectedParticipant)||void 0===a?void 0:a.userId)||"everyone",onChannelChange:this.updateRecipients,t:this.t,viewAs:"dropdown"}),this.isChatViewType?this.renderFullChat():this.usePaginatedChat()?r("rtk-chat-messages-ui-paginated",{meeting:this.meeting,onPinMessage:this.onPinMessage,onDeleteMessage:this.onDeleteMessage,size:this.size,iconPack:this.iconPack,t:this.t}):r("rtk-chat-messages-ui",Object.assign({messages:o,selfUserId:s,selectedGroup:this.selectedGroup,onPinMessage:this.onPinMessage,canPinMessages:this.canPinMessages},i)),this.renderComposerUI())))}get host(){return o(this)}static get watchers(){return{meeting:["meetingChanged"],chatGroups:["chatGroupsChanged"],displayFilter:["onDisplayFilterChanged"]}}};Ct([R()],zt.prototype,"meeting",void 0),Ct([R()],zt.prototype,"config",void 0),Ct([R()],zt.prototype,"iconPack",void 0),Ct([R()],zt.prototype,"t",void 0),zt.style=":host {\n  line-height: initial;\n  font-family: var(--rtk-font-family, sans-serif);\n\n  font-feature-settings: normal;\n  font-variation-settings: normal;\n}\n\np {\n  margin: var(--rtk-space-0, 0px);\n  padding: var(--rtk-space-0, 0px);\n}\n\n.scrollbar {\n  /* For Firefox */\n  scrollbar-width: thin;\n  scrollbar-color: var(--rtk-scrollbar-color, rgb(var(--rtk-colors-background-600, 60 60 60)))\n    var(--rtk-scrollbar-background, transparent);\n}\n\n/* For WebKit */\n.scrollbar::-webkit-scrollbar {\n  height: var(--rtk-space-1\\.5, 6px);\n  width: var(--rtk-space-1\\.5, 6px);\n  border-radius: 9999px;\n  background-color: var(--rtk-scrollbar-background, transparent);\n}\n\n.scrollbar::-webkit-scrollbar-thumb {\n  border-radius: 9999px;\n  background-color: var(--rtk-scrollbar-color, rgb(var(--rtk-colors-background-600, 60 60 60)));\n}\n\n\n:host {\n  display: flex;\n  height: 100%;\n  width: 100%;\n  flex-direction: column;\n  font-size: 14px;\n  position: relative;\n  color: rgb(var(--rtk-colors-text-1000, 255 255 255));\n}\n\nh3 {\n  margin: var(--rtk-space-0, 0px);\n  display: flex;\n  height: var(--rtk-space-12, 48px);\n  align-items: center;\n  justify-content: center;\n  font-size: 16px;\n  font-weight: 400;\n  color: rgb(var(--rtk-colors-text-900, 255 255 255 / 0.88));\n  text-align: center;\n}\n\n#dropzone {\n  position: absolute;\n  top: var(--rtk-space-0, 0px);\n  right: var(--rtk-space-0, 0px);\n  bottom: var(--rtk-space-0, 0px);\n  left: var(--rtk-space-0, 0px);\n  z-index: 10;\n  display: none;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  --tw-bg-opacity: 1;\n  background-color: rgba(var(--rtk-colors-background-800, 30 30 30) / var(--tw-bg-opacity));\n  color: rgb(var(--rtk-colors-text-700, 255 255 255 / 0.64));\n}\n\n#dropzone.active {\n  display: flex;\n  animation: 0.2s slide-up ease-in;\n}\n\nrtk-chat-messages-ui,\nrtk-chat-messages-ui-paginated {\n  flex: 1 0 0;\n}\n\nrtk-chat-composer-view {\n  margin: var(--rtk-space-2, 8px);\n}\n\n.chat-container {\n  display: flex;\n  height: 100%;\n  width: 100%;\n  flex-direction: row;\n  container-type: size;\n  container-name: chatcontainer;\n}\n\n@container chatcontainer (height < 360px) {\n  rtk-channel-selector-view {\n    height: var(--rtk-space-8, 32px);\n    min-height: 24px;\n  }\n}\n\n.chat {\n  display: flex;\n  flex: 1 1 0%;\n  flex-direction: column;\n}\n\n.banner {\n  height: 100%;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n}\n\n.banner .welcome-new-channel {\n  width: var(--rtk-space-48, 192px);\n}\n\n.banner .create-channel-illustration {\n  height: var(--rtk-space-40, 160px);\n  width: var(--rtk-space-40, 160px);\n}\n\n.channel-selector-header {\n  box-sizing: border-box;\n  height: var(--rtk-space-16, 64px);\n  padding: var(--rtk-space-4, 16px);\n  display: flex;\n  justify-content: space-between;\n  border-bottom: var(--rtk-border-width-sm, 1px) solid rgb(var(--rtk-colors-background-700, 44 44 44));\n}\n\n.channel-selector-header .channel-create-btn {\n  width: var(--rtk-space-8, 32px);\n  justify-content: center;\n}\n\n.channel-selector-header .channel-create-btn:hover {\n  --tw-text-opacity: 1;\n  color: rgba(var(--rtk-colors-brand-300, 73 124 253) / var(--tw-text-opacity));\n}\n\n.view-chats-btn {\n  margin-top: var(--rtk-space-4, 16px);\n}\n\n.selector-container {\n  z-index: 50;\n  width: 100%;\n  max-width: var(--rtk-space-80, 320px);\n  border-right: var(--rtk-border-width-sm, 1px) solid rgb(var(--rtk-colors-background-600, 60 60 60));\n}\n\n.selector-container.hide {\n  display: none;\n}\n\n.mobile-close-btn {\n  display: none;\n}\n\n.selector-container.mobile {\n  height: 100%;\n  width: 100%;\n  max-width: 100%;\n  position: absolute;\n  top: var(--rtk-space-0, 0px);\n  right: var(--rtk-space-0, 0px);\n  bottom: var(--rtk-space-0, 0px);\n  left: var(--rtk-space-0, 0px);\n  background-color: rgba(var(--rtk-colors-background-1000, 8 8 8) / 0.6);\n  display: flex;\n}\n\n.selector-container.mobile rtk-channel-selector-view {\n  max-width: var(--rtk-space-96, 384px);\n    animation: 0.3s swipe-in;\n}\n\n.selector-container.mobile .mobile-close-btn {\n  margin-top: var(--rtk-space-4, 16px);\n  margin-bottom: var(--rtk-space-4, 16px);\n  margin-left: var(--rtk-space-6, 24px);\n  margin-right: var(--rtk-space-6, 24px);\n  display: block;\n}\n\n.pinned-messages-header {\n  display: flex;\n  align-items: center;\n  gap: var(--rtk-space-2, 8px);\n  padding: var(--rtk-space-2, 8px);\n  --tw-bg-opacity: 1;\n  background-color: rgba(var(--rtk-colors-background-600, 60 60 60) / var(--tw-bg-opacity));\n  font-size: 12px;\n  cursor: pointer;\n}\n\n.pinned-messages-header rtk-icon {\n  height: var(--rtk-space-3, 12px);\n  width: var(--rtk-space-3, 12px);\n}\n\n.pinned-messages-header:hover {\n  --tw-bg-opacity: 1;\n  background-color: rgba(var(--rtk-colors-brand-500, 33 96 253) / var(--tw-bg-opacity));\n}\n\n.pinned-messages-header.active {\n  --tw-bg-opacity: 1;\n  background-color: rgba(var(--rtk-colors-brand-500, 33 96 253) / var(--tw-bg-opacity));\n}\n\n@keyframes swipe-in {\n  from {\n    transform: translateX(-100%);\n  }\n  to {\n    transform: translateX(0);\n  }\n}\n";var Rt=function(t,r,e,a){var i,s=arguments.length,o=s<3?r:null===a?a=Object.getOwnPropertyDescriptor(r,e):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,r,e,a);else for(var n=t.length-1;n>=0;n--)(i=t[n])&&(o=(s<3?i(o):s>3?i(r,e,o):i(r,e))||o);return s>3&&o&&Object.defineProperty(r,e,o),o};const Pt={messagesSent:0,startTime:0},Ot=class{constructor(r){t(this,r),this.onNewMessage=a(this,"newMessage",7),this.onEditMessage=a(this,"editMessage",7),this.onEditCancel=a(this,"editCancel",7),this.onQuotedMessageDismiss=a(this,"quotedMessageDismiss",7),this.canSendTextMessage=!0,this.canSendFiles=!0,this.message="",this.quotedMessage="",this.storageKey="rtk-text-message",this.inputTextPlaceholder="Enter your message",this.isEditing=!1,this.iconPack=c,this.t=d(),this.disableEmojiPicker=!1,this.rateLimits={period:60,maxInvocations:60},this.fileToUpload=null,this.isEmojiPickerOpen=!1,this.disableSendButton=!1,this.rateLimitsBreached=!1,this.textMessage="",this.sendFile=()=>{this.canSendFiles&&(this.onNewMessage.emit("image"===this.fileToUpload.type?{type:"image",image:this.fileToUpload.file}:{type:"file",file:this.fileToUpload.file}),this.fileToUpload=null)},this.handleSendMessage=()=>{if(!this.canSendTextMessage||this.rateLimitsBreached)return;if(null!==this.fileToUpload)return void this.sendFile();const t=this.textMessage,r=Date.now();r-Pt.startTime>1e3*this.rateLimits.period&&(Pt.startTime=r,Pt.messagesSent=0),Pt.messagesSent+=1,this.checkRateLimitBreached(r),t.length>0&&(this.onNewMessage.emit({type:"text",message:t}),this.cleanup())},this.handleEditMessage=()=>{this.onEditMessage.emit(this.textMessage),this.cleanup()},this.handleEditCancel=()=>{this.onEditCancel.emit(),this.cleanup()},this.onTextChangeHandler=t=>{var r;this.textMessage=t.detail,this.textMessage.length>=(null!==(r=this.maxLength)&&void 0!==r?r:A)?this.disableSendButton=!0:this.disableSendButton&&(this.disableSendButton=!1),f.setItem(this.storageKey,t.detail)},this.onKeyDownHandler=t=>{"Enter"===t.key&&t.shiftKey||this.disableSendButton||"Enter"===t.key&&(t.preventDefault(),this.isEditing?this.handleEditMessage():this.handleSendMessage())},this.onFileUploadHandler=(t,r)=>{this.fileToUpload={type:t,file:r}},this.onQuotedMessageDismissHandler=()=>{this.onQuotedMessageDismiss.emit()},this.cleanup=()=>{this.textMessage="",this.fileToUpload=null,f.setItem(this.storageKey,""),this.$textComposer.setText("",!0),this.isEmojiPickerOpen=!1},this.onKeyDownHandler=this.onKeyDownHandler.bind(this)}connectedCallback(){this.textMessage=this.message||f.getItem(this.storageKey)||"",this.checkRateLimitBreached(Date.now())}componentWillUpdate(){this.textMessage=this.message||f.getItem(this.storageKey)||""}componentDidLoad(){this.message&&i((()=>this.$textComposer.setText(this.message,!0)))}checkRateLimitBreached(t){Pt.messagesSent>=this.rateLimits.maxInvocations&&(this.disableSendButton=!0,this.rateLimitsBreached=!0,setTimeout((()=>{Pt.messagesSent=0,Pt.startTime=Date.now(),this.disableSendButton=!1,this.rateLimitsBreached=!1}),t-Pt.startTime+1e3*this.rateLimits.period))}render(){var t;const a={iconPack:this.iconPack,t:this.t};return r(e,{key:"06455539e3067eb1c1c592b551d0ef99eba2f331"},this.canSendTextMessage&&this.isEmojiPickerOpen&&r("rtk-emoji-picker",Object.assign({key:"fe83b0ab9562cc0e1c61f89e4b441ef592edfa1a",part:"emoji-picker",onPickerClose:()=>{this.isEmojiPickerOpen=!1},onRtkEmojiClicked:t=>{this.textMessage+=t.detail,this.$textComposer.setText(this.textMessage,!0)}},a)),r("slot",{key:"8653c2e805e41adf5958941cc10ff01d43f97792",name:"chat-addon"}),this.quotedMessage&&0!==this.quotedMessage.length&&r("div",{key:"82b9bf5203a799709e980d61ab827b9daf8292e6",class:"quoted-message-container",part:"quoted-message-container"},r("div",{key:"4b9fe8f382da7075e815c329f2d7dca17ce0f694",class:"quoted-message scrollbar"},r("rtk-text-message-view",{key:"7a16547e83d9bca43794e46e56c5a9c743a9929a",text:this.quotedMessage,isMarkdown:!0})),r("div",{key:"5691b8d882016cda66cd2faf3858bc38cd53458c"},r("rtk-icon",{key:"2d5b222bd5eaac6d46812b704674f52f86efdb92","aria-label":this.t("dismiss"),class:"dismiss",icon:this.iconPack.dismiss,onClick:this.onQuotedMessageDismissHandler}))),r("div",{key:"d7638411df9ae1b2cbef8cae66d0af2b7ad310e6",class:"composer-container"},r("div",{key:"ca1ee222584fdd27e53989d28b6ce583c6b0c400",class:"composers"},this.fileToUpload&&r("rtk-draft-attachment-view",Object.assign({key:"d511c900c71a97f8f92640b73a7575dcd267de88"},a,{attachment:this.fileToUpload,onDeleteAttachment:()=>this.fileToUpload=null})),!this.fileToUpload&&r("rtk-text-composer-view",{key:"08f214184853dcedeccb5f07dac2a0a308269793",value:this.textMessage,placeholder:this.inputTextPlaceholder,onTextChange:this.onTextChangeHandler,keyDownHandler:this.onKeyDownHandler,maxLength:null!==(t=this.maxLength)&&void 0!==t?t:A,rateLimitBreached:this.rateLimitsBreached,t:this.t,iconPack:this.iconPack,ref:t=>this.$textComposer=t})),r("div",{key:"9b6cbe7cb8529c8e60f8cc9e13cc95ca64504efc",class:"chat-buttons",part:"chat-buttons"},r("div",{key:"30e24e8edf58179ef20ccd436d3833ba177ebb0d",class:"left",part:"chat-buttons-left"},!this.fileToUpload&&!this.isEditing&&r("div",{key:"54ad294bedab1c0bc7c02a72c4f3f51bc10bba85"},this.canSendFiles&&[r("rtk-file-picker-button",Object.assign({key:"1a0760e05a183b6c8da2ff02e33ecd40bfdb6e97"},a,{onFileChange:t=>this.onFileUploadHandler("file",t.detail)})),r("rtk-file-picker-button",Object.assign({key:"5d6cf1928c8edb6737b367807c93152ad62cea36",filter:"image/*",label:this.t("chat.send_img"),icon:"image",onFileChange:t=>this.onFileUploadHandler("image",t.detail)},a))],this.canSendTextMessage&&!this.disableEmojiPicker&&r("rtk-emoji-picker-button",Object.assign({key:"50f14152b8d15009104e9b1dd05ee5e1ec49ab16",isActive:this.isEmojiPickerOpen,onClick:()=>{this.isEmojiPickerOpen=!this.isEmojiPickerOpen}},a)),r("slot",{key:"1e1fe81e1e196fc8d679bfc2d6ed0c6402c74a4a",name:"chat-buttons"}))),r("div",{key:"272526b7c81ed1acd028beceb3869c584e94308f",class:"right",part:"chat-buttons-right"},!this.isEditing&&r("rtk-tooltip",{key:"6750abf323b2f1c951661c44390eb97d3ec71544",variant:"primary",label:this.t("chat.send_msg"),delay:2e3},r("rtk-button",{key:"a159fa6dcc1f8ede64085abd8286a69ad86b7002",kind:"icon",disabled:this.disableSendButton,onClick:()=>this.handleSendMessage(),title:this.t("chat.send_msg")},r("rtk-icon",{key:"bb26a3a7954727859f5566ecc60d746ac6700b7b",icon:this.iconPack.send}))),this.isEditing&&r("div",{key:"5ef512e3fc236510a518e76ce027f0c8fc1c9a0c",class:"edit-buttons"},r("rtk-tooltip",{key:"e18ae7567350d32b18a70de8cb2c1af0830353bc",variant:"secondary",label:this.t("cancel"),delay:2e3},r("rtk-button",{key:"4f4aa2e44308a393314ab95244c87a3b8d4b282c",kind:"icon",variant:"secondary",onClick:()=>this.handleEditCancel(),title:this.t("cancel")},r("rtk-icon",{key:"a4a99fe9ae34707cb63f63461a4728baf70e3e7a",icon:this.iconPack.dismiss}))),r("rtk-tooltip",{key:"789315dbf551ba74d004459981532fa9a467ac45",variant:"primary",label:this.t("chat.update_msg"),delay:2e3},r("rtk-button",{key:"61da43993c2da9b8bd00796544030e9b4cb45f12",kind:"icon",onClick:()=>this.handleEditMessage(),title:this.t("chat.send_msg")},r("rtk-icon",{key:"e45aab29b0f6553ed2d7f370a8817bdccdabe42e",icon:this.iconPack.checkmark}))))))))}};Rt([R()],Ot.prototype,"iconPack",void 0),Rt([R()],Ot.prototype,"t",void 0),Ot.style=":host {\n  display: flex;\n  flex-direction: column;\n  font-family: var(--rtk-font-family, sans-serif);\n  font-size: 14px;\n  position: relative;\n}\n\n.quoted-message-container {\n  margin-bottom: var(--rtk-space-2, 8px);\n  display: flex;\n  justify-content: space-between;\n  --tw-bg-opacity: 1;\n  background-color: rgba(var(--rtk-colors-background-800, 30 30 30) / var(--tw-bg-opacity));\n  color: rgb(var(--rtk-colors-text-1000, 255 255 255));\n  border-radius: var(--rtk-border-radius-md, 8px);\n  border: var(--rtk-border-width-sm, 1px) solid rgb(var(--rtk-colors-background-600, 60 60 60));\n}\n\n.quoted-message-container .quoted-message {\n  flex: 1 1 0%;\n  padding: var(--rtk-space-2, 8px);\n  border-radius: var(--rtk-border-radius-md, 8px);\n  max-height: var(--rtk-space-24, 96px);\n  overflow-y: auto;\n  word-break: break-all;\n}\n\n.quoted-message-container .quoted-message blockquote {\n  display: none;\n}\n\n.quoted-message-container rtk-icon.dismiss {\n  margin-left: auto;\n  height: var(--rtk-space-5, 20px);\n  width: var(--rtk-space-5, 20px);\n  padding: var(--rtk-space-2, 8px);\n  border-radius: var(--rtk-border-radius-md, 8px);\n  color: rgb(var(--rtk-colors-text-600, 255 255 255 / 0.52));\n}\n\n.quoted-message-container rtk-icon.dismiss:hover {\n  cursor: pointer;\n  color: rgb(var(--rtk-colors-text-1000, 255 255 255));\n}\n\n.quoted-message-container rtk-icon.dismiss {\n  transition-property: color, background-color, border-color, text-decoration-color, fill, stroke;\n  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n  transition-duration: 150ms;\n}\n\n.composer-container {\n  position: relative;\n  --tw-bg-opacity: 1;\n  background-color: rgba(var(--rtk-colors-background-800, 30 30 30) / var(--tw-bg-opacity));\n  border-radius: var(--rtk-border-radius-md, 8px);\n  overflow: hidden;\n  border: var(--rtk-border-width-sm, 1px) solid rgb(var(--rtk-colors-background-600, 60 60 60));\n}\n\n.composer-container > .composers {\n    min-height: 60px;\n  }\n\n@container chatcontainer (height < 360px) {\n    .composer-container > .composers {\n      min-height: 30px;\n    }\n}\n\n.chat-buttons {\n  padding: var(--rtk-space-3, 12px);\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  --tw-bg-opacity: 1;\n  background-color: rgba(var(--rtk-colors-background-800, 30 30 30) / var(--tw-bg-opacity));\n  color: rgb(var(--rtk-colors-text-1000, 255 255 255));\n}\n\n.chat-buttons .right {\n  z-index: 10;\n}\n\n.chat-buttons .right .edit-buttons {\n  display: flex;\n  gap: var(--rtk-space-2, 8px);\n}\n\n.chat-buttons > div {\n  display: flex;\n  align-items: center;\n}\n\nrtk-emoji-picker {\n  z-index: 20;\n  position: absolute;\n  top: calc(var(--rtk-space-72, 288px) * -1);\n  border-top: var(--rtk-border-width-sm, 1px) solid rgb(var(--rtk-colors-background-600, 60 60 60));\n  animation: 0.3s slide-up ease;\n}\n\n@keyframes slide-up {\n  from {\n    transform: translateY(100%);\n  }\n  to {\n    transform: translateY(0%);\n  }\n}\n";var St=function(t,r,e,a){var i,s=arguments.length,o=s<3?r:null===a?a=Object.getOwnPropertyDescriptor(r,e):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,r,e,a);else for(var n=t.length-1;n>=0;n--)(i=t[n])&&(o=(s<3?i(o):s>3?i(r,e,o):i(r,e))||o);return s>3&&o&&Object.defineProperty(r,e,o),o};const Mt=class{constructor(e){t(this,e),this.edit=a(this,"edit",7),this.reply=a(this,"reply",7),this.pin=a(this,"pin",7),this.delete=a(this,"delete",7),this.iconPack=c,this.t=d(),this.isSelf=!1,this.canEdit=!1,this.canDelete=!1,this.canReply=!1,this.canPin=!1,this.disableControls=!1,this.alignRight=!1,this.hideAvatar=!1,this.now=new Date,this.leftAlign=!1,this.renderMessage=()=>{switch(this.message.type){case"text":return r("div",{"is-continued":this.isContinued,key:this.message.id},this.isUnread&&r("div",{class:"new-chat-marker",part:"new-chat-marker"},this.t("chat.new")),r("rtk-text-message",{message:this.message,now:this.now,isContinued:this.isContinued,"data-timestamp":this.message.time.getTime(),iconPack:this.iconPack,t:this.t,showBubble:!0}));case"image":return r("div",{"is-continued":this.isContinued,key:this.message.id},this.isUnread&&r("div",{class:"new-chat-marker",part:"new-chat-marker"},this.t("chat.new")),r("rtk-image-message",{message:this.message,now:this.now,isContinued:this.isContinued,iconPack:this.iconPack,"data-timestamp":this.message.time.getTime(),t:this.t,showBubble:!0}));case"file":return r("div",{"is-continued":this.isContinued,key:this.message.id},this.isUnread&&r("div",{class:"new-chat-marker",part:"new-chat-marker"},this.t("chat.new")),r("rtk-file-message",{message:this.message,now:this.now,isContinued:this.isContinued,iconPack:this.iconPack,t:this.t,"data-timestamp":this.message.time.getTime(),showBubble:!0}));case"custom":this.child.setAttribute("message",JSON.stringify(this.message));const t=this.child.cloneNode(!0);return r("div",{"is-continued":this.isContinued,key:this.message.id,ref:r=>r.appendChild(t)})}},this.onReply=()=>{this.reply.emit(this.message)},this.onPinned=()=>{this.pin.emit(this.message)},this.onDelete=()=>{this.delete.emit(this.message)},this.onEdit=async()=>{this.edit.emit(this.message)},this.isTouchDevice=()=>"ontouchstart"in window||navigator.maxTouchPoints>0}renderControls(){if(!this.disableControls)return r("rtk-menu",{placement:this.alignRight?"bottom-end":"bottom-start"},r("button",{slot:"trigger",class:"actions"},r("rtk-icon",{icon:this.iconPack.chevron_down})),r("rtk-menu-list",null,this.canReply&&r("rtk-menu-item",{onClick:this.onReply},r("rtk-icon",{icon:this.iconPack.back,slot:"start"}),this.t("chat.reply")),this.canPin&&r("rtk-menu-item",{onClick:this.onPinned},r("rtk-icon",{icon:this.iconPack.pin,slot:"start"}),this.t("pin")),this.canEdit&&r("rtk-menu-item",{onClick:this.onEdit},r("rtk-icon",{icon:this.iconPack.edit,slot:"start"}),this.t("chat.edit_msg")),this.canDelete&&r("rtk-menu-item",{onClick:this.onDelete},r("rtk-icon",{icon:this.iconPack.delete,slot:"start"}),this.t("chat.delete_msg"))))}renderAvatar(){if(!this.hideAvatar)return this.isContinued?r("div",{class:"avatar"}):r("div",{class:"avatar"},r("rtk-avatar",{size:"sm",participant:{name:this.message.displayName,picture:this.senderDisplayPicture}}))}render(){return r(e,{key:"50c4021e3c717d8d2c7e035ce6541adca05ca3d2"},r("div",{key:"1f5a0d679baea7ea72855846f57fa8419e46f019",class:{"message-wrapper":!0,"align-right":this.alignRight,"left-align":this.leftAlign},"is-continued":this.isContinued},this.renderAvatar(),r("div",{key:"1f11244450725426035076a80fcc41a76ef0b7a4",class:{message:!0,"show-on-hover":!this.isTouchDevice()},"is-continued":this.isContinued},this.renderMessage(),this.renderControls())))}get $el(){return o(this)}};St([R()],Mt.prototype,"iconPack",void 0),St([R()],Mt.prototype,"t",void 0),Mt.style=".message-wrapper{display:flex;gap:var(--rtk-space-2, 8px);margin-left:var(--rtk-space-4, 16px);margin-right:var(--rtk-space-4, 16px);margin-top:var(--rtk-space-4, 16px)}[is-continued] .message-wrapper{margin-top:var(--rtk-space-0, 0px)}.message-wrapper.align-right{flex-direction:row-reverse}.file-picker{display:none}.message{position:relative;display:flex}.show-on-hover rtk-menu{visibility:hidden}.show-on-hover:hover rtk-menu{visibility:visible}.align-right .message{justify-content:flex-end;margin-left:auto}.align-right .message .head{margin-right:var(--rtk-space-1, 4px);margin-left:var(--rtk-space-0, 0px);flex-direction:row-reverse;gap:var(--rtk-space-4, 16px)}.align-right .message rtk-text-message .bubble,.align-right .message rtk-image-message .bubble,.align-right .message rtk-file-message .bubble{padding-right:var(--rtk-space-5, 20px);--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-brand-300, 73 124 253) / var(--tw-bg-opacity));color:rgb(var(--rtk-colors-text-on-brand-1000, var(--rtk-colors-text-1000, 255 255 255)))}.align-right .message .actions rtk-icon{color:rgb(var(--rtk-colors-text-on-brand-1000, var(--rtk-colors-text-1000, 255 255 255)))}.align-right rtk-menu{left:auto;right:var(--rtk-space-0, 0px)}.head{margin-bottom:var(--rtk-space-2, 8px);margin-left:var(--rtk-space-1, 4px);display:flex;align-items:center;gap:var(--rtk-space-2, 8px)}.head .name{font-size:14px;font-weight:600}.head .time{font-size:12px;color:rgb(var(--rtk-colors-text-800, 255 255 255 / 0.76))}rtk-menu{position:absolute;left:var(--rtk-space-0, 0px);top:var(--rtk-space-6, 24px);border-radius:var(--rtk-border-radius-lg, 12px)}rtk-menu rtk-icon{height:var(--rtk-space-4, 16px);width:var(--rtk-space-4, 16px);cursor:pointer}[is-continued] rtk-menu{top:var(--rtk-space-2, 8px)}.actions{display:flex;align-items:center;justify-content:center;padding:var(--rtk-space-0\\.5, 2px);border-width:var(--rtk-border-width-none, 0);border-style:none;background-color:transparent}.actions rtk-icon{height:var(--rtk-space-4, 16px);width:var(--rtk-space-4, 16px);color:rgb(var(--rtk-colors-text-1000, 255 255 255))}.body{margin-top:var(--rtk-space-1, 4px);margin-bottom:var(--rtk-space-1, 4px);overflow-wrap:break-word;font-size:14px;line-height:1.375}.body .emoji{font-size:24px}.body.bubble{margin-top:var(--rtk-space-0, 0px);margin-bottom:var(--rtk-space-1, 4px);max-width:var(--rtk-space-96, 384px);padding-top:var(--rtk-space-3, 12px);padding-bottom:var(--rtk-space-3, 12px);padding-left:var(--rtk-space-5, 20px);padding-right:var(--rtk-space-5, 20px);overflow-wrap:break-word;font-size:14px;line-height:1.375;border-radius:var(--rtk-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-background-800, 30 30 30) / var(--tw-bg-opacity))}.body.bubble p{margin:var(--rtk-space-0, 0px);word-break:break-word}p{margin:var(--rtk-space-0, 0px)}rtk-text-message,rtk-image-message,rtk-file-message{display:block;font-family:var(--rtk-font-family, sans-serif);color:rgb(var(--rtk-colors-text-900, 255 255 255 / 0.88));box-sizing:border-box}*[is-continued]{margin-top:var(--rtk-space-0, 0px)}.image{position:relative;height:var(--rtk-space-40, 160px);max-width:var(--rtk-space-64, 256px);cursor:pointer}.image img{display:none;height:100%;width:100%;border-radius:var(--rtk-border-radius-sm, 4px);-o-object-fit:cover;object-fit:cover}.image .image-spinner{display:flex;height:100%;width:100%;flex-direction:column;align-items:center;justify-content:center;border-radius:var(--rtk-border-radius-sm, 4px);--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-background-800, 30 30 30) / var(--tw-bg-opacity))}.image .image-spinner rtk-spinner{--tw-text-opacity:1;color:rgba(var(--rtk-colors-brand-500, 33 96 253) / var(--tw-text-opacity))}.image .image-errored{display:flex;height:100%;width:100%;flex-direction:column;align-items:center;justify-content:center;border-radius:var(--rtk-border-radius-sm, 4px);background-color:rgba(var(--rtk-colors-danger, 255 45 45) / 0.1);--tw-text-opacity:1;color:rgba(var(--rtk-colors-danger, 255 45 45) / var(--tw-text-opacity))}.image .actions{display:none;height:var(--rtk-space-8, 32px);align-items:center;position:absolute;top:var(--rtk-space-2, 8px);right:var(--rtk-space-2, 8px);border-radius:var(--rtk-border-radius-sm, 4px);--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-background-900, 26 26 26) / var(--tw-bg-opacity));color:rgb(var(--rtk-colors-text-1000, 255 255 255));overflow:hidden;--tw-shadow:0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);--tw-shadow-colored:0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.image .actions .action{height:var(--rtk-space-8, 32px);width:var(--rtk-space-8, 32px);border-radius:var(--rtk-border-radius-none, 0);border-width:var(--rtk-border-width-none, 0);border-style:none;background-color:transparent;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.image .actions .action:hover{--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}.image.loaded img{display:block}.image.loaded .image-spinner{display:none}.image:hover .actions,.image:focus .actions{display:flex}.file{display:flex;align-items:center;gap:var(--rtk-space-1, 4px);padding-left:var(--rtk-space-2, 8px);padding-right:var(--rtk-space-2, 8px);padding-top:var(--rtk-space-1\\.5, 6px);padding-bottom:var(--rtk-space-1\\.5, 6px);border-radius:var(--rtk-border-radius-sm, 4px);--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-background-700, 44 44 44) / var(--tw-bg-opacity));color:rgb(var(--rtk-colors-text-700, 255 255 255 / 0.64))}.file .file-data{flex:1 1 0%}.file .file-data .name{word-break:break-all;color:rgb(var(--rtk-colors-text-1000, 255 255 255));overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1}.file .file-data .file-data-split{margin-top:var(--rtk-space-0\\.5, 2px);display:flex;align-items:center;font-size:12px}.file .file-data .file-data-split .ext{margin-right:var(--rtk-space-2, 8px);text-transform:uppercase;overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1}.file .file-data .file-data-split .divider{height:var(--rtk-space-4, 16px);width:var(--rtk-space-0\\.5, 2px);--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}.file .file-data .file-data-split .size{margin-left:var(--rtk-space-2, 8px)}a{--tw-text-opacity:1;color:rgba(var(--rtk-colors-brand-300, 73 124 253) / var(--tw-text-opacity));text-decoration-line:none}a:hover{text-decoration-line:underline}.new-chat-marker{display:flex;width:100%;align-items:center;gap:var(--rtk-space-2, 8px);--tw-text-opacity:1;color:rgba(var(--rtk-colors-brand-300, 73 124 253) / var(--tw-text-opacity))}.new-chat-marker::before{content:'';height:1px;flex:1 1 0%;background-color:rgba(var(--rtk-colors-brand-300, 73 124 253) / 0.5)}.show-new-messages-ctr{pointer-events:none;display:flex;justify-content:flex-end;padding:var(--rtk-space-3, 12px);z-index:0;margin-top:calc(var(--rtk-space-14, 56px) * -1)}.show-new-messages{pointer-events:auto;--tw-translate-y:calc(var(--rtk-space-6, 24px) * -1);transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));opacity:0;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, -webkit-backdrop-filter;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter, -webkit-backdrop-filter;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}.show-new-messages.active{--tw-translate-y:var(--rtk-space-0, 0px);transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));opacity:1}blockquote{margin:var(--rtk-space-0, 0px);margin-bottom:var(--rtk-space-3, 12px);background-color:transparent}.block-quote,blockquote{--tw-border-spacing-x:1px;--tw-border-spacing-y:1px;border-spacing:var(--tw-border-spacing-x) var(--tw-border-spacing-y);border-top-width:var(--rtk-border-width-none, 0);border-bottom-width:var(--rtk-border-width-none, 0);border-left-width:var(--rtk-border-width-md, 2px);border-right-width:var(--rtk-border-width-none, 0);border-style:solid;border-left-color:rgb(var(--rtk-colors-text-900, 255 255 255 / 0.88));padding:var(--rtk-space-0\\.5, 2px);padding-left:var(--rtk-space-2, 8px);margin-bottom:var(--rtk-space-2, 8px) !important;border-radius:var(--rtk-border-radius-sm, 4px);border-top-left-radius:var(--rtk-border-radius-none, 0);border-bottom-left-radius:var(--rtk-border-radius-none, 0)}.link{color:rgb(var(--rtk-colors-text-900, 255 255 255 / 0.88))}.align-right .block-quote{border-color:rgb(var(--rtk-colors-text-on-brand-600, var(--rtk-colors-text-600, 255 255 255 / 0.52)));--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-brand-300, 73 124 253) / var(--tw-bg-opacity))}.align-right .link{color:rgb(var(--rtk-colors-text-on-brand-1000, var(--rtk-colors-text-1000, 255 255 255)))}.align-right .image .actions rtk-icon{--tw-text-opacity:1;color:rgba(var(--rtk-colors-brand-300, 73 124 253) / var(--tw-text-opacity))}.avatar{display:flex;width:var(--rtk-space-6, 24px)}.avatar rtk-avatar{height:var(--rtk-space-6, 24px);width:var(--rtk-space-6, 24px);font-size:10px}.message{width:75%}.left-align .body{margin-top:var(--rtk-space-4, 16px)}.left-align [is-continued] .body{margin-top:var(--rtk-space-0, 0px)}.left-align .body{--tw-translate-x:calc(var(--rtk-space-8, 32px) * -1);transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}";var Dt=function(t,r,e,a){var i,s=arguments.length,o=s<3?r:null===a?a=Object.getOwnPropertyDescriptor(r,e):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,r,e,a);else for(var n=t.length-1;n>=0;n--)(i=t[n])&&(o=(s<3?i(o):s>3?i(r,e,o):i(r,e))||o);return s>3&&o&&Object.defineProperty(r,e,o),o};const $t=class{constructor(r){t(this,r),this.onPinMessage=a(this,"pinMessage",7),this.stateUpdate=a(this,"rtkStateUpdate",7),this.observingEl=[],this.autoScrollEnabled=!0,this.messages=[],this.canPinMessages=!1,this.iconPack=c,this.t=d(),this.now=new Date,this.showLatestMessageButton=!1,this.onScroll=t=>{const r=t.target;i((()=>{const{scrollTop:t,clientHeight:e,scrollHeight:a}=r;t+e+10>=a?(this.autoScrollEnabled=!0,this.showLatestMessageButton=!1):this.autoScrollEnabled=!1}))},this.scrollToBottom=()=>{B(this.$chat)},this.observeMessage=t=>{t&&this.observingEl.push(t);try{this.intersectionObserver.observe(t)}catch(t){}},this.getMessageActions=t=>{const r=[];return!t.pinned&&this.canPinMessages&&r.push({id:"pin_message",label:this.t("pin"),icon:this.iconPack.pin}),r},this.onMessageActionHandler=(t,r)=>{"pin_message"===t&&this.onPinMessage.emit(r)}}connectedCallback(){var t;this.lastReadTimestamp=null!==(t=u.everyone)&&void 0!==t?t:new Date("0001-01-01T00:00:00Z"),this.intersectionObserver=new IntersectionObserver((t=>{document.hasFocus()&&i((()=>{for(const r of t)r.isIntersecting&&parseInt(r.target.getAttribute("data-timestamp"))>this.lastReadTimestamp.getTime()&&(u[this.selectedGroup]=new Date)}))}));const r=()=>{this.now=new Date,this.timeout=setTimeout((()=>{null!=this.request&&(this.request=requestAnimationFrame(r))}),6e4)};this.request=requestAnimationFrame(r),this.chatChanged(this.messages)}componentDidLoad(){this.$chat.addEventListener("scroll",this.onScroll),this.$chat.scrollTop=this.$chat.scrollHeight}componentDidRender(){this.autoScrollEnabled?B(this.$chat):null==this.autoScrollEnabled&&B(this.$chat,!1)}chatChanged(t){if(null!=this.$chat&&!this.autoScrollEnabled&&this.$chat.clientHeight!==this.$chat.scrollHeight)for(let r=t.length-1;r>=0;r--)if(t[r].message.time>this.lastReadTimestamp&&t[r].message.userId!==this.selfUserId){this.showLatestMessageButton=!0;break}}selectedBucketChanged(){this.autoScrollEnabled=void 0,this.observingEl.forEach((t=>{this.intersectionObserver.unobserve(t)})),this.observingEl=[]}disconnectedCallback(){this.$chat.removeEventListener("scroll",this.onScroll),this.intersectionObserver.disconnect(),clearTimeout(this.timeout),cancelAnimationFrame(this.request)}render(){var t;let a=null,i=!1;return r(e,{key:"1e44ac8e6bd0eabff25aaedb905d80fb4007903d"},r("div",{key:"ffbb1fe97efc2408e2ee7e4bccef1cc8a3100b66",class:"chat-container scrollbar",ref:t=>this.$chat=t,part:"container"},r("div",{key:"58d11c81a25a0760d3bdd9e60a8a6d0a96c022c2",class:"spacer",part:"spacer"}),r("div",{key:"be68b5ccfd53bc7ec4c7dc23b10fe325a7c54314",class:"chat",part:"chat"},null===(t=this.messages)||void 0===t?void 0:t.map((t=>{if("chat"===t.type){const{message:e}=t,s=!(e.userId===this.selfUserId)&&!this.autoScrollEnabled&&!i&&e.time>this.lastReadTimestamp;s&&(i=s);const o=!s&&e.userId===(null==a?void 0:a.userId)&&q(e.time,null==a?void 0:a.time)<2;return a=e,r("div",{"is-continued":o,key:t.message.id,ref:this.observeMessage,"data-timestamp":e.time.getTime(),class:e.pinned?"pinned":""},s&&r("div",{class:"new-chat-marker",part:"new-chat-marker"},this.t("chat.new")),r("div",{class:"message-wrapper"},r("rtk-message-view",{time:e.time,actions:this.getMessageActions(e),authorName:e.displayName,hideAuthorName:!0,hideAvatar:!0,hideMetadata:!0,viewType:"incoming",variant:"bubble",onAction:t=>this.onMessageActionHandler(t.detail,e)},!o&&r("div",{class:"head"},r("div",{class:"name"},e.displayName),!!e.time&&r("div",{class:"time",title:N(e.time)},G(e.time,new Date(Date.now())))),r("div",{class:"body"},"text"===e.type&&r("rtk-text-message-view",{text:e.message,isMarkdown:!0}),"file"===e.type&&r("rtk-file-message-view",{name:e.name,url:e.link,size:e.size}),"image"===e.type&&r("rtk-image-message-view",{url:e.link,onPreview:()=>{this.stateUpdate.emit({image:e})}}))),e.pinned&&r("div",{class:"pin-button",part:"pin-button"},r("rtk-tooltip",{label:this.t("unpin")},r("rtk-button",{kind:"icon",variant:"ghost",onClick:()=>this.onMessageActionHandler("pin_message",e),disabled:!this.canPinMessages},r("rtk-icon",{icon:this.iconPack.pin,size:"sm"}))))))}return null})))),r("div",{key:"ae321cae98279cb45e61968b5fab1806d8ae2f33",class:"show-new-messages-ctr"},r("rtk-button",{key:"e593e952615692612b2423e49975f97bb22df0fe",class:{"show-new-messages":!0,active:this.showLatestMessageButton},kind:"icon",part:"show-new-messages",onClick:this.scrollToBottom},r("rtk-icon",{key:"454e7ecb90b1660b882bb6f988beb1d7d0494d5f",icon:this.iconPack.chevron_down}))))}static get watchers(){return{messages:["chatChanged"],selectedGroup:["selectedBucketChanged"]}}};Dt([R()],$t.prototype,"iconPack",void 0),Dt([R()],$t.prototype,"t",void 0),$t.style=":host{line-height:initial;font-family:var(--rtk-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--rtk-space-0, 0px);padding:var(--rtk-space-0, 0px)}.scrollbar{scrollbar-width:thin;scrollbar-color:var(--rtk-scrollbar-color, rgb(var(--rtk-colors-background-600, 60 60 60)))\n    var(--rtk-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar{height:var(--rtk-space-1\\.5, 6px);width:var(--rtk-space-1\\.5, 6px);border-radius:9999px;background-color:var(--rtk-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar-thumb{border-radius:9999px;background-color:var(--rtk-scrollbar-color, rgb(var(--rtk-colors-background-600, 60 60 60)))}:host{position:relative;display:flex;flex-direction:column;--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-background-900, 26 26 26) / var(--tw-bg-opacity));word-break:break-word}.chat-container{box-sizing:border-box;display:flex;flex-direction:column;padding-top:var(--rtk-space-4, 16px);padding-bottom:var(--rtk-space-4, 16px);flex:1 0 0px;overflow-y:scroll}.chat-container .spacer{flex:1 1 auto}.chat-container .chat{flex:0 0 auto}.file-picker{display:none}.chat .head{margin-bottom:var(--rtk-space-2, 8px);display:flex;align-items:center}.chat .head .name{margin-right:var(--rtk-space-2, 8px);font-size:12px;font-weight:700}.chat .head .time{font-size:12px;color:rgb(var(--rtk-colors-text-800, 255 255 255 / 0.76))}.chat .body{overflow-wrap:break-word;line-height:1.5}.chat .body .emoji{font-size:24px}p{margin:var(--rtk-space-0, 0px);line-height:1.5}rtk-message-view{margin-top:var(--rtk-space-2, 8px);display:block;padding-left:var(--rtk-space-2, 8px);padding-right:var(--rtk-space-2, 8px);color:rgb(var(--rtk-colors-text-900, 255 255 255 / 0.88));box-sizing:border-box}rtk-message-view::part(message){flex-grow:1}*[is-continued] rtk-message-view{margin-top:var(--rtk-space-1, 4px)}.pinned .message-wrapper{position:relative}.pinned .pin-button{position:absolute;right:var(--rtk-space-4, 16px);top:calc(var(--rtk-space-4, 16px) * -1);display:flex;border-radius:var(--rtk-border-radius-sm, 4px);--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}.pinned .pin-button:hover rtk-button{--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-brand-600, 13 81 253) / var(--tw-bg-opacity))}.pinned rtk-message-view{--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-background-700, 44 44 44) / var(--tw-bg-opacity));padding-top:var(--rtk-space-1, 4px);padding-bottom:var(--rtk-space-1, 4px)}a{--tw-text-opacity:1;color:rgba(var(--rtk-colors-brand-300, 73 124 253) / var(--tw-text-opacity));text-decoration-line:none}a:hover{text-decoration-line:underline}.new-chat-marker{display:flex;width:100%;align-items:center;gap:var(--rtk-space-2, 8px);--tw-text-opacity:1;color:rgba(var(--rtk-colors-brand-300, 73 124 253) / var(--tw-text-opacity))}.new-chat-marker::before{content:'';height:1px;flex:1 1 0%;background-color:rgba(var(--rtk-colors-brand-300, 73 124 253) / 0.5)}.show-new-messages-ctr{pointer-events:none;display:flex;justify-content:flex-end;padding:var(--rtk-space-3, 12px);z-index:0;margin-top:calc(var(--rtk-space-14, 56px) * -1)}.show-new-messages{pointer-events:auto;--tw-translate-y:var(--rtk-space-16, 64px);transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));opacity:0;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, -webkit-backdrop-filter;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter, -webkit-backdrop-filter;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}.show-new-messages.active{--tw-translate-y:var(--rtk-space-0, 0px);transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));opacity:1}";var Ut=function(t,r,e,a){var i,s=arguments.length,o=s<3?r:null===a?a=Object.getOwnPropertyDescriptor(r,e):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,r,e,a);else for(var n=t.length-1;n>=0;n--)(i=t[n])&&(o=(s<3?i(o):s>3?i(r,e,o):i(r,e))||o);return s>3&&o&&Object.defineProperty(r,e,o),o};const Tt=class{constructor(e){t(this,e),this.editMessageInit=a(this,"editMessageInit",7),this.onPinMessage=a(this,"pinMessage",7),this.onDeleteMessage=a(this,"deleteMessage",7),this.stateUpdate=a(this,"rtkStateUpdate",7),this.iconPack=c,this.t=d(),this.leftAlign=!1,this.permissionsChanged=!1,this.pageSize=25,this.lastReadMessageIndex=-1,this.permissionsUpdateListener=()=>{this.permissionsChanged=!this.permissionsChanged},this.maybeMarkChannelAsRead=t=>{if(!this.selectedChannelId)return;if(0===t.length)return;if(-1!==this.lastReadMessageIndex)return;const r=t.at(0).time>t.at(-1).time?t.at(0):t.at(-1);r.channelIndex&&(this.lastReadMessageIndex=parseInt(r.channelIndex,10),this.meeting.chat.markLastReadMessage(this.selectedChannelId,r))},this.getChatMessages=async(t,r,e)=>{const{messages:a}=await this.meeting.chat.getMessages(t,r,e,void 0,this.selectedChannelId);return this.maybeMarkChannelAsRead(a),a},this.createChatNodes=t=>t.map(((r,e)=>{var a;const i=r.userId===(null===(a=t[e-1])||void 0===a?void 0:a.userId);return this.createChatNode(r,i)})),this.disconnectMeeting=t=>{var r,e;null===(r=null==t?void 0:t.chat)||void 0===r||r.removeListener("chatUpdate",this.chatUpdateListener),null===(e=this.meeting)||void 0===e||e.self.permissions.removeListener("permissionsUpdate",this.permissionsUpdateListener)},this.getMessageActions=t=>{const r=[];return this.meeting.self.permissions.pinParticipant&&r.push({id:"pin_message",label:this.t(t.pinned?"unpin":"pin"),icon:this.iconPack.pin}),r},this.onMessageActionHandler=(t,r)=>{switch(t){case"pin_message":this.onPinMessage.emit(r);break;case"delete_message":this.onDeleteMessage.emit(r)}},this.createChatNode=(t,e)=>{var a,i,s,o;if(0!==t.targetUserIds.length)return null;let n;return n="CHAT"===this.meeting.meta.viewType?null===(a=this.meeting.participants.all.toArray().find((r=>r.userId===t.userId)))||void 0===a?void 0:a.picture:this.meeting.self.userId===t.userId?this.meeting.self.picture:null!==(s=null===(i=this.meeting.participants.joined.toArray().find((r=>r.userId===t.userId)))||void 0===i?void 0:i.picture)&&void 0!==s?s:null===(o=this.meeting.participants.waitlisted.toArray().find((r=>r.userId===t.userId)))||void 0===o?void 0:o.picture,r("div",{class:{pinned:t.pinned}},r("div",{class:"message-wrapper"},r("rtk-message-view",{time:t.time,actions:this.getMessageActions(t),authorName:t.displayName,avatarUrl:n,hideAuthorName:e,viewType:"incoming",variant:"bubble",onAction:r=>this.onMessageActionHandler(r.detail,t)},r("div",null,r("div",{class:"body"},"text"===t.type&&r("rtk-text-message-view",{text:t.message,isMarkdown:!0}),"file"===t.type&&r("rtk-file-message-view",{name:t.name,url:t.link,size:t.size}),"image"===t.type&&r("rtk-image-message-view",{url:t.link,onPreview:()=>{this.stateUpdate.emit({image:t})}})),t.pinned&&r("div",{class:"pin-icon",part:"pin-icon"},r("rtk-icon",{icon:this.iconPack.pin,size:"sm"}))))))},this.chatUpdateListener=t=>{this.selectedChannelId&&t.message.channelId!==this.selectedChannelId||("add"===t.action?(this.$paginatedListRef.onNewNode(t.message),this.lastReadMessageIndex=-1,this.maybeMarkChannelAsRead([t.message])):"delete"===t.action?this.$paginatedListRef.onNodeDelete(t.message.id):"edit"===t.action&&this.$paginatedListRef.onNodeUpdate(t.message.id,t.message))}}componentDidLoad(){const t=this.host.shadowRoot.querySelector("slot");t&&(this.children=t.assignedElements()[0])}connectedCallback(){this.meetingChanged(this.meeting)}disconnectedCallback(){this.disconnectMeeting(this.meeting)}meetingChanged(t,r){var e;null!=r&&this.disconnectMeeting(r),t&&!t.chat||(null!=t&&(null===(e=t.chat)||void 0===e||e.addListener("chatUpdate",this.chatUpdateListener),t.self.permissions.addListener("permissionsUpdate",this.permissionsUpdateListener)),this.permissionsUpdateListener())}channelChanged(){this.lastReadMessageIndex=-1}render(){return r(e,{key:"d0ae21ca32589c18ede4b1e4b4682f5b82b58320"},r("rtk-paginated-list",{key:"bff3bdae7c6bbefed8dd8b478ac60370067c75a6",ref:t=>this.$paginatedListRef=t,pageSize:this.pageSize,pagesAllowed:3,fetchData:this.getChatMessages,createNodes:this.createChatNodes,selectedItemId:this.selectedChannelId,emptyListLabel:this.t("chat.empty_channel")},r("slot",{key:"043cfe627a1056c2267dd00705ff33e7e96f1f89"})))}get host(){return o(this)}static get watchers(){return{meeting:["meetingChanged"],selectedChannelId:["channelChanged"]}}};Ut([R()],Tt.prototype,"meeting",void 0),Ut([R()],Tt.prototype,"iconPack",void 0),Ut([R()],Tt.prototype,"t",void 0),Tt.style=":host{display:flex;flex-direction:column;--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-background-900, 26 26 26) / var(--tw-bg-opacity));flex:1 0 0px}";var Lt=function(t,r,e,a){var i,s=arguments.length,o=s<3?r:null===a?a=Object.getOwnPropertyDescriptor(r,e):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,r,e,a);else for(var n=t.length-1;n>=0;n--)(i=t[n])&&(o=(s<3?i(o):s>3?i(r,e,o):i(r,e))||o);return s>3&&o&&Object.defineProperty(r,e,o),o};const At=class{constructor(e){t(this,e),this.iconPack=c,this.t=d(),this.pageSize=50,this.searchMessages=async(t,r,e)=>this.meeting.chat.searchMessages(this.query,{channelId:this.channelId,timestamp:t,size:r,reversed:e}),this.nodeRenderer=t=>t.map((t=>r("rtk-chat-message",{key:t.id,message:t,disableControls:!0})))}render(){return r(e,{key:"9947c793cb766158d4ed3d81871bbdb8b60274af"},r("rtk-paginated-list",{key:"0d91dc8818b08c7ed053728074c483f159811a41",pageSize:this.pageSize,pagesAllowed:3,fetchData:this.searchMessages,createNodes:this.nodeRenderer,selectedItemId:this.query}))}};Lt([R()],At.prototype,"meeting",void 0),Lt([R()],At.prototype,"iconPack",void 0),Lt([R()],At.prototype,"t",void 0),At.style=":host{line-height:initial;font-family:var(--rtk-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--rtk-space-0, 0px);padding:var(--rtk-space-0, 0px)}:host{display:flex;height:100%;flex-direction:column;position:relative;--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-background-900, 26 26 26) / var(--tw-bg-opacity))}";var Et=function(t,r,e,a){var i,s=arguments.length,o=s<3?r:null===a?a=Object.getOwnPropertyDescriptor(r,e):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,r,e,a);else for(var n=t.length-1;n>=0;n--)(i=t[n])&&(o=(s<3?i(o):s>3?i(r,e,o):i(r,e))||o);return s>3&&o&&Object.defineProperty(r,e,o),o};const It=class{constructor(r){t(this,r),this.stateUpdate=a(this,"rtkStateUpdate",7),this.keyPressListener=t=>{"Escape"===t.key&&this.close()},this.iconPack=c,this.t=d(),this.close=()=>{this.states.activeConfirmationModal.onClose(this.stateUpdate,this.states,this.meeting),this.stateUpdate.emit({activeConfirmationModal:{active:!1}}),this.states.activeConfirmationModal={active:!1}},this.onConfirmation=async()=>{this.states.activeConfirmationModal.onClick(this.stateUpdate,this.states,this.meeting),this.stateUpdate.emit({activeConfirmationModal:{active:!1}}),this.states.activeConfirmationModal={active:!1}}}connectedCallback(){document.addEventListener("keydown",this.keyPressListener)}componentDidLoad(){}disconnectedCallback(){document.removeEventListener("keydown",this.keyPressListener)}render(){var t,a;const i=this.states.activeConfirmationModal;return r(e,{key:"c79124361c70a80d200f4021c7483038f330b683"},r("div",{key:"a1c812cc2742b0eca2525416e67579864a8c0ae7",class:"leave-modal"},r("div",{key:"21edbc34bdd1c996707d297abf86a1c04a487396",class:"header"},r("h2",{key:"a7c77cf1a39bc46b787b851d51a5cd37695e44eb",class:"title"},this.t(i.header?i.header:"cta.confirmation"))),i.content&&r("p",{key:"25ceecc3c208442821795ebf0a1a981b5130d1d9",class:"message"},this.t(i.content)),r("div",{key:"f081c0544fb467787cbfea432575d4a16a1c42c3",class:"content"},r("div",{key:"a7cf64611e6a516624310fbe0c119c279bec682d",class:"leave-meeting"},r("rtk-button",{key:"469b16b167d943f369f9995c9b0d20225108303a",variant:"secondary",title:this.t(i.cancelText?i.cancelText:"cancel"),onClick:this.close,class:"br-secondary-btn"},this.t(i.cancelText?i.cancelText:"cancel")),r("rtk-button",{key:"5fc8427e0b0c51fad3a4d033f1d6c4b4399477f3",onClick:()=>this.onConfirmation(),variant:null!==(a=null===(t=this.states.activeConfirmationModal)||void 0===t?void 0:t.variant)&&void 0!==a?a:"danger",title:this.t(i.ctaText?i.ctaText:"yes")},this.t(i.ctaText?i.ctaText:"yes"))))))}};Et([R()],It.prototype,"meeting",void 0),Et([R()],It.prototype,"states",void 0),Et([R()],It.prototype,"iconPack",void 0),Et([R()],It.prototype,"t",void 0),It.style=":host{line-height:initial;font-family:var(--rtk-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--rtk-space-0, 0px);padding:var(--rtk-space-0, 0px)}:host{position:relative;display:flex;flex-direction:column;overflow:hidden;border-radius:var(--rtk-border-radius-md, 8px);padding:var(--rtk-space-8, 32px);width:100%;--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-background-1000, 8 8 8) / var(--tw-bg-opacity));color:rgb(var(--rtk-colors-text-1000, 255 255 255));width:400px;max-width:80%}.leave-modal{width:100%;color:rgb(var(--rtk-colors-text-1000, 255 255 255))}.leave-modal .header h2{margin:var(--rtk-space-0, 0px)}.leave-modal .content{font-size:14px}.leave-modal p{margin-top:var(--rtk-space-3, 12px);margin-bottom:var(--rtk-space-3, 12px)}.leave-meeting{display:flex;flex-direction:row;justify-content:space-between;gap:var(--rtk-space-4, 16px)}.leave-meeting rtk-button{color:rgb(var(--rtk-colors-text-1000, 255 255 255));flex:1 1 0%}.br-secondary-btn{--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-background-800, 30 30 30) / var(--tw-bg-opacity))}.br-secondary-btn:hover{--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}";var qt=function(t,r,e,a){var i,s=arguments.length,o=s<3?r:null===a?a=Object.getOwnPropertyDescriptor(r,e):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,r,e,a);else for(var n=t.length-1;n>=0;n--)(i=t[n])&&(o=(s<3?i(o):s>3?i(r,e,o):i(r,e))||o);return s>3&&o&&Object.defineProperty(r,e,o),o};const Nt=class{constructor(r){t(this,r),this.onChange=a(this,"valueChange",7),this.input="1",this.minValue=0,this.iconPack=c,this.t=d()}connectedCallback(){this.watchStateHandler(this.input),this.input=this.value.toString()}watchStateHandler(t){this.onChange.emit(t)}increment(){this.input=Math.max(parseInt(this.input)+1,this.minValue).toString()}decrement(){this.input=Math.max(this.minValue,parseInt(this.input)-1).toString()}render(){return r(e,{key:"151ffb29ae91788d05b46f4c795b817c20a35b90"},r("rtk-button",{key:"9568cb52875c92f57597033cc7b396fa5c2d0371",kind:"icon",variant:"ghost",onClick:()=>this.decrement()},r("rtk-icon",{key:"8ef248b64e90f01bd1f78db5048db148d7c374c9",icon:this.iconPack.subtract})),r("input",{key:"376d604bb62a6c9013e7361da51de8f05f34c870",type:"number",value:this.input,min:this.minValue,onInput:t=>{const r=parseInt(t.target.value,10);this.input=isNaN(r)||r<this.minValue?this.minValue.toString():r.toString()}}),r("rtk-button",{key:"cea8491840c69cf3856e97d97b5c4f34abf45e55",kind:"icon",variant:"ghost",onClick:()=>this.increment()},r("rtk-icon",{key:"cb2146960e8c8368cce69fb8d8a696078bcea2fc",icon:this.iconPack.add})))}static get watchers(){return{input:["watchStateHandler"]}}};qt([R()],Nt.prototype,"iconPack",void 0),qt([R()],Nt.prototype,"t",void 0),Nt.style=":host{line-height:initial;font-family:var(--rtk-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--rtk-space-0, 0px);padding:var(--rtk-space-0, 0px)}:host{display:flex;flex-direction:row;align-items:center;justify-content:center;--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-background-800, 30 30 30) / var(--tw-bg-opacity));width:-moz-fit-content;width:fit-content;border-radius:var(--rtk-border-radius-sm, 4px);padding:var(--rtk-space-1, 4px)}p{margin:var(--rtk-space-0, 0px);padding-left:var(--rtk-space-2, 8px);padding-right:var(--rtk-space-2, 8px)}input{margin:var(--rtk-space-0, 0px);width:var(--rtk-space-6, 24px);padding:var(--rtk-space-2, 8px);border-width:var(--rtk-border-width-sm, 1px);border-style:solid;border-color:rgb(var(--rtk-colors-text-600, 255 255 255 / 0.52));--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-background-1000, 8 8 8) / var(--tw-bg-opacity));text-align:center;color:rgb(var(--rtk-colors-text-900, 255 255 255 / 0.88));border-radius:var(--rtk-border-radius-sm, 4px);font-size:16px;outline:2px solid transparent;outline-offset:2px;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, -webkit-backdrop-filter;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter, -webkit-backdrop-filter;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}input::-webkit-outer-spin-button,input::-webkit-inner-spin-button{margin:var(--rtk-space-0, 0px);appearance:none;-webkit-appearance:none}input[type='number']{-moz-appearance:textfield}";var Gt=function(t,r,e,a){var i,s=arguments.length,o=s<3?r:null===a?a=Object.getOwnPropertyDescriptor(r,e):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,r,e,a);else for(var n=t.length-1;n>=0;n--)(i=t[n])&&(o=(s<3?i(o):s>3?i(r,e,o):i(r,e))||o);return s>3&&o&&Object.defineProperty(r,e,o),o};const Yt=class{constructor(r){t(this,r),this.stateUpdate=a(this,"rtkStateUpdate",7),this.keyPressListener=t=>{"Escape"===t.key&&this.close()},this.iconPack=c,this.t=d(),this.activeTab="audio",this.isMobileMainVisible=!1,this.progress=0}connectedCallback(){document.addEventListener("keydown",this.keyPressListener)}disconnectedCallback(){this.keyPressListener&&document.removeEventListener("keydown",this.keyPressListener)}progressUpdate(t){this.progress=t.detail}changeTab(t){this.activeTab=t,"sm"===this.size&&(this.isMobileMainVisible||(this.isMobileMainVisible=!0))}close(){this.stateUpdate.emit({activeDebugger:!1})}getActiveTab(){switch(this.activeTab){case"audio":return this.t("debugger.audio.troubleshooting.label");case"screenshare":return this.t("debugger.screenshare.troubleshooting.label");case"video":return this.t("debugger.video.troubleshooting.label");case"system":return this.t("debugger.system.troubleshooting.label");default:return this.t("debugger.troubleshooting.label")}}render(){if(!this.meeting)return null;const t={meeting:this.meeting,states:this.states,iconPack:this.iconPack,t:this.t,size:this.size},a=this.getActiveTab(),i=void 0!==navigator.getBattery;return r(e,null,r("aside",{class:{hide:this.isMobileMainVisible},part:"menu"},r("header",null,r("h3",null,this.t("debugger.troubleshooting.label"))),r("button",{type:"button",class:{active:"audio"===this.activeTab},onClick:()=>this.changeTab("audio")},this.t("debugger.audio.label"),r("div",{class:"right"},r("rtk-icon",{icon:this.iconPack.mic_on}),"sm"===this.size&&r("rtk-icon",{icon:this.iconPack.chevron_right}))),r("button",{type:"button",class:{active:"video"===this.activeTab},onClick:()=>this.changeTab("video")},this.t("debugger.video.label"),r("div",{class:"right"},r("rtk-icon",{icon:this.iconPack.video_on}),"sm"===this.size&&r("rtk-icon",{icon:this.iconPack.chevron_right}))),r("button",{type:"button",class:{active:"screenshare"===this.activeTab},onClick:()=>this.changeTab("screenshare")},this.t("debugger.screenshare.label"),r("div",{class:"right"},r("rtk-icon",{icon:this.iconPack.share_screen_start}),"sm"===this.size&&r("rtk-icon",{icon:this.iconPack.chevron_right}))),r("button",{type:"button",class:{active:"system"===this.activeTab,hidden:!i},onClick:()=>this.changeTab("system")},this.t("debugger.system.label"),r("div",{class:"right"},r("rtk-icon",{icon:this.iconPack.settings}),"sm"===this.size&&r("rtk-icon",{icon:this.iconPack.chevron_right})))),r("main",{class:{active:this.isMobileMainVisible},part:"main-content"},"sm"===this.size&&r("header",null,r("rtk-button",{kind:"icon",class:"back-btn",onClick:()=>this.isMobileMainVisible=!1},r("rtk-icon",{icon:this.iconPack.chevron_left})),r("h4",null,a)),"audio"===this.activeTab&&r("rtk-debugger-audio",Object.assign({},t)),"video"===this.activeTab&&r("rtk-debugger-video",Object.assign({},t)),"screenshare"===this.activeTab&&r("rtk-debugger-screenshare",Object.assign({},t)),"system"===this.activeTab&&i&&r("rtk-debugger-system",Object.assign({},t))))}};function Bt({stats:t}){if(!t||!t.length)return null;let r="Good";const e=t.map((t=>t.verdict));return e.includes("Poor")?r="Poor":e.includes("Average")&&(r="Average"),r}function Jt({packetLossPercentage:t}){let r="Good";return t>4?r="Poor":t>=1&&t<=4&&(r="Average"),r}function Ft({jitterInMS:t}){let r="Good";return t>100?r="Poor":t>=50&&t<=100&&(r="Average"),r}function Xt({bitrate:t}){let r="Good";return 0===Math.round(t/1024)&&(r="Poor"),r}function Ht({batteryLevelPercentage:t}){let r="Good";return t<20?r="Poor":t<50&&(r="Average"),r}function Kt({charging:t,dischargingTimeInSeconds:r,batteryLevelPercentage:e}){return e<20?"Poor":t?"Good":r<1800?"Poor":"Average"}Gt([R()],Yt.prototype,"meeting",void 0),Gt([R()],Yt.prototype,"states",void 0),Gt([R()],Yt.prototype,"iconPack",void 0),Gt([R()],Yt.prototype,"t",void 0),Yt.style=":host{line-height:initial;font-family:var(--rtk-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--rtk-space-0, 0px);padding:var(--rtk-space-0, 0px)}.scrollbar{scrollbar-width:thin;scrollbar-color:var(--rtk-scrollbar-color, rgb(var(--rtk-colors-background-600, 60 60 60)))\n    var(--rtk-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar{height:var(--rtk-space-1\\.5, 6px);width:var(--rtk-space-1\\.5, 6px);border-radius:9999px;background-color:var(--rtk-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar-thumb{border-radius:9999px;background-color:var(--rtk-scrollbar-color, rgb(var(--rtk-colors-background-600, 60 60 60)))}:host{position:relative;display:flex;overflow:hidden;border-radius:var(--rtk-border-radius-md, 8px);width:100%;--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-background-900, 26 26 26) / var(--tw-bg-opacity));color:rgb(var(--rtk-colors-text-1000, 255 255 255))}header{margin-right:var(--rtk-space-2, 8px);display:flex;align-items:center;justify-content:space-between;padding-top:var(--rtk-space-0, 0px);padding-bottom:var(--rtk-space-0, 0px);padding-left:var(--rtk-space-2, 8px);padding-right:var(--rtk-space-2, 8px)}header h3{margin-top:var(--rtk-space-4, 16px);margin-bottom:var(--rtk-space-4, 16px)}.back-btn{border-radius:var(--rtk-border-radius-sm, 4px);background-color:transparent;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.back-btn:hover{--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-background-700, 44 44 44) / var(--tw-bg-opacity))}aside{box-sizing:border-box;display:flex;max-width:var(--rtk-space-56, 224px) !important;flex-direction:column;--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-background-1000, 8 8 8) / var(--tw-bg-opacity));padding-left:var(--rtk-space-2, 8px)}aside button{margin-top:var(--rtk-space-4, 16px);box-sizing:border-box;display:flex;width:100%;align-items:center;justify-content:space-between;border-top-left-radius:var(--rtk-border-radius-sm, 4px);border-bottom-left-radius:var(--rtk-border-radius-sm, 4px);padding-left:var(--rtk-space-4, 16px);padding-right:var(--rtk-space-4, 16px);padding-top:var(--rtk-space-3, 12px);padding-bottom:var(--rtk-space-3, 12px);background-color:transparent;color:rgb(var(--rtk-colors-text-900, 255 255 255 / 0.88));cursor:default;font-size:14px;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);border-width:var(--rtk-border-width-none, 0);border-style:none;outline:2px solid transparent;outline-offset:2px}aside button .right{display:flex;align-items:center}aside button .right rtk-icon{height:var(--rtk-space-5, 20px);width:var(--rtk-space-5, 20px)}aside button .right rtk-icon:last-child{margin-left:var(--rtk-space-4, 16px)}aside button[type='button']{cursor:pointer;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}aside button[type='button']:hover{--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-background-700, 44 44 44) / var(--tw-bg-opacity))}aside button[type='button']{border-right:var(--rtk-border-width-md, 2px) solid transparent}aside button.active{--tw-border-opacity:1;border-color:rgba(var(--rtk-colors-brand-500, 33 96 253) / var(--tw-border-opacity));background-color:rgba(var(--rtk-colors-brand-500, 33 96 253) / 0.2)}aside button.active:hover{background-color:rgba(var(--rtk-colors-brand-500, 33 96 253) / 0.2)}aside button.hidden{display:none}main{position:relative;box-sizing:border-box;display:flex;height:100%;width:100%;flex-direction:column}:host([size='sm']) aside{--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-background-900, 26 26 26) / var(--tw-bg-opacity));width:100% !important;max-width:100% !important;padding-left:var(--rtk-space-0, 0px)}:host([size='sm']) aside button{border-radius:var(--rtk-border-radius-none, 0)}:host([size='sm']) aside button.active{border-width:var(--rtk-border-width-none, 0);border-style:none;background-color:transparent}:host([size='sm']) aside button.active:hover{--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-background-700, 44 44 44) / var(--tw-bg-opacity))}:host([size='sm']) aside button.hidden{display:none}:host([size='sm']) aside.hide{display:none}aside button:host([size='sm']) aside.hide{display:none}:host([size='sm']) aside button:host([size='sm']) aside.hide{display:none}:host([size='sm']) main{display:none;height:100%;width:100%;padding:var(--rtk-space-0, 0px)}aside button:host([size='sm']) main{display:none}:host([size='sm']) aside button:host([size='sm']) main{display:none}:host([size='sm']) main.active{display:block}:host([size='sm']) header{margin:var(--rtk-space-0, 0px);justify-content:center}:host([size='sm']) header rtk-button{position:absolute;left:var(--rtk-space-4, 16px)}::-webkit-scrollbar{width:8px}::-webkit-scrollbar-track{border-radius:var(--rtk-border-radius-lg, 12px);--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-background-800, 30 30 30) / var(--tw-bg-opacity))}::-webkit-scrollbar-thumb{border-radius:var(--rtk-border-radius-lg, 12px);--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-background-1000, 8 8 8) / var(--tw-bg-opacity))}::-webkit-scrollbar-thumb:hover{border-radius:var(--rtk-border-radius-lg, 12px);--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-background-1000, 8 8 8) / var(--tw-bg-opacity))}.progress-bar{height:var(--rtk-space-1, 4px);width:100%;overflow:hidden;--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}.progress-indicator{height:100%;--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-brand-500, 33 96 253) / var(--tw-bg-opacity))}";var Wt=function(t,r,e,a){var i,s=arguments.length,o=s<3?r:null===a?a=Object.getOwnPropertyDescriptor(r,e):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,r,e,a);else for(var n=t.length-1;n>=0;n--)(i=t[n])&&(o=(s<3?i(o):s>3?i(r,e,o):i(r,e))||o);return s>3&&o&&Object.defineProperty(r,e,o),o};const Vt=class{constructor(r){t(this,r),this.iconPack=c,this.t=d(),this.isNetworkOpen=!0,this.isDevicesOpen=!1,this.audioProducerFormattedStats=[],this.audioProducerScoreStats=null,this.networkBasedMediaHealth=null,this.devicesHealth=null,this.mediaScoreUpdateListener=({kind:t,isScreenshare:r,scoreStats:e})=>{"audio"!==t||r||(this.audioProducerScoreStats=e)},this.deviceListUpdateListener=async()=>{const t=await this.meeting.self.getAudioDevices();this.devicesHealth=(null==t?void 0:t.length)>0?"Good":"Poor"},this.audioUpdateListener=()=>{this.meeting.self.audioEnabled||(this.audioProducerScoreStats=null)}}async audioProducerScoreStatsChanged(t){if(!t)return void(this.audioProducerFormattedStats=[]);const r=t,e=[];e.push({name:this.t("debugger.stats.bitrate.label"),value:`${Math.round(r.bitrate/1024)} kbps`,description:this.t("debugger.stats.bitrate.description"),verdict:Xt({bitrate:r.bitrate,kind:"audio",isScreenshare:!1})}),e.push({name:this.t("debugger.stats.packet_loss.label"),value:`${r.packetsLostPercentage}%`,description:this.t("debugger.stats.packet_loss.description"),verdict:Jt({packetLossPercentage:r.packetsLostPercentage})}),e.push({name:this.t("debugger.stats.jitter.label"),value:`${Math.round(1e3*r.jitter)} ms`,description:this.t("debugger.stats.jitter.description"),verdict:Ft({jitterInMS:1e3*r.jitter})}),this.audioProducerFormattedStats=e,this.networkBasedMediaHealth=Bt({kind:"audio",isScreenshare:!1,stats:e})}connectedCallback(){this.meetingChanged(this.meeting)}disconnectedCallback(){this.meeting&&(this.meeting.self.off("mediaScoreUpdate",this.mediaScoreUpdateListener),this.meeting.self.off("audioUpdate",this.audioUpdateListener),this.meeting.self.off("deviceListUpdate",this.deviceListUpdateListener))}async meetingChanged(t){t&&(t.self.on("mediaScoreUpdate",this.mediaScoreUpdateListener),t.self.on("audioUpdate",this.audioUpdateListener),t.self.on("deviceListUpdate",this.deviceListUpdateListener),await this.deviceListUpdateListener())}render(){var t,a;if(this.meeting)return r(e,null,r("div",{id:"header"}),r("div",{class:"tab-body"},r("div",{class:"status-container"},r("div",{class:"status-section"},r("div",{class:"section-header "+(this.networkBasedMediaHealth?"":"only-child")},r("span",null,this.t("debugger.audio.sections.network_media")),this.networkBasedMediaHealth&&r("span",{class:`status ${null===(t=this.networkBasedMediaHealth)||void 0===t?void 0:t.toLowerCase()}`},this.t(`debugger.quality.${null===(a=this.networkBasedMediaHealth)||void 0===a?void 0:a.toLowerCase()}`))),this.isNetworkOpen&&!this.audioProducerFormattedStats.length&&r("div",{class:"section-body missing-stats"},r("span",null,this.t(this.meeting.self.audioEnabled?"debugger.audio.messages.generating_report":"debugger.audio.messages.enable_media"))),this.isNetworkOpen&&!!this.audioProducerFormattedStats.length&&r("div",{class:"section-body network-table"},this.audioProducerFormattedStats.map((t=>{var e,a;return r("div",{class:"network-row"},r("div",{class:"network-cell label"},r("strong",null,t.name),r("span",{class:"description"},t.description)),r("div",{class:"network-cell value"},r("span",{class:`status ${null===(e=t.verdict)||void 0===e?void 0:e.toLowerCase()}`},this.t(`debugger.quality.${null===(a=t.verdict)||void 0===a?void 0:a.toLowerCase()}`)),r("span",{class:"value"},t.value)))})))))))}static get watchers(){return{audioProducerScoreStats:["audioProducerScoreStatsChanged"],meeting:["meetingChanged"]}}};Wt([R()],Vt.prototype,"meeting",void 0),Wt([R()],Vt.prototype,"states",void 0),Wt([R()],Vt.prototype,"iconPack",void 0),Wt([R()],Vt.prototype,"t",void 0),Vt.style=":host{line-height:initial;font-family:var(--rtk-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--rtk-space-0, 0px);padding:var(--rtk-space-0, 0px)}.scrollbar{scrollbar-width:thin;scrollbar-color:var(--rtk-scrollbar-color, rgb(var(--rtk-colors-background-600, 60 60 60)))\n    var(--rtk-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar{height:var(--rtk-space-1\\.5, 6px);width:var(--rtk-space-1\\.5, 6px);border-radius:9999px;background-color:var(--rtk-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar-thumb{border-radius:9999px;background-color:var(--rtk-scrollbar-color, rgb(var(--rtk-colors-background-600, 60 60 60)))}:host{position:relative;display:flex;flex-direction:column;overflow:hidden;height:100%;width:100%;color:rgb(var(--rtk-colors-text-1000, 255 255 255));--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}.tab-body::-webkit-scrollbar{width:var(--rtk-space-1\\.5, 6px);border-radius:var(--rtk-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-background-1000, 8 8 8) / var(--tw-bg-opacity))}.tab-body::-webkit-scrollbar-thumb{border-radius:var(--rtk-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-background-700, 44 44 44) / var(--tw-bg-opacity))}h3{margin:var(--rtk-space-0, 0px);padding:var(--rtk-space-0, 0px);font-size:16px;font-weight:600}#header{margin-top:var(--rtk-space-2, 8px);margin-bottom:var(--rtk-space-5, 20px);display:flex;align-items:center;justify-content:space-evenly}.tab-body{margin:var(--rtk-space-4, 16px);display:flex;height:100%;flex-direction:column;justify-content:space-between;overflow-y:auto}.status-container{border:var(--rtk-border-width-sm, 1px) solid rgb(var(--rtk-colors-background-600, 60 60 60));border-radius:8px;padding:16px}.status-section{margin-bottom:12px}.section-header{display:flex;justify-content:space-between;align-items:center;font-weight:bold;padding:8px 0}.section-header.only-child{justify-content:center}.section-body.missing-stats{display:flex;text-align:center;justify-content:center}.section-header .status{color:rgba(var(--rtk-colors-success));font-weight:bold}.section-header .arrow{font-size:14px}.network-table{border:var(--rtk-border-width-sm, 1px) solid rgb(var(--rtk-colors-background-600, 60 60 60));border-radius:8px;margin-top:8px;overflow:hidden}.network-row{display:flex;justify-content:space-between;padding:12px;border-bottom:var(--rtk-border-width-sm, 1px) solid rgb(var(--rtk-colors-background-600, 60 60 60))}.network-row:last-child{border-bottom:none}.network-cell{display:flex;flex-direction:column}.network-cell.label strong{font-size:14px}.network-cell.label .description{font-size:12px;color:rgb(var(--rtk-colors-text-700, 255 255 255 / 0.64));margin-top:4px}.network-cell.value{text-align:right}.status.good{color:rgba(var(--rtk-colors-success))}.status.average{color:rgba(var(--rtk-colors-warning))}.status.poor{color:rgba(var(--rtk-colors-danger))}.value{font-size:14px;color:rgb(var(--rtk-colors-text-700, 255 255 255 / 0.64));margin-top:4px}rtk-settings-audio{display:flex;flex-direction:column}";var Qt=function(t,r,e,a){var i,s=arguments.length,o=s<3?r:null===a?a=Object.getOwnPropertyDescriptor(r,e):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,r,e,a);else for(var n=t.length-1;n>=0;n--)(i=t[n])&&(o=(s<3?i(o):s>3?i(r,e,o):i(r,e))||o);return s>3&&o&&Object.defineProperty(r,e,o),o};const Zt=class{constructor(r){t(this,r),this.iconPack=c,this.t=d(),this.isNetworkOpen=!0,this.isDevicesOpen=!1,this.videoProducerFormattedStats=[],this.videoProducerScoreStats=null,this.audioProducerFormattedStats=[],this.audioProducerScoreStats=null,this.networkBasedMediaHealth=null,this.mediaScoreUpdateListener=({kind:t,isScreenshare:r,scoreStats:e})=>{"video"===t&&r&&(this.videoProducerScoreStats=e),"audio"===t&&r&&(this.audioProducerScoreStats=e)},this.screenShareUpdateListener=()=>{this.meeting.self.screenShareEnabled||(this.videoProducerScoreStats=null,this.audioProducerScoreStats=null)}}async videoProducerScoreStatsChanged(t){if(!t)return void(this.videoProducerFormattedStats=[]);const r=t,e=[];e.push({name:this.t("debugger.stats.cpu_limitations.label"),value:r.cpuLimitations?"Yes":"No",description:this.t("debugger.stats.cpu_limitations.description"),verdict:r.cpuLimitations?"Poor":"Good"}),e.push({name:this.t("debugger.stats.bandwidth_limitations.label"),value:r.bandwidthLimitations?"Yes":"No",description:this.t("debugger.stats.bandwidth_limitations.description"),verdict:r.bandwidthLimitations?"Poor":"Good"}),e.push({name:this.t("debugger.stats.bitrate.label"),value:`${Math.round(r.bitrate/1024)} kbps`,description:this.t("debugger.stats.bitrate.description"),verdict:Xt({bitrate:r.bitrate,kind:"video",isScreenshare:!1})}),e.push({name:this.t("debugger.stats.packet_loss.label"),value:`${r.packetsLostPercentage}%`,description:this.t("debugger.stats.packet_loss.description"),verdict:Jt({packetLossPercentage:r.packetsLostPercentage})}),e.push({name:this.t("debugger.stats.jitter.label"),value:`${Math.round(1e3*r.jitter)} ms`,description:this.t("debugger.stats.jitter.description"),verdict:Ft({jitterInMS:1e3*r.jitter})}),this.videoProducerFormattedStats=e,this.networkBasedMediaHealth=Bt({kind:"video",isScreenshare:!1,stats:e})}async audioProducerScoreStatsChanged(t){if(!t)return void(this.audioProducerFormattedStats=[]);const r=t,e=[];e.push({name:this.t("debugger.stats.bitrate.label"),value:`${Math.round(r.bitrate/1024)} kbps`,description:this.t("debugger.stats.bitrate.description"),verdict:Xt({bitrate:r.bitrate,kind:"audio",isScreenshare:!0})}),e.push({name:this.t("debugger.stats.packet_loss.label"),value:`${r.packetsLostPercentage}%`,description:this.t("debugger.stats.packet_loss.description"),verdict:Jt({packetLossPercentage:r.packetsLostPercentage})}),e.push({name:this.t("debugger.stats.jitter.label"),value:`${Math.round(1e3*r.jitter)} ms`,description:this.t("debugger.stats.jitter.description"),verdict:Ft({jitterInMS:1e3*r.jitter})}),this.audioProducerFormattedStats=e}connectedCallback(){this.meetingChanged(this.meeting)}disconnectedCallback(){this.meeting&&(this.meeting.self.off("mediaScoreUpdate",this.mediaScoreUpdateListener),this.meeting.self.off("screenShareUpdate",this.screenShareUpdateListener))}async meetingChanged(t){t&&(t.self.on("mediaScoreUpdate",this.mediaScoreUpdateListener),t.self.on("screenShareUpdate",this.screenShareUpdateListener))}render(){var t,a;if(this.meeting)return r(e,null,r("div",{id:"header"}),r("div",{class:"tab-body"},r("div",{class:"status-container"},r("div",{class:"status-section"},r("div",{class:"section-header "+(this.networkBasedMediaHealth?"":"only-child")},r("span",null,this.t("debugger.screenshare.sections.network_media")),this.networkBasedMediaHealth&&r("span",{class:`status ${null===(t=this.networkBasedMediaHealth)||void 0===t?void 0:t.toLowerCase()}`},this.t(`debugger.quality.${null===(a=this.networkBasedMediaHealth)||void 0===a?void 0:a.toLowerCase()}`))),this.isNetworkOpen&&!this.videoProducerFormattedStats.length&&r("div",{class:"section-body missing-stats"},r("span",null,this.t(this.meeting.self.screenShareEnabled?"debugger.screenshare.messages.generating_report":"debugger.screenshare.messages.enable_media"))),this.isNetworkOpen&&!!this.videoProducerFormattedStats.length&&r("div",{class:"section-body network-table"},this.videoProducerFormattedStats.map((t=>{var e,a;return r("div",{class:"network-row"},r("div",{class:"network-cell label"},r("strong",null,t.name),r("span",{class:"description"},t.description)),r("div",{class:"network-cell value"},r("span",{class:`status ${null===(e=t.verdict)||void 0===e?void 0:e.toLowerCase()}`},this.t(`debugger.quality.${null===(a=t.verdict)||void 0===a?void 0:a.toLowerCase()}`)),r("span",{class:"value"},t.value)))})))))))}static get watchers(){return{videoProducerScoreStats:["videoProducerScoreStatsChanged"],audioProducerScoreStats:["audioProducerScoreStatsChanged"],meeting:["meetingChanged"]}}};Qt([R()],Zt.prototype,"meeting",void 0),Qt([R()],Zt.prototype,"states",void 0),Qt([R()],Zt.prototype,"iconPack",void 0),Qt([R()],Zt.prototype,"t",void 0),Zt.style=":host{line-height:initial;font-family:var(--rtk-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--rtk-space-0, 0px);padding:var(--rtk-space-0, 0px)}.scrollbar{scrollbar-width:thin;scrollbar-color:var(--rtk-scrollbar-color, rgb(var(--rtk-colors-background-600, 60 60 60)))\n    var(--rtk-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar{height:var(--rtk-space-1\\.5, 6px);width:var(--rtk-space-1\\.5, 6px);border-radius:9999px;background-color:var(--rtk-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar-thumb{border-radius:9999px;background-color:var(--rtk-scrollbar-color, rgb(var(--rtk-colors-background-600, 60 60 60)))}:host{position:relative;display:flex;flex-direction:column;overflow:hidden;height:100%;width:100%;color:rgb(var(--rtk-colors-text-1000, 255 255 255));--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}.tab-body::-webkit-scrollbar{width:var(--rtk-space-1\\.5, 6px);border-radius:var(--rtk-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-background-1000, 8 8 8) / var(--tw-bg-opacity))}.tab-body::-webkit-scrollbar-thumb{border-radius:var(--rtk-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-background-700, 44 44 44) / var(--tw-bg-opacity))}h3{margin:var(--rtk-space-0, 0px);padding:var(--rtk-space-0, 0px);font-size:16px;font-weight:600}#header{margin-top:var(--rtk-space-2, 8px);margin-bottom:var(--rtk-space-5, 20px);display:flex;align-items:center;justify-content:space-evenly}.tab-body{margin:var(--rtk-space-4, 16px);display:flex;height:100%;flex-direction:column;justify-content:space-between;overflow-y:auto}.status-container{border:var(--rtk-border-width-sm, 1px) solid rgb(var(--rtk-colors-background-600, 60 60 60));border-radius:8px;padding:16px}.status-section{margin-bottom:12px}.section-header{display:flex;justify-content:space-between;align-items:center;font-weight:bold;padding:8px 0}.section-header.only-child{justify-content:center}.section-body.missing-stats{display:flex;text-align:center;justify-content:center}.section-header .status{color:rgba(var(--rtk-colors-success));font-weight:bold}.section-header .arrow{font-size:14px}.network-table{border:var(--rtk-border-width-sm, 1px) solid rgb(var(--rtk-colors-background-600, 60 60 60));border-radius:8px;margin-top:8px;overflow:hidden}.network-row{display:flex;justify-content:space-between;padding:12px;border-bottom:var(--rtk-border-width-sm, 1px) solid rgb(var(--rtk-colors-background-600, 60 60 60))}.network-row:last-child{border-bottom:none}.network-cell{display:flex;flex-direction:column}.network-cell.label strong{font-size:14px}.network-cell.label .description{font-size:12px;color:rgb(var(--rtk-colors-text-700, 255 255 255 / 0.64));margin-top:4px}.network-cell.value{text-align:right}.status.good{color:rgba(var(--rtk-colors-success))}.status.average{color:rgba(var(--rtk-colors-warning))}.status.poor{color:rgba(var(--rtk-colors-danger))}.value{font-size:14px;color:rgb(var(--rtk-colors-text-700, 255 255 255 / 0.64));margin-top:4px}";var tr=function(t,r,e,a){var i,s=arguments.length,o=s<3?r:null===a?a=Object.getOwnPropertyDescriptor(r,e):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,r,e,a);else for(var n=t.length-1;n>=0;n--)(i=t[n])&&(o=(s<3?i(o):s>3?i(r,e,o):i(r,e))||o);return s>3&&o&&Object.defineProperty(r,e,o),o};const rr=class{constructor(r){t(this,r),this.iconPack=c,this.t=d(),this.isBatterySectionOpen=!0,this.batterySectionHealth=null,this.battery=null,this.batteryFormattedStats=[],this.batteryUpdateListener=()=>{const t=Math.round(100*this.battery.level),r=[];r.push({name:this.t("debugger.system.battery.level.label"),value:`${t}%`,description:this.t("debugger.system.battery.level.description"),verdict:Ht({batteryLevelPercentage:t})}),r.push({name:this.t("debugger.system.battery.charging.label"),value:`${this.t(this.battery.charging?"debugger.system.battery.charging.is_charging":"debugger.system.battery.charging.is_not_charging")}`,description:this.t("debugger.system.battery.charging.description"),verdict:Kt({batteryLevelPercentage:t,chargingTimeInSeconds:this.battery.chargingTime,dischargingTimeInSeconds:this.battery.dischargingTime,charging:this.battery.charging})}),this.batterySectionHealth=function({stats:t}){if(!t||!t.length)return null;let r="Good";const e=t.map((t=>t.verdict));return e.includes("Poor")?r="Poor":e.includes("Average")&&(r="Average"),r}({stats:r}),this.batteryFormattedStats=r}}toggleSection(t){"battery"===t&&(this.isBatterySectionOpen=!this.isBatterySectionOpen)}connectedCallback(){this.meetingChanged(this.meeting)}disconnectedCallback(){this.meeting&&this.battery&&(this.battery.removeEventListener("levelchange",this.batteryUpdateListener),this.battery.removeEventListener("chargingchange",this.batteryUpdateListener))}async meetingChanged(t){t&&void 0!==navigator.getBattery&&(this.battery=await navigator.getBattery(),this.battery.addEventListener("levelchange",this.batteryUpdateListener),this.battery.addEventListener("chargingchange",this.batteryUpdateListener),this.batteryUpdateListener())}render(){var t,a;if(this.meeting)return r(e,null,r("div",{id:"header"}),r("div",{class:"tab-body"},r("div",{class:"status-container"},r("div",{class:"status-section"},r("div",{class:"section-header",onClick:()=>this.toggleSection("battery")},r("span",null,this.t("debugger.system.sections.battery")),this.batterySectionHealth&&r("span",{class:`status ${null===(t=this.batterySectionHealth)||void 0===t?void 0:t.toLowerCase()}`},this.t(`debugger.quality.${null===(a=this.batterySectionHealth)||void 0===a?void 0:a.toLowerCase()}`))),this.isBatterySectionOpen&&!!this.batteryFormattedStats.length&&r("div",{class:"section-body battery-table"},this.batteryFormattedStats.map((t=>{var e,a;return r("div",{class:"battery-row"},r("div",{class:"battery-cell label"},r("strong",null,t.name),r("span",{class:"description"},t.description)),r("div",{class:"battery-cell value"},r("span",{class:`status ${null===(e=t.verdict)||void 0===e?void 0:e.toLowerCase()}`},this.t(`debugger.quality.${null===(a=t.verdict)||void 0===a?void 0:a.toLowerCase()}`)),r("span",{class:"value"},t.value)))})))))))}static get watchers(){return{meeting:["meetingChanged"]}}};tr([R()],rr.prototype,"meeting",void 0),tr([R()],rr.prototype,"states",void 0),tr([R()],rr.prototype,"iconPack",void 0),tr([R()],rr.prototype,"t",void 0),rr.style=":host{line-height:initial;font-family:var(--rtk-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--rtk-space-0, 0px);padding:var(--rtk-space-0, 0px)}.scrollbar{scrollbar-width:thin;scrollbar-color:var(--rtk-scrollbar-color, rgb(var(--rtk-colors-background-600, 60 60 60)))\n    var(--rtk-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar{height:var(--rtk-space-1\\.5, 6px);width:var(--rtk-space-1\\.5, 6px);border-radius:9999px;background-color:var(--rtk-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar-thumb{border-radius:9999px;background-color:var(--rtk-scrollbar-color, rgb(var(--rtk-colors-background-600, 60 60 60)))}:host{position:relative;display:flex;flex-direction:column;overflow:hidden;height:100%;width:100%;color:rgb(var(--rtk-colors-text-1000, 255 255 255));--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}.tab-body::-webkit-scrollbar{width:var(--rtk-space-1\\.5, 6px);border-radius:var(--rtk-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-background-1000, 8 8 8) / var(--tw-bg-opacity))}.tab-body::-webkit-scrollbar-thumb{border-radius:var(--rtk-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-background-700, 44 44 44) / var(--tw-bg-opacity))}h3{margin:var(--rtk-space-0, 0px);padding:var(--rtk-space-0, 0px);font-size:16px;font-weight:600}#header{margin-top:var(--rtk-space-2, 8px);margin-bottom:var(--rtk-space-5, 20px);display:flex;align-items:center;justify-content:space-evenly}.tab-body{margin:var(--rtk-space-4, 16px);display:flex;height:100%;flex-direction:column;justify-content:space-between;overflow-y:auto}.status-container{border:var(--rtk-border-width-sm, 1px) solid rgb(var(--rtk-colors-background-600, 60 60 60));border-radius:8px;padding:16px}.status-section{margin-bottom:12px}.section-header{display:flex;justify-content:space-between;align-items:center;font-weight:bold;padding:8px 0}.section-body.missing-stats{display:flex;text-align:center;justify-content:center}.section-header .status{color:rgba(var(--rtk-colors-success));font-weight:bold}.section-header .arrow{font-size:14px}.battery-table{border:var(--rtk-border-width-sm, 1px) solid rgb(var(--rtk-colors-background-600, 60 60 60));border-radius:8px;margin-top:8px;overflow:hidden}.battery-row{display:flex;justify-content:space-between;padding:12px;border-bottom:var(--rtk-border-width-sm, 1px) solid rgb(var(--rtk-colors-background-600, 60 60 60))}.battery-row:last-child{border-bottom:none}.battery-cell{display:flex;flex-direction:column}.battery-cell.label strong{font-size:14px}.battery-cell.label .description{font-size:12px;color:rgb(var(--rtk-colors-text-700, 255 255 255 / 0.64));margin-top:4px}.battery-cell.value{text-align:right}.status.good{color:rgba(var(--rtk-colors-success))}.status.average{color:rgba(var(--rtk-colors-warning))}.status.poor{color:rgba(var(--rtk-colors-danger))}.value{font-size:14px;color:rgb(var(--rtk-colors-text-700, 255 255 255 / 0.64));margin-top:4px}rtk-settings-video{display:flex;flex-direction:column}";var er=function(t,r,e,a){var i,s=arguments.length,o=s<3?r:null===a?a=Object.getOwnPropertyDescriptor(r,e):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,r,e,a);else for(var n=t.length-1;n>=0;n--)(i=t[n])&&(o=(s<3?i(o):s>3?i(r,e,o):i(r,e))||o);return s>3&&o&&Object.defineProperty(r,e,o),o};const ar=class{constructor(r){t(this,r),this.iconPack=c,this.t=d(),this.isNetworkOpen=!0,this.isDevicesOpen=!1,this.videoProducerFormattedStats=[],this.videoProducerScoreStats=null,this.networkBasedMediaHealth=null,this.devicesHealth=null,this.mediaScoreUpdateListener=({kind:t,isScreenshare:r,scoreStats:e})=>{"video"!==t||r||(this.videoProducerScoreStats=e)},this.deviceListUpdateListener=async()=>{const t=await this.meeting.self.getVideoDevices();this.devicesHealth=(null==t?void 0:t.length)>0?"Good":"Poor"},this.videoUpdateListener=()=>{this.meeting.self.videoEnabled||(this.videoProducerScoreStats=null)}}async videoProducerScoreStatsChanged(t){if(!t)return void(this.videoProducerFormattedStats=[]);const r=t,e=[];e.push({name:this.t("debugger.stats.cpu_limitations.label"),value:r.cpuLimitations?"Yes":"No",description:this.t("debugger.stats.cpu_limitations.description"),verdict:r.cpuLimitations?"Poor":"Good"}),e.push({name:this.t("debugger.stats.bandwidth_limitations.label"),value:r.bandwidthLimitations?"Yes":"No",description:this.t("debugger.stats.bandwidth_limitations.description"),verdict:r.bandwidthLimitations?"Poor":"Good"}),e.push({name:this.t("debugger.stats.bitrate.label"),value:`${Math.round(r.bitrate/1024)} kbps`,description:this.t("debugger.stats.bitrate.description"),verdict:Xt({bitrate:r.bitrate,kind:"video",isScreenshare:!1})}),e.push({name:this.t("debugger.stats.packet_loss.label"),value:`${r.packetsLostPercentage}%`,description:this.t("debugger.stats.packet_loss.description"),verdict:Jt({packetLossPercentage:r.packetsLostPercentage})}),e.push({name:this.t("debugger.stats.jitter.label"),value:`${Math.round(1e3*r.jitter)} ms`,description:this.t("debugger.stats.jitter.description"),verdict:Ft({jitterInMS:1e3*r.jitter})}),this.videoProducerFormattedStats=e,this.networkBasedMediaHealth=Bt({kind:"video",isScreenshare:!1,stats:e})}connectedCallback(){this.meetingChanged(this.meeting)}disconnectedCallback(){this.meeting&&(this.meeting.self.off("mediaScoreUpdate",this.mediaScoreUpdateListener),this.meeting.self.off("videoUpdate",this.videoUpdateListener),this.meeting.self.off("deviceListUpdate",this.deviceListUpdateListener))}async meetingChanged(t){t&&(t.self.on("mediaScoreUpdate",this.mediaScoreUpdateListener),t.self.on("videoUpdate",this.videoUpdateListener),t.self.on("deviceListUpdate",this.deviceListUpdateListener),await this.deviceListUpdateListener())}render(){var t,a;if(this.meeting)return r(e,null,r("div",{id:"header"}),r("div",{class:"tab-body"},r("div",{class:"status-container"},r("div",{class:"status-section"},r("div",{class:"section-header "+(this.networkBasedMediaHealth?"":"only-child")},r("span",null,this.t("debugger.video.sections.network_media")),this.networkBasedMediaHealth&&r("span",{class:`status ${null===(t=this.networkBasedMediaHealth)||void 0===t?void 0:t.toLowerCase()}`},this.t(`debugger.quality.${null===(a=this.networkBasedMediaHealth)||void 0===a?void 0:a.toLowerCase()}`))),this.isNetworkOpen&&!this.videoProducerFormattedStats.length&&r("div",{class:"section-body missing-stats"},r("span",null,this.t(this.meeting.self.videoEnabled?"debugger.video.messages.generating_report":"debugger.video.messages.enable_media"))),this.isNetworkOpen&&!!this.videoProducerFormattedStats.length&&r("div",{class:"section-body network-table"},this.videoProducerFormattedStats.map((t=>{var e,a;return r("div",{class:"network-row"},r("div",{class:"network-cell label"},r("strong",null,t.name),r("span",{class:"description"},t.description)),r("div",{class:"network-cell value"},r("span",{class:`status ${null===(e=t.verdict)||void 0===e?void 0:e.toLowerCase()}`},this.t(`debugger.quality.${null===(a=t.verdict)||void 0===a?void 0:a.toLowerCase()}`)),r("span",{class:"value"},t.value)))})))))))}static get watchers(){return{videoProducerScoreStats:["videoProducerScoreStatsChanged"],meeting:["meetingChanged"]}}};er([R()],ar.prototype,"meeting",void 0),er([R()],ar.prototype,"states",void 0),er([R()],ar.prototype,"iconPack",void 0),er([R()],ar.prototype,"t",void 0),ar.style=":host{line-height:initial;font-family:var(--rtk-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--rtk-space-0, 0px);padding:var(--rtk-space-0, 0px)}.scrollbar{scrollbar-width:thin;scrollbar-color:var(--rtk-scrollbar-color, rgb(var(--rtk-colors-background-600, 60 60 60)))\n    var(--rtk-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar{height:var(--rtk-space-1\\.5, 6px);width:var(--rtk-space-1\\.5, 6px);border-radius:9999px;background-color:var(--rtk-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar-thumb{border-radius:9999px;background-color:var(--rtk-scrollbar-color, rgb(var(--rtk-colors-background-600, 60 60 60)))}:host{position:relative;display:flex;flex-direction:column;overflow:hidden;height:100%;width:100%;color:rgb(var(--rtk-colors-text-1000, 255 255 255));--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}.tab-body::-webkit-scrollbar{width:var(--rtk-space-1\\.5, 6px);border-radius:var(--rtk-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-background-1000, 8 8 8) / var(--tw-bg-opacity))}.tab-body::-webkit-scrollbar-thumb{border-radius:var(--rtk-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-background-700, 44 44 44) / var(--tw-bg-opacity))}h3{margin:var(--rtk-space-0, 0px);padding:var(--rtk-space-0, 0px);font-size:16px;font-weight:600}#header{margin-top:var(--rtk-space-2, 8px);margin-bottom:var(--rtk-space-5, 20px);display:flex;align-items:center;justify-content:space-evenly}.tab-body{margin:var(--rtk-space-4, 16px);display:flex;height:100%;flex-direction:column;justify-content:space-between;overflow-y:auto}.status-container{border:var(--rtk-border-width-sm, 1px) solid rgb(var(--rtk-colors-background-600, 60 60 60));border-radius:8px;padding:16px}.status-section{margin-bottom:12px}.section-header{display:flex;justify-content:space-between;align-items:center;font-weight:bold;padding:8px 0}.section-header.only-child{justify-content:center}.section-body.missing-stats{display:flex;text-align:center;justify-content:center}.section-header .status{color:rgba(var(--rtk-colors-success));font-weight:bold}.section-header .arrow{font-size:14px}.network-table{border:var(--rtk-border-width-sm, 1px) solid rgb(var(--rtk-colors-background-600, 60 60 60));border-radius:8px;margin-top:8px;overflow:hidden}.network-row{display:flex;justify-content:space-between;padding:12px;border-bottom:var(--rtk-border-width-sm, 1px) solid rgb(var(--rtk-colors-background-600, 60 60 60))}.network-row:last-child{border-bottom:none}.network-cell{display:flex;flex-direction:column}.network-cell.label strong{font-size:14px}.network-cell.label .description{font-size:12px;color:rgb(var(--rtk-colors-text-700, 255 255 255 / 0.64));margin-top:4px}.network-cell.value{text-align:right}.status.good{color:rgba(var(--rtk-colors-success))}.status.average{color:rgba(var(--rtk-colors-warning))}.status.poor{color:rgba(var(--rtk-colors-danger))}.value{font-size:14px;color:rgb(var(--rtk-colors-text-700, 255 255 255 / 0.64));margin-top:4px}rtk-settings-video{display:flex;flex-direction:column}";var ir=function(t,r,e,a){var i,s=arguments.length,o=s<3?r:null===a?a=Object.getOwnPropertyDescriptor(r,e):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,r,e,a);else for(var n=t.length-1;n>=0;n--)(i=t[n])&&(o=(s<3?i(o):s>3?i(r,e,o):i(r,e))||o);return s>3&&o&&Object.defineProperty(r,e,o),o};const sr=class{constructor(r){t(this,r),this.onClose=a(this,"rtkDialogClose",7),this.hideCloseButton=!1,this.disableEscapeKey=!1,this.config=g(),this.iconPack=c,this.t=d(),this.open=!0,this.close=()=>{this.open=!1,this.onClose.emit()},this.keydownListener=t=>{!this.disableEscapeKey&&"Escape"===t.key&&this.open&&this.close()}}connectedCallback(){document.addEventListener("keydown",this.keydownListener)}disconnectedCallback(){document.removeEventListener("keydown",this.keydownListener)}componentDidRender(){this.open&&!this.dialogEl.open&&this.dialogEl.showModal()}render(){return this.open?r(e,null,r("dialog",{ref:t=>this.dialogEl=t,id:"dialog",part:"container",onClose:this.close,onClick:t=>{this.disableEscapeKey||t.target!==this.dialogEl||this.close()},onKeyDown:t=>{this.disableEscapeKey&&"Escape"===t.key&&t.preventDefault()}},r("slot",null),!this.hideCloseButton&&r("rtk-button",{part:"close-button",id:"dismiss-btn",kind:"icon",variant:"ghost",onClick:()=>this.close(),type:"button","aria-label":this.t("dialog.close"),role:"button"},r("rtk-icon",{icon:this.iconPack.dismiss})))):null}};ir([R()],sr.prototype,"meeting",void 0),ir([R()],sr.prototype,"config",void 0),ir([R()],sr.prototype,"states",void 0),ir([R()],sr.prototype,"iconPack",void 0),ir([R()],sr.prototype,"t",void 0),sr.style=":host{line-height:initial;font-family:var(--rtk-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--rtk-space-0, 0px);padding:var(--rtk-space-0, 0px)}:host{word-wrap:break-word;overflow-wrap:break-word}#dialog{position:relative;max-height:100%;max-width:100%;padding:var(--rtk-space-0, 0px);border-width:var(--rtk-border-width-none, 0);border-style:none;background-color:transparent;color:rgb(var(--rtk-colors-text-1000, 255 255 255))}#dialog::backdrop{background-color:rgba(var(--rtk-colors-background-600, 60 60 60) / 0.5);-webkit-backdrop-filter:blur(12px) saturate(180%);backdrop-filter:blur(12px) saturate(180%)}#dismiss-btn{position:absolute;top:var(--rtk-space-3, 12px);right:var(--rtk-space-3, 12px);z-index:50}::slotted(*){max-width:100%;height:auto;min-height:-moz-fit-content;min-height:fit-content}";var or=function(t,r,e,a){var i,s=arguments.length,o=s<3?r:null===a?a=Object.getOwnPropertyDescriptor(r,e):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,r,e,a);else for(var n=t.length-1;n>=0;n--)(i=t[n])&&(o=(s<3?i(o):s>3?i(r,e,o):i(r,e))||o);return s>3&&o&&Object.defineProperty(r,e,o),o};const nr=class{constructor(r){t(this,r),this.stateUpdate=a(this,"rtkStateUpdate",7),this.config=g(),this.iconPack=c,this.t=d(),this.updateStoreState=(t,r)=>{this.stateUpdate.emit({[t]:r})},this.cancelJoinStage=async()=>{var t,r,e;"ACCEPTED_TO_JOIN_STAGE"===(null===(t=this.meeting.stage)||void 0===t?void 0:t.status)&&await(null===(e=null===(r=this.meeting)||void 0===r?void 0:r.stage)||void 0===e?void 0:e.leave()),this.updateStoreState("activeJoinStage",!1)},this.joinStage=async()=>{await this.meeting.stage.join()},this.stageStatusUpdateListener=t=>{var r;(null===(r=this.states)||void 0===r?void 0:r.activeJoinStage)&&"ON_STAGE"===t&&this.updateStoreState("activeJoinStage",!1)}}connectedCallback(){this.meetingChanged(this.meeting)}disconnectedCallback(){var t;null===(t=this.meeting.stage)||void 0===t||t.removeListener("stageStatusUpdate",this.stageStatusUpdateListener)}meetingChanged(t){if(!t)return;const{stage:r}=t;null==r||r.addListener("stageStatusUpdate",this.stageStatusUpdateListener)}render(){var t,a,i,s;if(!this.meeting)return;const o={meeting:this.meeting,states:this.states,config:this.config,size:this.size,iconPack:this.iconPack,t:this.t},n=this.states;if(null!=(null==n?void 0:n.image)){const t=()=>{this.stateUpdate.emit({image:null})};return r(e,null,r("rtk-dialog",{open:!0,onRtkDialogClose:t,hideCloseButton:!0,iconPack:this.iconPack,t:this.t},r(J,{element:"rtk-image-viewer",defaults:o,props:{image:n.image,onClose:t}})))}if(!0===(null==n?void 0:n.activeSettings))return r(e,null,r("rtk-dialog",{open:!0,onRtkDialogClose:()=>this.updateStoreState("activeSettings",!1),iconPack:this.iconPack,t:this.t},r(J,{element:"rtk-settings",defaults:o})));if(!0===(null==n?void 0:n.activeDebugger))return r(e,null,r("rtk-dialog",{open:!0,onRtkDialogClose:()=>this.updateStoreState("activeDebugger",!1),iconPack:this.iconPack,t:this.t},r("rtk-debugger",Object.assign({},o))));if(!0===(null==n?void 0:n.activeLeaveConfirmation))return r(e,null,r("rtk-dialog",{open:!0,onRtkDialogClose:()=>this.updateStoreState("activeLeaveConfirmation",!1),iconPack:this.iconPack,t:this.t},r("rtk-leave-meeting",Object.assign({},o))));if(!0===(null===(t=null==n?void 0:n.activePermissionsMessage)||void 0===t?void 0:t.enabled))return r(e,null,r("rtk-dialog",{open:!0,hideCloseButton:!0,iconPack:this.iconPack,t:this.t},r("rtk-permissions-message",Object.assign({},o))));if(!0===(null===(a=null==n?void 0:n.activeBreakoutRoomsManager)||void 0===a?void 0:a.active))return r(e,null,r("rtk-dialog",{open:!0,onRtkDialogClose:()=>this.updateStoreState("activeBreakoutRoomsManager",{active:!1,data:void 0}),iconPack:this.iconPack,t:this.t},r("rtk-breakout-rooms-manager",Object.assign({},o))));if(!0===(null===(i=null==n?void 0:n.activeConfirmationModal)||void 0===i?void 0:i.active))return r(e,null,r("rtk-dialog",{open:!0,onRtkDialogClose:()=>this.updateStoreState("activeConfirmationModal",!1),iconPack:this.iconPack,t:this.t},r("rtk-confirmation-modal",Object.assign({},o))));if(!0===(null===(s=null==n?void 0:n.activeOverlayModal)||void 0===s?void 0:s.active))return r(e,null,r("rtk-overlay-modal",{meeting:this.meeting,states:this.states,iconPack:this.iconPack,t:this.t}));if(null==n?void 0:n.activeBroadcastMessageModal)return r(e,null,r("rtk-dialog",{open:!0,onRtkDialogClose:()=>this.updateStoreState("activeBroadcastMessageModal",!1),iconPack:this.iconPack,t:this.t},r("rtk-broadcast-message-modal",Object.assign({},o))));if(!0===(null==n?void 0:n.activeJoinStage)){const t={title:this.t("stage.join_title"),label:{accept:this.t("stage.join_confirm"),reject:this.t("stage.join_cancel")},description:this.t("stage.join_summary")};return r(e,null,r("rtk-dialog",{open:!0,onRtkDialogClose:this.cancelJoinStage,iconPack:this.iconPack,t:this.t},r("rtk-join-stage",Object.assign({dataConfig:t,onRtkJoinStage:this.joinStage,onRtkLeaveStage:this.cancelJoinStage},o))))}return!0===(null==n?void 0:n.activeMuteAllConfirmation)?r(e,null,r("rtk-dialog",{open:!0,onRtkDialogClose:()=>{this.updateStoreState("activeMuteAllConfirmation",!1)},iconPack:this.iconPack,t:this.t},r("rtk-mute-all-confirmation",Object.assign({},o)))):(null==n?void 0:n.activeChannelCreator)?r(e,null,r("rtk-dialog",{open:!0,onRtkDialogClose:()=>{this.updateStoreState("activeChannelCreator",!1)},iconPack:this.iconPack,t:this.t},r("rtk-channel-creator",Object.assign({},o)))):null}static get watchers(){return{meeting:["meetingChanged"]}}};or([R()],nr.prototype,"meeting",void 0),or([R()],nr.prototype,"config",void 0),or([R()],nr.prototype,"states",void 0),or([R()],nr.prototype,"iconPack",void 0),or([R()],nr.prototype,"t",void 0),nr.style=":host{line-height:initial;font-family:var(--rtk-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--rtk-space-0, 0px);padding:var(--rtk-space-0, 0px)}:host{display:block}";var cr=function(t,r,e,a){var i,s=arguments.length,o=s<3?r:null===a?a=Object.getOwnPropertyDescriptor(r,e):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,r,e,a);else for(var n=t.length-1;n>=0;n--)(i=t[n])&&(o=(s<3?i(o):s>3?i(r,e,o):i(r,e))||o);return s>3&&o&&Object.defineProperty(r,e,o),o};const dr=class{constructor(r){t(this,r),this.onDeleteAttachment=a(this,"deleteAttachment",7),this.iconPack=c,this.t=d(),this.attachment=null,this.filePreview=null,this.fileReader=new FileReader,this.generatePreview=()=>{"image"===this.attachment.type?this.fileReader.readAsDataURL(this.attachment.file):"file"===this.attachment.type&&(this.filePreview=this.attachment.file.name)},this.onDeleteClickHandler=()=>{this.filePreview=null,this.onDeleteAttachment.emit()}}onAttachmentChange(){this.generatePreview()}connectedCallback(){this.fileReader.onload=t=>{"string"==typeof t.target.result&&(this.filePreview=t.target.result)}}componentWillLoad(){this.onAttachmentChange()}render(){return r(e,{key:"22c8ff3317b6247dc6a0fa2088f28dc293de9738"},r("div",{key:"317c0e6a06849af0af42d81353dc0002b82185a5",class:"preview-overlay"},r("div",{key:"94d0d35a3696725b59341303760212cf6e01c8a7",class:"preview"},r("rtk-tooltip",{key:"3171acf60f22a80cbcbf9d3d6f8cf5ac61b67b67",label:this.t("chat.cancel_upload")},r("rtk-button",{key:"37d1055de9d59318c0f7f612dee3304838142968",variant:"secondary",kind:"icon",onClick:this.onDeleteClickHandler},r("rtk-icon",{key:"9988b389300e0c6bd404d02440d7b3d323f384dd",icon:this.iconPack.dismiss}))),"image"===this.attachment.type?r("img",{class:"preview-image",src:this.filePreview}):r("div",{class:"preview-file"},r("span",null,this.filePreview)))))}static get watchers(){return{attachment:["onAttachmentChange"]}}};let lr;cr([R()],dr.prototype,"iconPack",void 0),cr([R()],dr.prototype,"t",void 0),dr.style=":host{display:flex;--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-background-800, 30 30 30) / var(--tw-bg-opacity));border-top-left-radius:var(--rtk-border-radius-md, 8px);border-top-right-radius:var(--rtk-border-radius-md, 8px)}.preview-overlay{position:absolute;top:var(--rtk-space-0, 0px);right:var(--rtk-space-0, 0px);bottom:var(--rtk-space-0, 0px);left:var(--rtk-space-0, 0px);background-color:inherit}.preview{position:absolute;top:var(--rtk-space-4, 16px);left:var(--rtk-space-4, 16px);max-width:-moz-fit-content;max-width:fit-content;max-height:var(--rtk-space-20, 80px)}.preview:hover rtk-tooltip{display:block}.preview rtk-tooltip{position:absolute;top:calc(var(--rtk-space-1, 4px) * -1);left:calc(var(--rtk-space-1, 4px) * -1);display:none;margin-left:calc(var(--rtk-space-1, 4px) * -1);margin-top:calc(var(--rtk-space-1, 4px) * -1)}.preview rtk-button{display:flex;height:var(--rtk-space-4, 16px);width:var(--rtk-space-4, 16px);align-items:center;justify-content:center;border-radius:9999px;--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-background-600, 60 60 60) / var(--tw-bg-opacity));border:1px solid rgb(var(--rtk-colors-text-1000, 255 255 255))}.preview rtk-icon{height:var(--rtk-space-3, 12px);width:var(--rtk-space-3, 12px);color:rgb(var(--rtk-colors-text-1000, 255 255 255))}.preview-image{height:var(--rtk-space-16, 64px);width:var(--rtk-space-16, 64px);-o-object-fit:cover;object-fit:cover;max-height:100%;max-width:100%;overflow:clip;border-radius:var(--rtk-border-radius-md, 8px)}.preview-file{padding-left:var(--rtk-space-3, 12px);padding-right:var(--rtk-space-3, 12px);padding-top:var(--rtk-space-2, 8px);padding-bottom:var(--rtk-space-2, 8px);--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-background-600, 60 60 60) / var(--tw-bg-opacity));color:rgb(var(--rtk-colors-text-900, 255 255 255 / 0.88));overflow:hidden;text-overflow:ellipsis;white-space:nowrap;border-radius:var(--rtk-border-radius-md, 8px);max-width:200px}";var hr=function(t,r,e,a){var i,s=arguments.length,o=s<3?r:null===a?a=Object.getOwnPropertyDescriptor(r,e):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,r,e,a);else for(var n=t.length-1;n>=0;n--)(i=t[n])&&(o=(s<3?i(o):s>3?i(r,e,o):i(r,e))||o);return s>3&&o&&Object.defineProperty(r,e,o),o};const pr=class{constructor(r){t(this,r),this.pickerClose=a(this,"pickerClose",7),this.emojiClicked=a(this,"rtkEmojiClicked",7),this.iconPack=c,this.t=d(),this.focusWhenOpened=!0,this.filterVal="",this.filteredEmojis=[]}componentWillLoad(){(async()=>{if(!lr){const t=await fetch("https://cdn.dyte.in/assets/emojis-data.json");lr=t.json()}return lr})().then((t=>{this.emojiList=t,this.handleInputChange(this.inputElement)}))}componentDidLoad(){this.focusWhenOpened&&this.inputElement.focus()}handleInputChange(t){this.filterVal=t.value;const r=new RegExp(`([^,]*?${this.filterVal}[^,]*):(\\d+)`,"g");this.filteredEmojis=Array.from(this.emojiList.search.matchAll(r)).map((t=>({name:t[1],emoji:this.emojiList.emojis[t[2]]})))}handleEmojiClick(t){this.emojiClicked.emit(t)}mapEmojiList(){var t;return(null===(t=this.emojiList)||void 0===t?void 0:t.length)>0?r("div",{id:"loader"},r("rtk-spinner",{iconPack:this.iconPack})):r("div",{id:"emoji-grid",class:"scrollbar max-w-40"},this.filteredEmojis.map((t=>r("rtk-button",{key:`emoji-button-${t.name}`,class:"emoji",variant:"ghost",kind:"icon",title:t.name,onClick:()=>this.handleEmojiClick(t.emoji)},t.emoji))))}render(){return r(e,{key:"48f4159ff5232b9d03fdcabf2d39e4375ca4fa14"},r("div",{key:"20f86592a9dc47231c0c6cf33484af981533e21d",class:"close-parent"},r("rtk-button",{key:"cff61f9c8fa0c1e0a8b6dc9433abedf914f9ded0",variant:"ghost",kind:"icon",class:"close",onClick:()=>{var t;return null===(t=this.pickerClose)||void 0===t?void 0:t.emit()},"aria-label":this.t("close")},r("rtk-icon",{key:"56a12d4cc55b80ea026c92906466ebb10bf6cd6e",icon:this.iconPack.dismiss}))),r("div",{key:"b48a1933b33f9886f39955ecbd046ffff370719b",class:"emoji-parent"},r("input",{key:"40d0f74a160358c3214b810de0f2ee6f286f1af7",value:this.filterVal,onInput:t=>this.handleInputChange(t.target),placeholder:this.t("search"),ref:t=>this.inputElement=t}),this.mapEmojiList()))}};hr([R()],pr.prototype,"iconPack",void 0),hr([R()],pr.prototype,"t",void 0),pr.style=":host{line-height:initial;font-family:var(--rtk-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--rtk-space-0, 0px);padding:var(--rtk-space-0, 0px)}.scrollbar{scrollbar-width:thin;scrollbar-color:var(--rtk-scrollbar-color, rgb(var(--rtk-colors-background-600, 60 60 60)))\n    var(--rtk-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar{height:var(--rtk-space-1\\.5, 6px);width:var(--rtk-space-1\\.5, 6px);border-radius:9999px;background-color:var(--rtk-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar-thumb{border-radius:9999px;background-color:var(--rtk-scrollbar-color, rgb(var(--rtk-colors-background-600, 60 60 60)))}:host{width:100%}.emoji-parent{box-sizing:border-box;display:inline-flex;height:var(--rtk-space-64, 256px);width:100%;max-width:640px;flex-direction:column;padding:var(--rtk-space-2, 8px);padding-bottom:var(--rtk-space-0, 0px);-webkit-user-select:none;-moz-user-select:none;user-select:none;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms;--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-background-800, 30 30 30) / var(--tw-bg-opacity));color:rgb(var(--rtk-colors-text-1000, 255 255 255))}.close-parent{display:flex;flex:1 1 0%;justify-content:flex-end;padding:var(--rtk-space-0, 0px);--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-background-800, 30 30 30) / var(--tw-bg-opacity));color:rgb(var(--rtk-colors-text-1000, 255 255 255))}#emoji-grid{margin-top:var(--rtk-space-2, 8px);box-sizing:border-box;display:flex;flex-direction:row;flex-wrap:wrap;align-content:flex-start;overflow-x:hidden;overflow-y:scroll;height:100%;grid-auto-rows:minmax(min-content, max-content)}#loader{display:flex;height:100%;width:100%;align-items:center;justify-content:center}input{display:block;height:var(--rtk-space-8, 32px);padding-left:var(--rtk-space-2, 8px);padding-right:var(--rtk-space-2, 8px);font-size:14px;border-width:var(--rtk-border-width-none, 0);border-style:solid;border-style:none;border-color:rgb(var(--rtk-colors-text-700, 255 255 255 / 0.64));--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-background-800, 30 30 30) / var(--tw-bg-opacity));color:rgb(var(--rtk-colors-text-900, 255 255 255 / 0.88))}input::-moz-placeholder{color:rgb(var(--rtk-colors-text-700, 255 255 255 / 0.64))}input::placeholder{color:rgb(var(--rtk-colors-text-700, 255 255 255 / 0.64))}input{border-radius:var(--rtk-border-radius-sm, 4px);outline:2px solid transparent;outline-offset:2px;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, -webkit-backdrop-filter;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter, -webkit-backdrop-filter;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms;border:var(--rtk-border-width-sm, 1px) solid rgb(var(--rtk-colors-background-600, 60 60 60))}input:focus{--tw-border-opacity:1;border-color:rgba(var(--rtk-colors-brand-300, 73 124 253) / var(--tw-border-opacity));--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(4px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000);--tw-ring-color:rgba(var(--rtk-colors-brand-300, 73 124 253) / var(--tw-ring-opacity));--tw-ring-opacity:0.3}.emoji{height:var(--rtk-space-10, 40px);width:var(--rtk-space-10, 40px);font-size:20px;color:rgb(var(--rtk-colors-text-1000, 255 255 255))}";var br=function(t,r,e,a){var i,s=arguments.length,o=s<3?r:null===a?a=Object.getOwnPropertyDescriptor(r,e):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,r,e,a);else for(var n=t.length-1;n>=0;n--)(i=t[n])&&(o=(s<3?i(o):s>3?i(r,e,o):i(r,e))||o);return s>3&&o&&Object.defineProperty(r,e,o),o};const gr=class{constructor(r){t(this,r),this.iconPack=c,this.t=d()}render(){return r("rtk-tooltip",{key:"9826128cb78d2cb79a21b4dcb877ecc1ab020090",label:this.t("chat.send_emoji")},r("rtk-button",{key:"07fd6bcc6ffdb58278c843748f771a2597f8edcd",variant:"ghost",kind:"icon",class:{active:this.isActive},title:this.t("chat.send_emoji")},r("rtk-icon",{key:"30f352d18771bd542d9ca4ff1a4615ef5958ec7d",icon:this.iconPack.emoji_multiple})))}};br([R()],gr.prototype,"iconPack",void 0),br([R()],gr.prototype,"t",void 0),gr.style=":host{}";var kr=function(t,r,e,a){var i,s=arguments.length,o=s<3?r:null===a?a=Object.getOwnPropertyDescriptor(r,e):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,r,e,a);else for(var n=t.length-1;n>=0;n--)(i=t[n])&&(o=(s<3?i(o):s>3?i(r,e,o):i(r,e))||o);return s>3&&o&&Object.defineProperty(r,e,o),o};const vr=class{constructor(r){t(this,r),this.now=new Date,this.isContinued=!1,this.iconPack=c,this.t=d(),this.showBubble=!1}render(){const t=C(this.message.link);return r(e,{key:"771fc8ccb2700a3fba83f04676a0c4396c1a8a41"},!this.isContinued&&r(Y,{key:"ef2d83897dcae870bb7a2b0eeef397585b873b77",name:this.message.displayName,time:this.message.time,now:this.now}),r("div",{key:"841039fcad32f254653bd490a98f268479345b44",class:{body:!0,bubble:this.showBubble},part:"body"},r("div",{key:"65e3c8aafa4e9fa55a24264685bb0cf20841048a",class:"file"},r("div",{key:"1b1e97b1518c5471964ea91889f4500fc0e01e03",class:"file-data"},r("div",{key:"ff9d3071b528162f6e796ccb49e2472df2e8d364",class:"name"},this.message.name),r("div",{key:"1d3ccb1f5bc2a94983de216e77a8ebc0ae07d669",class:"file-data-split"},r("div",{key:"ebab32b642e097b3c1c1903269a8d76fbd586f5c",class:"ext"},F(this.message.name)),r("span",{key:"81ee3600ba18a7689706504befebcf02697a56e7",class:"divider"}),r("div",{key:"e969a8d6221d8af560a26510c38a92406a18ef2a",class:"size"},X(this.message.size)))),r("rtk-button",{key:"482c27659f71cfebf9f88fdf538e32baa6b87073",variant:"secondary",kind:"icon",onClick:()=>H(t,{name:this.message.name,fallbackName:"file"}),part:"button"},r("rtk-icon",{key:"4efaeb927b4ea2010eed09227eb7f511b9253017",icon:this.iconPack.download})))))}};kr([R()],vr.prototype,"iconPack",void 0),kr([R()],vr.prototype,"t",void 0);const ur=class{constructor(r){t(this,r),this.iconPack=c}render(){return r("div",{key:"d2cbeddc138f81c05da1656ee7f59c170e83bd1e",class:"file"},r("rtk-button",{key:"b0ee90c3493c24e938b6ea88a317c642e4afc003",variant:"secondary",kind:"icon",onClick:()=>H(C(this.url),{name:this.name,fallbackName:"file"}),part:"button"},r("rtk-icon",{key:"c1b25c655b5c87bf95948abfa461f8b58ff79195",icon:this.iconPack.download})),r("div",{key:"c961a8ce93d4ff4405590787a88b5a9bbdbf56ab",class:"file-data"},r("div",{key:"bd178354d166c7816d6fabb72f7bba70fd711415",class:"name"},this.name),r("div",{key:"59a791ae9f94a13b4005a0d8f79d09687fe3fc4c",class:"file-data-split"},r("div",{key:"b31421fdf786d92eed0decec9d3b247530413aa9",class:"ext"},F(this.name)),r("span",{key:"7a0a2a188b3e0b6bee0cf54d3afe29c2454788bb",class:"divider"}),r("div",{key:"b217b87fa0737732aae10662b82d337d7258e6d7",class:"size"},X(this.size)))))}};(function(t,r,e,a){var i,s=arguments.length,o=s<3?r:null===a?a=Object.getOwnPropertyDescriptor(r,e):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,r,e,a);else for(var n=t.length-1;n>=0;n--)(i=t[n])&&(o=(s<3?i(o):s>3?i(r,e,o):i(r,e))||o);s>3&&o&&Object.defineProperty(r,e,o)})([R()],ur.prototype,"iconPack",void 0),ur.style=":host{line-height:initial;font-family:var(--rtk-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--rtk-space-0, 0px);padding:var(--rtk-space-0, 0px)}.file{display:flex;align-items:center;gap:var(--rtk-space-1, 4px);padding-left:var(--rtk-space-2, 8px);padding-right:var(--rtk-space-2, 8px);padding-top:var(--rtk-space-1, 4px);padding-bottom:var(--rtk-space-1, 4px);min-width:var(--rtk-space-40, 160px);max-width:var(--rtk-space-64, 256px);border-radius:var(--rtk-border-radius-sm, 4px);--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-background-700, 44 44 44) / var(--tw-bg-opacity));color:rgb(var(--rtk-colors-text-700, 255 255 255 / 0.64))}.file .file-data{margin-left:var(--rtk-space-1, 4px);flex:1 1 0%}.file .file-data .name{word-break:break-all;color:rgb(var(--rtk-colors-text-1000, 255 255 255));overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1}.file .file-data .file-data-split{margin-top:var(--rtk-space-0\\.5, 2px);display:flex;align-items:center;font-size:12px}.file .file-data .file-data-split .ext{margin-right:var(--rtk-space-2, 8px);text-transform:uppercase;overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1}.file .file-data .file-data-split .divider{height:var(--rtk-space-4, 16px);width:var(--rtk-space-0\\.5, 2px);--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}.file .file-data .file-data-split .size{margin-left:var(--rtk-space-2, 8px)}";var fr=function(t,r,e,a){var i,s=arguments.length,o=s<3?r:null===a?a=Object.getOwnPropertyDescriptor(r,e):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,r,e,a);else for(var n=t.length-1;n>=0;n--)(i=t[n])&&(o=(s<3?i(o):s>3?i(r,e,o):i(r,e))||o);return s>3&&o&&Object.defineProperty(r,e,o),o};const mr=class{constructor(r){t(this,r),this.onFileChange=a(this,"fileChange",7),this.icon="attach",this.iconPack=c,this.t=d(),this.uploadFile=()=>{const t=this.fileInputField;t.type="file",this.filter&&(t.accept=this.filter),t.onchange=t=>{const{validity:r,files:[e]}=t.target;r.valid&&this.onFileChange.emit(e)},t.click()}}connectedCallback(){this.fileInputField=document.createElement("input")}disconnectedCallback(){this.fileInputField=void 0}render(){const t=this.label||this.t("chat.send_file");return r("rtk-tooltip",{key:"90e405f39792f7ea0430c55e9b5ba0da72ce2a4a",label:t},r("rtk-button",{key:"f0957e7a9668afd9e25e866ea2acbb6891123bbe",variant:"ghost",kind:"icon",onClick:()=>this.uploadFile(),title:t},r("rtk-icon",{key:"1955f524343683974831b28629291428637aa8fc",icon:this.iconPack[this.icon]})))}};fr([R()],mr.prototype,"iconPack",void 0),fr([R()],mr.prototype,"t",void 0),mr.style=":host{}";const xr=t=>{try{return JSON.parse(t)}catch(r){return t}},wr=class{constructor(r){t(this,r),this.variant="primary",this.size="lg"}render(){return r(e,{key:"fbacb1ee3dd4c1ca7aa612f08e938601df73036c"},r("div",{key:"04c026967cb7aa3acb3fba09fcf5b0d33f45e2b0",class:"icon-wrapper",innerHTML:xr(this.icon),part:"wrapper"}))}};wr.style=":host{line-height:initial;font-family:var(--rtk-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--rtk-space-0, 0px);padding:var(--rtk-space-0, 0px)}:host{display:block;height:var(--rtk-space-10, 40px);outline:2px solid transparent;outline-offset:2px}:host .icon-wrapper{display:flex;height:100%;width:100%;flex-direction:column;align-items:center}:host svg{height:100%;width:100%;outline:2px solid transparent;outline-offset:2px}:host([size='xl']){box-sizing:border-box;display:block;height:var(--rtk-space-16, 64px) !important;width:var(--rtk-space-16, 64px) !important;--rtk-spinner-color:currentColor}:host([size='md']){box-sizing:border-box;display:block;height:var(--rtk-space-6, 24px) !important;width:var(--rtk-space-6, 24px) !important;--rtk-spinner-color:currentColor}:host([size='sm']){box-sizing:border-box;display:block;height:var(--rtk-space-4, 16px) !important;width:var(--rtk-space-4, 16px) !important;--rtk-spinner-color:currentColor}:host([variant='secondary']) .icon-wrapper{--tw-text-opacity:1;color:rgba(var(--rtk-colors-background-600, 60 60 60) / var(--tw-text-opacity))}:host([variant='danger']) .icon-wrapper{--tw-text-opacity:1;color:rgba(var(--rtk-colors-danger, 255 45 45) / var(--tw-text-opacity))}";var yr=function(t,r,e,a){var i,s=arguments.length,o=s<3?r:null===a?a=Object.getOwnPropertyDescriptor(r,e):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,r,e,a);else for(var n=t.length-1;n>=0;n--)(i=t[n])&&(o=(s<3?i(o):s>3?i(r,e,o):i(r,e))||o);return s>3&&o&&Object.defineProperty(r,e,o),o};const jr=class{constructor(r){t(this,r),this.stateUpdate=a(this,"rtkStateUpdate",7),this.now=new Date,this.isContinued=!1,this.iconPack=c,this.t=d(),this.showBubble=!1,this.status="loading"}render(){return r(e,{key:"7e0fc95aff5f4db94f4ec0ba3c4dcd4d2ee9ffa6"},!this.isContinued&&r(Y,{key:"cc7f214502f49fe2869f3e9bdfd797926987ef74",name:this.message.displayName,time:this.message.time,now:this.now}),r("div",{key:"2e61a7320c1941df7c0d13082a9257e47ec5df58",class:{body:!0,bubble:this.showBubble},part:"body"},r("div",{key:"bf2eec18c82aae79f31c40d44711ec7db2ab5bf1",class:{image:!0,loaded:"loaded"===this.status}},r("img",{key:"acb8f5ef169bd0c663dbc74c1d43b4186f81004a",src:C(this.message.link),onLoad:()=>{this.status="loaded"},onError:()=>{this.status="errored"},onClick:()=>{"loaded"===this.status&&this.stateUpdate.emit({image:this.message})}}),"loading"===this.status&&r("div",{key:"92a6610a937088e03200f9048146da0e4f749054",class:"image-spinner",title:this.t("chat.img.loading"),"aria-label":this.t("chat.img.loading")},r("rtk-spinner",{key:"b85fa3e9dd0580f1d7e18360e74670a933e74367",iconPack:this.iconPack})),"errored"===this.status&&r("div",{key:"b1046aff30dfe244498c957799f33c3a7c26ecb8",class:"image-errored",title:this.t("chat.error.img_not_found"),"aria-label":this.t("chat.error.img_not_found")},r("rtk-icon",{key:"833e3ea7f7734a17450c98077e52b9db4fb5404a",icon:this.iconPack.image_off})),"loaded"===this.status&&r("div",{key:"2545e3685f6e586b4fdc1304da08bbece5ec2cda",class:"actions"},r("rtk-button",{key:"bb5e37862d82702f6350f48c275100825dd494fa",class:"action",variant:"secondary",kind:"icon",onClick:()=>{this.stateUpdate.emit({image:this.message})}},r("rtk-icon",{key:"247f754dfe4c9b63634906105a71bb2146154eaa",icon:this.iconPack.full_screen_maximize})),r("rtk-button",{key:"ab2712266ddce6f79abf1fca68379abcb4a3c9a1",class:"action",variant:"secondary",kind:"icon",onClick:()=>H(this.message.link,{fallbackName:"image"})},r("rtk-icon",{key:"ffafa0e22d7752b125d0e1e50cfc03d858d29365",icon:this.iconPack.download}))))))}};yr([R()],jr.prototype,"iconPack",void 0),yr([R()],jr.prototype,"t",void 0),jr.style=":host{line-height:initial;font-family:var(--rtk-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--rtk-space-0, 0px);padding:var(--rtk-space-0, 0px)}.image-spinner{cursor:wait}.image-errored{cursor:not-allowed}";var _r=function(t,r,e,a){var i,s=arguments.length,o=s<3?r:null===a?a=Object.getOwnPropertyDescriptor(r,e):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,r,e,a);else for(var n=t.length-1;n>=0;n--)(i=t[n])&&(o=(s<3?i(o):s>3?i(r,e,o):i(r,e))||o);return s>3&&o&&Object.defineProperty(r,e,o),o};const Cr=class{constructor(r){t(this,r),this.onPreview=a(this,"preview",7),this.iconPack=c,this.t=d(),this.status="loading"}render(){return r("div",{key:"259bdc1102c6026dd10388ae759f67608c777b5f",class:{image:!0,loaded:"loaded"===this.status}},r("img",{key:"dbcb8d497fee3710f4474ec3ac0ce9a9b4f1bb49",src:C(this.url),onLoad:()=>{this.status="loaded"},onError:()=>{this.status="errored"},onClick:()=>{"loaded"===this.status&&this.onPreview.emit(this.url)}}),"loading"===this.status&&r("div",{key:"b0ecfada4428e1cb8c3625cc4ce3d2a5bae058ab",class:"image-spinner",title:this.t("chat.img.loading"),"aria-label":this.t("chat.img.loading")},r("rtk-spinner",{key:"fff61c6522d8bcb7de1345bb6505721ee6c6325e",iconPack:this.iconPack})),"errored"===this.status&&r("div",{key:"c07e2cf6e9a94d375802c974e519d859ab48aa9b",class:"image-errored",title:this.t("chat.error.img_not_found"),"aria-label":this.t("chat.error.img_not_found")},r("rtk-icon",{key:"83108f4f0396d77778463601a4f18d8593b0ffe7",icon:this.iconPack.image_off})),"loaded"===this.status&&r("div",{key:"96b5aafbd94eec920ae1cad14f09ab4a44571bd7",class:"actions"},r("rtk-button",{key:"a87ec11cc8de472aeb356689b49b6b366bd67f28",class:"action",variant:"secondary",kind:"icon",onClick:()=>{this.onPreview.emit(this.url)}},r("rtk-icon",{key:"543478c786b709ac477d4482874608c0b394b27c",icon:this.iconPack.full_screen_maximize})),r("rtk-button",{key:"6ce6d94a965688c7ec6ee64f79a4d13dda9651e3",class:"action",variant:"secondary",kind:"icon",onClick:()=>H(this.url,{fallbackName:"image"})},r("rtk-icon",{key:"3b1d67fbdd667e0d006e342c37f6e78c90fd2e34",icon:this.iconPack.download}))))}};_r([R()],Cr.prototype,"iconPack",void 0),_r([R()],Cr.prototype,"t",void 0),Cr.style=":host{line-height:initial;font-family:var(--rtk-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--rtk-space-0, 0px);padding:var(--rtk-space-0, 0px)}.image-spinner{cursor:wait}.image-errored{cursor:not-allowed}.image{display:block;font-family:var(--rtk-font-family, sans-serif);color:rgb(var(--rtk-colors-text-900, 255 255 255 / 0.88));position:relative;height:var(--rtk-space-40, 160px);max-width:var(--rtk-space-64, 256px);cursor:pointer}.image img{display:none;height:100%;width:100%;border-radius:var(--rtk-border-radius-sm, 4px);-o-object-fit:cover;object-fit:cover}.image .image-spinner{display:flex;height:100%;width:100%;flex-direction:column;align-items:center;justify-content:center;border-radius:var(--rtk-border-radius-sm, 4px);--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-background-800, 30 30 30) / var(--tw-bg-opacity))}.image .image-spinner rtk-spinner{--tw-text-opacity:1;color:rgba(var(--rtk-colors-brand-500, 33 96 253) / var(--tw-text-opacity))}.image .image-errored{display:flex;height:100%;width:100%;flex-direction:column;align-items:center;justify-content:center;border-radius:var(--rtk-border-radius-sm, 4px);background-color:rgba(var(--rtk-colors-danger, 255 45 45) / 0.1);--tw-text-opacity:1;color:rgba(var(--rtk-colors-danger, 255 45 45) / var(--tw-text-opacity))}.image .actions{display:none;height:var(--rtk-space-8, 32px);align-items:center;position:absolute;top:var(--rtk-space-2, 8px);right:var(--rtk-space-2, 8px);border-radius:var(--rtk-border-radius-sm, 4px);--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-background-900, 26 26 26) / var(--tw-bg-opacity));color:rgb(var(--rtk-colors-text-1000, 255 255 255));overflow:hidden;--tw-shadow:0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);--tw-shadow-colored:0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.image .actions .action{height:var(--rtk-space-8, 32px);width:var(--rtk-space-8, 32px);border-radius:var(--rtk-border-radius-none, 0);border-width:var(--rtk-border-width-none, 0);border-style:none;background-color:transparent;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.image .actions .action:hover{--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}.image.loaded img{display:block}.image.loaded .image-spinner{display:none}.image:hover .actions,.image:focus .actions{display:flex}";var zr=function(t,r,e,a){var i,s=arguments.length,o=s<3?r:null===a?a=Object.getOwnPropertyDescriptor(r,e):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,r,e,a);else for(var n=t.length-1;n>=0;n--)(i=t[n])&&(o=(s<3?i(o):s>3?i(r,e,o):i(r,e))||o);return s>3&&o&&Object.defineProperty(r,e,o),o};const Rr=class{constructor(r){t(this,r),this.stateUpdate=a(this,"rtkStateUpdate",7),this.joinStage=a(this,"rtkJoinStage",7),this.leaveStage=a(this,"rtkLeaveStage",7),this.config=g(),this.iconPack=c,this.t=d(),this.dataConfig={title:this.t("stage.join_title"),label:{accept:this.t("stage.join_confirm"),reject:this.t("stage.join_cancel")},description:this.t("stage.join_summary")},this.isLoading=!1}render(){var t,a;const i={meeting:this.meeting,size:this.size,states:this.states,config:this.config,iconPack:this.iconPack,t:this.t};return r(e,{key:"b69a0a77d20a65a3112a393f33e4bc71564b16e1",class:{stage:!0}},r("header",{key:"c9860a7bd9139b4ddb188f03f4efadcecf2d4259"},r("h2",{key:"3222f6b149c9584205f355daecb4ebc7a2c329e3"},this.dataConfig.title)),r(J,{key:"ae93b03e1ffeef036560de82bd1cfd678be9895a",element:"rtk-participant-setup",defaults:i,props:{participant:null===(t=this.meeting)||void 0===t?void 0:t.self,size:"md"},childProps:{participant:null===(a=this.meeting)||void 0===a?void 0:a.self,size:"md"},deepProps:!0}),r("div",{key:"b579bcd55ac13475d46a9b363e50a293b3f8ab87",class:"summary"},this.dataConfig.description),r("div",{key:"b7002bbcf12848243621dbd4e0e62d73ed5c7043",class:"container"},r("rtk-button",{key:"240d7e4f50f89e6859be85917a325075d5d98628",variant:"secondary",onClick:()=>this.leaveStage.emit(),title:this.dataConfig.label.reject},this.dataConfig.label.reject),r("rtk-button",{key:"c510ea579e35bf1302b6364065a2bb4eac43bec0",onClick:()=>{this.isLoading||(this.isLoading=!0,this.joinStage.emit())},title:this.dataConfig.label.accept},this.isLoading?r("rtk-icon",{icon:this.iconPack.spinner}):this.dataConfig.label.accept)))}};zr([R()],Rr.prototype,"meeting",void 0),zr([R()],Rr.prototype,"config",void 0),zr([R()],Rr.prototype,"states",void 0),zr([R()],Rr.prototype,"iconPack",void 0),zr([R()],Rr.prototype,"t",void 0),Rr.style=":host{line-height:initial;font-family:var(--rtk-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--rtk-space-0, 0px);padding:var(--rtk-space-0, 0px)}.scrollbar{scrollbar-width:thin;scrollbar-color:var(--rtk-scrollbar-color, rgb(var(--rtk-colors-background-600, 60 60 60)))\n    var(--rtk-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar{height:var(--rtk-space-1\\.5, 6px);width:var(--rtk-space-1\\.5, 6px);border-radius:9999px;background-color:var(--rtk-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar-thumb{border-radius:9999px;background-color:var(--rtk-scrollbar-color, rgb(var(--rtk-colors-background-600, 60 60 60)))}:host::-webkit-scrollbar{width:var(--rtk-space-1\\.5, 6px);border-radius:var(--rtk-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-background-1000, 8 8 8) / var(--tw-bg-opacity))}:host::-webkit-scrollbar-thumb{border-radius:var(--rtk-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-background-700, 44 44 44) / var(--tw-bg-opacity))}:host(.stage){box-sizing:border-box;display:block;width:512px;--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-background-800, 30 30 30) / var(--tw-bg-opacity));padding:var(--rtk-space-6, 24px);-webkit-user-select:none;-moz-user-select:none;user-select:none;overflow:auto;border-radius:var(--rtk-border-radius-md, 8px);line-height:1.25}:host(.stage) rtk-participant-setup{display:flex;flex:1 1 0%;align-items:center;justify-content:space-around;margin-left:auto;margin-right:auto}:host(.stage) .container rtk-button{flex-grow:1;padding:var(--rtk-space-1, 4px);width:50%}:host(.stage) .container rtk-button:nth-child(1){margin-right:var(--rtk-space-1\\.5, 6px)}:host(.stage) .container rtk-button:nth-child(2){margin-left:var(--rtk-space-1\\.5, 6px)}:host(.stage) h2{font-size:24px;font-weight:500;color:rgb(var(--rtk-colors-text-1000, 255 255 255))}:host(.stage) header{padding-left:var(--rtk-space-4, 16px);padding-right:var(--rtk-space-4, 16px)}:host(.stage) .summary{padding:var(--rtk-space-4, 16px)}.deny-access{--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-background-700, 44 44 44) / var(--tw-bg-opacity))}.container{width:100%;max-width:1080px;display:flex;flex:1 1 0%;align-items:center;justify-content:space-around}header{display:flex;align-items:center;justify-content:space-between}";var Pr=function(t,r,e,a){var i,s=arguments.length,o=s<3?r:null===a?a=Object.getOwnPropertyDescriptor(r,e):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,r,e,a);else for(var n=t.length-1;n>=0;n--)(i=t[n])&&(o=(s<3?i(o):s>3?i(r,e,o):i(r,e))||o);return s>3&&o&&Object.defineProperty(r,e,o),o};const Or=class{constructor(r){t(this,r),this.stateUpdate=a(this,"rtkStateUpdate",7),this.keyPressListener=t=>{"Escape"===t.key&&this.close()},this.iconPack=c,this.t=d(),this.canEndMeeting=!1,this.isBreakoutRoomsActive=!1,this.isChildMeeting=!1,this.canJoinMainRoom=!1,this.permissionsUpdateListener=()=>{this.canEndMeeting=this.meeting.self.permissions.kickParticipant,this.canJoinMainRoom=this.meeting.self.permissions.connectedMeetings.canSwitchToParentMeeting},this.close=()=>{this.stateUpdate.emit({activeLeaveConfirmation:!1})},this.handleLeave=()=>{var t;null===(t=this.meeting)||void 0===t||t.leaveRoom(),this.close()},this.handleJoinMainRoom=()=>{this.meeting.connectedMeetings.moveParticipants(this.meeting.meta.meetingId,this.meeting.connectedMeetings.parentMeeting.id,[this.meeting.self.userId]),this.close()},this.handleEndMeeting=()=>{var t;null===(t=this.meeting)||void 0===t||t.participants.kickAll(),this.close()}}connectedCallback(){this.meetingChanged(this.meeting),document.addEventListener("keydown",this.keyPressListener)}disconnectedCallback(){var t;document.removeEventListener("keydown",this.keyPressListener),null===(t=this.meeting)||void 0===t||t.self.permissions.removeListener("permissionsUpdate",this.permissionsUpdateListener)}meetingChanged(t){null!=t&&(this.isBreakoutRoomsActive=this.meeting.connectedMeetings.supportsConnectedMeetings&&this.meeting.connectedMeetings.isActive,this.isChildMeeting=this.meeting.connectedMeetings.supportsConnectedMeetings&&this.meeting.connectedMeetings.meetings.some((r=>r.id===t.meta.meetingId)),this.meeting.self.permissions.addListener("permissionsUpdate",this.permissionsUpdateListener),this.permissionsUpdateListener())}render(){return r(e,{key:"3a498cd6ba7efe8697a29b25cb91bba8bf4f8385"},r("div",{key:"8094c0d9b4ade3f1a511796556b9bea6163f4081",class:"leave-modal"},r("div",{key:"2ccb549f2ce35c8f54d806f7d6aa8e74bbc7bab2",class:"header"},r("h2",{key:"cf9281517dfad495e37f86b51a5cef6e471a1e62",class:"title"},this.t("leave"))),r("p",{key:"c2c0f7a042c377ce26e1045c6462c0a526d00041",class:"message"},this.t(this.isBreakoutRoomsActive&&this.isChildMeeting?"breakout_rooms.leave_confirmation":"leave_confirmation")),r("div",{key:"d2e9264448b26532318022ec7991fc77a17f15e1",class:"content"},r("rtk-button",{key:"7792537400624c5f8028f5a6e167af8cc6c19317",variant:"secondary",onClick:this.close,class:"secondary-btn"},this.t("cancel")),this.isBreakoutRoomsActive&&this.isChildMeeting&&this.canJoinMainRoom&&r("rtk-button",{key:"e37a7a97fa85d120385f64831efebc02c9b4b036",variant:"secondary",onClick:this.handleJoinMainRoom,class:"secondary-btn"},this.t("breakout_rooms.leave_confirmation.main_room_btn")),r("rtk-button",{key:"b6ae60a2e64af83b118c077c4eac6c5d7ee6f6f8",variant:"danger",title:this.t("leave"),onClick:this.handleLeave},this.t("leave")),this.canEndMeeting&&r("rtk-button",{key:"05f27640ced0043aeb733df84f51a6ee637d3396",variant:"danger",class:"secondary-btn secondary-danger-btn",onClick:this.handleEndMeeting},this.t("end.all")))))}static get watchers(){return{meeting:["meetingChanged"]}}};Pr([R()],Or.prototype,"meeting",void 0),Pr([R()],Or.prototype,"states",void 0),Pr([R()],Or.prototype,"iconPack",void 0),Pr([R()],Or.prototype,"t",void 0),Or.style=":host{line-height:initial;font-family:var(--rtk-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--rtk-space-0, 0px);padding:var(--rtk-space-0, 0px)}.leave-modal{width:var(--rtk-space-72, 288px)}@media (min-width: 768px){.leave-modal{width:var(--rtk-space-96, 384px)}}.leave-modal{position:relative;display:flex;flex-direction:column;border-radius:var(--rtk-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-background-1000, 8 8 8) / var(--tw-bg-opacity));padding:var(--rtk-space-8, 32px);color:rgb(var(--rtk-colors-text-1000, 255 255 255))}.leave-modal .header h2{margin:var(--rtk-space-0, 0px);margin-bottom:var(--rtk-space-3, 12px)}.leave-modal .message{color:rgb(var(--rtk-colors-text-600, 255 255 255 / 0.52))}.leave-modal .content{margin-top:var(--rtk-space-4, 16px);font-size:14px;display:flex;flex-wrap:wrap;gap:var(--rtk-space-4, 16px)}.leave-modal .content rtk-button{height:var(--rtk-space-9, 36px);min-width:var(--rtk-space-44, 176px);flex-grow:1}.leave-modal .content .secondary-btn{--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-background-800, 30 30 30) / var(--tw-bg-opacity))}.leave-modal .content .secondary-btn:hover{--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}.leave-modal .content .secondary-danger-btn{--tw-text-opacity:1;color:rgba(var(--rtk-colors-danger, 255 45 45) / var(--tw-text-opacity))}";var Sr=function(t,r,e,a){var i,s=arguments.length,o=s<3?r:null===a?a=Object.getOwnPropertyDescriptor(r,e):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,r,e,a);else for(var n=t.length-1;n>=0;n--)(i=t[n])&&(o=(s<3?i(o):s>3?i(r,e,o):i(r,e))||o);return s>3&&o&&Object.defineProperty(r,e,o),o};const Mr=class{constructor(r){t(this,r),this.config=g(),this.t=d()}connectedCallback(){this.configChanged(this.config),this.meetingChanged(this.meeting)}configChanged(t){var r;if(null!=t){const e=null===(r=null==t?void 0:t.designTokens)||void 0===r?void 0:r.logo;null!=e&&null==this.logoUrl&&(this.logoUrl=e)}}meetingChanged(t){var r,e,a,i;if(null!=t){const s=null===(i=null===(a=null===(e=null===(r=t.self)||void 0===r?void 0:r.config)||void 0===e?void 0:e.header)||void 0===a?void 0:a.elements)||void 0===i?void 0:i.logo;null!=s&&null==this.logoUrl&&(this.logoUrl=s)}}render(){if(!this.logoUrl||""===this.logoUrl)return null;const t=this.logoUrl,a=this.t("logo");return r(e,{class:"loaded"},r("img",{src:t,alt:a}))}static get watchers(){return{config:["configChanged"],meeting:["meetingChanged"]}}};Sr([R()],Mr.prototype,"config",void 0),Sr([R()],Mr.prototype,"meeting",void 0),Sr([R()],Mr.prototype,"t",void 0),Mr.style=":host{line-height:initial;font-family:var(--rtk-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--rtk-space-0, 0px);padding:var(--rtk-space-0, 0px)}:host{display:flex;flex-direction:column;align-items:center;justify-content:center;color:rgb(var(--rtk-colors-text-1000, 255 255 255));height:100%;width:auto}svg,img{height:100%;width:auto}.brand-color{--tw-text-opacity:1;color:rgba(var(--rtk-colors-brand-500, 33 96 253) / var(--tw-text-opacity))}";const Dr=class{constructor(e){t(this,e),this.maxLength=A,this.restoreEmpty=(t,r,e)=>0===t.trim().length?`${r}${t}${r}`:e(t),this.renderLink=t=>r("a",{class:"link",href:t,target:"_blank",rel:"noopener noreferrer"},t),this.renderBold=t=>"string"==typeof t?this.restoreEmpty(t,"*",(t=>r("b",null,t))):r("b",null,this.renderTokens(t)),this.renderItalic=t=>"string"==typeof t?this.restoreEmpty(t,"_",(t=>r("i",null,t))):r("i",null,this.renderTokens(t)),this.renderStrikethrough=t=>"string"==typeof t?this.restoreEmpty(t,"~",(t=>r("s",null,t))):r("b",null,this.renderTokens(t)),this.renderPlainText=t=>"string"==typeof t?t:r("p",null,this.renderTokens(t)),this.renderTokens=t=>t.map((t=>{switch(t.type){case"a":if("string"==typeof t.content)return this.renderLink(t.content);case"b":return this.renderBold(t.content);case"i":return this.renderItalic(t.content);case"s":return this.renderStrikethrough(t.content);case"q":return r("span",{class:"block-quote"});default:return this.renderPlainText(t.content)}}))}renderMessage(t){let e=t.split("\n"),a=!1;"```"===e[0]&&"```"===e[e.length-1]&&(a=!0,e=e.slice(1,-1));const i=e.map((t=>{const e=E(t);return r("p",null,this.renderTokens(e))}));return a?r("pre",{style:{whiteSpace:"pre",overflow:"scroll"}},e.join("\n")):i}render(){const t=this.text.slice(0,this.maxLength),e=I(t,!0),a=T(t);return r("p",{key:"9544292f118f2c6975a807d6bcc2d307c70b2940"},0!==e.length&&r("blockquote",{key:"294bca9889738148fd51ecd8487d2d98b5adee4b"},this.renderMessage(e)),0!==a.length&&this.renderMessage(a))}};Dr.style=":host{line-height:initial;font-family:var(--rtk-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--rtk-space-0, 0px);padding:var(--rtk-space-0, 0px)}:host{overflow-wrap:break-word}a{color:currentColor}.block-quote,blockquote{margin:var(--rtk-space-0, 0px);margin-bottom:var(--rtk-space-3, 12px);--tw-border-spacing-x:1px;--tw-border-spacing-y:1px;border-spacing:var(--tw-border-spacing-x) var(--tw-border-spacing-y);border-top-width:var(--rtk-border-width-none, 0);border-bottom-width:var(--rtk-border-width-none, 0);border-left-width:var(--rtk-border-width-md, 2px);border-right-width:var(--rtk-border-width-none, 0);border-style:solid;padding:var(--rtk-space-0\\.5, 2px);padding-left:var(--rtk-space-2, 8px);border-radius:var(--rtk-border-radius-sm, 4px);border-top-left-radius:var(--rtk-border-radius-none, 0);border-bottom-left-radius:var(--rtk-border-radius-none, 0)}pre{white-space:pre-wrap}";const $r=class{constructor(r){t(this,r),this.statesUpdate=a(this,"rtkStatesUpdate",7),this.providerId="provider-"+Math.floor(100*Math.random()),this.roomJoinedListener=()=>{this.updateStates({meeting:"joined"})},this.waitlistedListener=()=>{this.updateStates({meeting:"waiting"})},this.roomLeftListener=({state:t})=>{"disconnected"!==t&&"failed"!==t&&this.updateStates({meeting:"ended",roomLeftState:t})},this.mediaPermissionUpdateListener=({kind:t,message:r})=>{!["audio","video"].includes(t)||"DENIED"!==r&&"SYSTEM_DENIED"!==r||!0===(this.peerStore||m).state.states.activeDebugger||this.updateStates({activePermissionsMessage:{enabled:!0,kind:t}})},this.socketConnectionUpdateListener=({state:t})=>{"failed"===t&&setTimeout((()=>{this.meeting.leave("disconnected")}),this.leaveRoomTimer)},this.peerStore=null,this.loadConfigFromPreset=!1,this.applyDesignSystem=!1,this.mode="fixed",this.leaveOnUnmount=!1,this.t=d(),this.config=g(),this.gridLayout="row",this.iconPack=c,this.handleChangingMeeting=t=>{this.updateStates({activeBreakoutRoomsManager:Object.assign(Object.assign({},(this.peerStore||m).state.states.activeBreakoutRoomsManager),{destinationMeetingId:t})})}}connectedCallback(){var t;"undefined"!=typeof window&&(this.authErrorListener=t=>{t.detail.message.includes("401")&&this.updateStates({meeting:"ended",roomLeftState:"unauthorized"})},window.addEventListener("rtkError",this.authErrorListener)),this.leaveRoomTimer=1e4,this.loadConfigFromPreset=!0,this.applyDesignSystem=!0,this.setupStoreRequestListener(),this.setupStateUpdateListener(),this.meetingChanged(this.meeting),this.iconPackChanged(this.iconPack),this.tChanged(this.t),this.configChanged(this.config),this.resizeObserver=new Z((()=>this.handleResize())),this.resizeObserver.observe(this.host),this.applyDesignSystem&&null!=(null===(t=this.config)||void 0===t?void 0:t.designTokens)&&"undefined"!=typeof document&&!0!==(this.peerStore||m).state.states.activeDebugger&&K(document.documentElement,this.config.designTokens)}disconnectedCallback(){var t;this.leaveOnUnmount&&(null===(t=this.meeting)||void 0===t||t.leaveRoom()),this.resizeObserver.disconnect(),window.removeEventListener("rtkError",this.authErrorListener),this.storeRequestListener&&(this.host.removeEventListener("rtkRequestStore",this.storeRequestListener),this.storeRequestListener=null),this.stateUpdateListener&&(this.host.removeEventListener("rtkStateUpdate",this.stateUpdateListener),this.stateUpdateListener=null),this.meeting&&this.clearListeners(this.meeting)}setupStoreRequestListener(){this.storeRequestListener&&this.host.removeEventListener("rtkRequestStore",this.storeRequestListener),this.storeRequestListener=t=>{if(!this.peerStore)return;const r=new CustomEvent("rtkProvideStore",{detail:{store:this.peerStore,requestId:t.detail.requestId}});document.dispatchEvent(r),t.stopPropagation()},this.host.addEventListener("rtkRequestStore",this.storeRequestListener)}setupStateUpdateListener(){this.stateUpdateListener&&this.host.removeEventListener("rtkStateUpdate",this.stateUpdateListener),this.stateUpdateListener=t=>{this.host.contains(t.target)&&this.updateStates(t.detail)},this.host.addEventListener("rtkStateUpdate",this.stateUpdateListener)}clearListeners(t){t&&(t.self.removeListener("roomLeft",this.roomLeftListener),t.self.removeListener("roomJoined",this.roomJoinedListener),t.self.removeListener("waitlisted",this.waitlistedListener),t.self.removeListener("mediaPermissionUpdate",this.mediaPermissionUpdateListener),t.meta.removeListener("socketConnectionUpdate",this.socketConnectionUpdateListener))}meetingChanged(t){var r,e;if(t){if(t?(this.peerStore=x({meeting:t,config:this.config,iconPack:this.iconPack,t:this.t,providerId:this.providerId}),document.dispatchEvent(new CustomEvent("rtkPeerStoreReady",{detail:{peerId:t.self.id}}))):this.peerStore=null,this.updateStates({viewType:t.meta.viewType}),this.loadConfigFromPreset&&null!=t.self.config){const e=t.self.config,{config:a,data:i}=V(e,t);this.config=a,null==this.showSetupScreen&&(this.showSetupScreen=i.showSetupScreen),t.connectedMeetings.supportsConnectedMeetings&&(null===(r=(this.peerStore||m).state.states.activeBreakoutRoomsManager)||void 0===r?void 0:r.destinationMeetingId)&&(this.showSetupScreen=!1)}this.applyDesignSystem&&null!=(null===(e=this.config)||void 0===e?void 0:e.designTokens)&&"undefined"!=typeof document&&!0!==(this.peerStore||m).state.states.activeDebugger&&K(document.documentElement,this.config.designTokens),t.self.addListener("roomJoined",this.roomJoinedListener),t.self.addListener("waitlisted",this.waitlistedListener),t.self.addListener("roomLeft",this.roomLeftListener),t.self.addListener("mediaPermissionUpdate",this.mediaPermissionUpdateListener),t.meta.addListener("socketConnectionUpdate",this.socketConnectionUpdateListener),t.connectedMeetings.supportsConnectedMeetings&&t.connectedMeetings.once("changingMeeting",this.handleChangingMeeting),t.self.roomJoined?this.updateStates({meeting:"joined"}):this.showSetupScreen?this.updateStates({meeting:"setup"}):t.joinRoom(),window.removeEventListener("rtkError",this.authErrorListener)}}iconPackChanged(t){this.peerStore&&(this.peerStore.state.iconPack=t)}tChanged(t){this.peerStore&&(this.peerStore.state.t=t)}configChanged(t){this.peerStore&&(this.peerStore.state.config=t),(null==t?void 0:t.designTokens)&&"undefined"!=typeof document&&!0!==(this.peerStore||m).state.states.activeDebugger&&K(document.documentElement,t.designTokens)}handleResize(){var t;this.size=(t=this.host.clientWidth)>=1080?"lg":t>=768?"md":"sm"}updateStates(t){const r=this.peerStore||m,e=Object.assign({},r.state.states);r.state.states=W(e,t),this.statesUpdate.emit(r.state.states);const a=new CustomEvent("rtkStatesUpdate",{detail:r.state.states,bubbles:!0,composed:!0});this.host.dispatchEvent(a)}render(){const t={meeting:this.meeting,size:this.size,states:(this.peerStore||m).state.states,config:this.config||g(),iconPack:this.iconPack,t:this.t};return"CHAT"===(this.peerStore||m).state.states.viewType?r("rtk-chat",Object.assign({},t)):r(J,{element:"rtk-meeting",defaults:t,asHost:!0,elementProps:{"rtk-grid":{layout:this.gridLayout}}})}get host(){return o(this)}static get watchers(){return{meeting:["meetingChanged"],iconPack:["iconPackChanged"],t:["tChanged"],config:["configChanged"]}}};$r.style=":host{line-height:initial;font-family:var(--rtk-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--rtk-space-0, 0px);padding:var(--rtk-space-0, 0px)}:host{box-sizing:border-box;display:flex;flex-direction:column;--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-background-1000, 8 8 8) / var(--tw-bg-opacity));color:rgb(var(--rtk-colors-text-900, 255 255 255 / 0.88));overflow:hidden;position:fixed;top:var(--rtk-space-0, 0px);right:var(--rtk-space-0, 0px);bottom:var(--rtk-space-0, 0px);left:var(--rtk-space-0, 0px);height:100%;width:100%}:host([mode='fill']){position:relative}";var Ur=function(t,r,e,a){var i,s=arguments.length,o=s<3?r:null===a?a=Object.getOwnPropertyDescriptor(r,e):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,r,e,a);else for(var n=t.length-1;n>=0;n--)(i=t[n])&&(o=(s<3?i(o):s>3?i(r,e,o):i(r,e))||o);return s>3&&o&&Object.defineProperty(r,e,o),o};const Tr=class{constructor(r){t(this,r),this.clickedThis=!1,this.placement="bottom-end",this.offset=10,this.iconPack=c,this.t=d(),this.handleOutsideClick=()=>{this.clickedThis||(this.menuListEl.style.display="none"),this.clickedThis=!1}}componentDidLoad(){document.addEventListener("click",this.handleOutsideClick),this.update()}disconnectedCallback(){document.removeEventListener("click",this.handleOutsideClick)}update(){tt(this.triggerEl,this.menuListEl,{placement:this.placement,middleware:[rt(this.offset),et(),at({padding:5})]}).then((({x:t,y:r})=>{Object.assign(this.menuListEl.style,{left:`${t}px`,top:`${r}px`})}))}render(){return r(e,{key:"a814ea3dde902a15cb6fb0db8a9c2409c240537f"},r("span",{key:"de2447524c6a1787a6b9442ccb9c3d56a33e9f4f",id:"trigger",ref:t=>this.triggerEl=t,onClick:()=>{this.clickedThis=!0,"block"!==this.menuListEl.style.display?(this.menuListEl.style.display="block",this.update()):this.menuListEl.style.display="none"}},r("slot",{key:"fb566f431ceca452fad8b564cfb777bc90411a02",name:"trigger"})),r("span",{key:"50b030d301e54677d19cc21dadcec53f566b14cf",part:"menu-list",id:"menu-list",ref:t=>this.menuListEl=t},r("slot",{key:"59ce6c30c39155fec448114fd25752585d95c87d"})))}};Ur([R()],Tr.prototype,"iconPack",void 0),Ur([R()],Tr.prototype,"t",void 0),Tr.style=":host{line-height:initial;font-family:var(--rtk-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--rtk-space-0, 0px);padding:var(--rtk-space-0, 0px)}:host{position:relative;display:inline-block;color:rgb(var(--rtk-colors-text-1000, 255 255 255))}#menu-list{position:absolute;z-index:20;display:none}";var Lr=function(t,r,e,a){var i,s=arguments.length,o=s<3?r:null===a?a=Object.getOwnPropertyDescriptor(r,e):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,r,e,a);else for(var n=t.length-1;n>=0;n--)(i=t[n])&&(o=(s<3?i(o):s>3?i(r,e,o):i(r,e))||o);return s>3&&o&&Object.defineProperty(r,e,o),o};const Ar=class{constructor(r){t(this,r),this.iconPack=c,this.t=d()}render(){return r(e,{key:"f0316fee5ac5fd2124ee26ac2664172007ad1c54"},r("slot",{key:"994a3a27f743462a3ae0a4c95bc5de672119fdb6",name:"start"}),r("slot",{key:"24594ecaffb46a4b0458032596570fee37e6ae00"}),r("slot",{key:"4ede22267a24a37c508591b0148a1e1b2c391fc9",name:"end"}))}};Lr([R()],Ar.prototype,"iconPack",void 0),Lr([R()],Ar.prototype,"t",void 0),Ar.style=":host{line-height:initial;font-family:var(--rtk-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--rtk-space-0, 0px);padding:var(--rtk-space-0, 0px)}:host{display:flex;align-items:center;padding-left:var(--rtk-space-3, 12px);padding-right:var(--rtk-space-3, 12px);padding-top:var(--rtk-space-2, 8px);padding-bottom:var(--rtk-space-2, 8px);cursor:pointer;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms;color:rgb(var(--rtk-colors-text-1000, 255 255 255));font-size:14px}::slotted([slot='start']){margin-right:var(--rtk-space-2, 8px)}::slotted([slot='end']){margin-left:var(--rtk-space-2, 8px)}:host(:hover){--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}:host(.red){--tw-text-opacity:1;color:rgba(var(--rtk-colors-danger, 255 45 45) / var(--tw-text-opacity))}";var Er=function(t,r,e,a){var i,s=arguments.length,o=s<3?r:null===a?a=Object.getOwnPropertyDescriptor(r,e):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,r,e,a);else for(var n=t.length-1;n>=0;n--)(i=t[n])&&(o=(s<3?i(o):s>3?i(r,e,o):i(r,e))||o);return s>3&&o&&Object.defineProperty(r,e,o),o};const Ir=class{constructor(r){t(this,r),this.iconPack=c,this.t=d()}render(){return r(e,{key:"c0974bc340294b197aa8310e5a9913126ac22c48"},r("slot",{key:"1a660db36c713285203569957959663497803c5e"}))}};Er([R()],Ir.prototype,"iconPack",void 0),Er([R()],Ir.prototype,"t",void 0),Ir.style=":host{line-height:initial;font-family:var(--rtk-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--rtk-space-0, 0px);padding:var(--rtk-space-0, 0px)}:host{display:flex;width:-moz-max-content;width:max-content;flex-direction:column;padding-top:var(--rtk-space-2, 8px);padding-bottom:var(--rtk-space-2, 8px);--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-background-800, 30 30 30) / var(--tw-bg-opacity));color:rgb(var(--rtk-colors-text-1000, 255 255 255));overflow:hidden;border-radius:var(--rtk-border-radius-sm, 4px);--tw-shadow:0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);--tw-shadow-colored:0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}";const qr=class{constructor(r){t(this,r),this.onAction=a(this,"action",7),this.actions=[],this.variant="bubble",this.viewType="outgoing",this.hideAvatar=!1,this.hideAuthorName=!1,this.hideMetadata=!1,this.iconPack=c}renderActions(){return r("rtk-menu",{placement:"top-end",offset:1},r("button",{slot:"trigger",class:"actions"},r("rtk-icon",{icon:this.iconPack.chevron_down})),r("rtk-menu-list",null,this.actions.map((t=>r("rtk-menu-item",{onClick:()=>this.onAction.emit(t.id)},t.icon&&r("rtk-icon",{icon:t.icon,slot:"start"}),t.label)))))}render(){return r(e,{key:"9fafe4370eee525631023ecde39b3293059e8c22"},r("div",{key:"1718981905d4458d0862c34c3c342f7335f0921b",class:{"message-wrapper":!0,[this.viewType]:!0}},!this.hideAvatar&&r("aside",{key:"c6ea0c46283a7faa4bb937cb4196e2e1d548c721",class:"avatar",part:"avatar"},r("rtk-avatar",{key:"e3181a831b75b5c79f212da64076dbf6b47fecca",participant:{name:this.authorName,picture:this.avatarUrl},size:"sm"})),r("div",{key:"5565b5711055f1cd543cfaa36c03789b82fb94fa",class:"message",part:"message"},!this.hideAuthorName&&r("div",{key:"613098d825ba1c33aaca53579c883a306ed1239d",class:"header"},this.authorName),r("div",{key:"166dd3e4fb33876cd74f94a7ac193064e8778f81",class:{body:!0,bubble:"bubble"===this.variant}},r("slot",{key:"d04e722b66c4d7cb7c20952a9e7c70d048e66410"}),!this.hideMetadata&&!!this.time&&r("div",{key:"f12d8c9dd8320202a6906c10298d3357aff5d762",class:"metadata",title:N(this.time)},G(this.time,new Date(Date.now()))),0!==this.actions.length&&this.renderActions()))))}};(function(t,r,e,a){var i,s=arguments.length,o=s<3?r:null===a?a=Object.getOwnPropertyDescriptor(r,e):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,r,e,a);else for(var n=t.length-1;n>=0;n--)(i=t[n])&&(o=(s<3?i(o):s>3?i(r,e,o):i(r,e))||o);s>3&&o&&Object.defineProperty(r,e,o)})([R()],qr.prototype,"iconPack",void 0),qr.style=":host{line-height:initial;font-family:var(--rtk-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--rtk-space-0, 0px);padding:var(--rtk-space-0, 0px)}.scrollbar{scrollbar-width:thin;scrollbar-color:var(--rtk-scrollbar-color, rgb(var(--rtk-colors-background-600, 60 60 60)))\n    var(--rtk-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar{height:var(--rtk-space-1\\.5, 6px);width:var(--rtk-space-1\\.5, 6px);border-radius:9999px;background-color:var(--rtk-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar-thumb{border-radius:9999px;background-color:var(--rtk-scrollbar-color, rgb(var(--rtk-colors-background-600, 60 60 60)))}.message-wrapper{display:flex;flex-direction:row-reverse;gap:var(--rtk-space-2, 8px)}.message-wrapper.incoming{flex-direction:row}.message{display:flex;flex-direction:column}.header{margin-bottom:var(--rtk-space-1, 4px);align-self:flex-end;color:rgb(var(--rtk-colors-text-900, 255 255 255 / 0.88));font-size:14px;font-weight:600}.incoming .header{align-self:flex-start}.body{display:flex;flex-direction:column;min-width:var(--rtk-space-24, 96px);font-family:var(--rtk-font-family, sans-serif);color:rgb(var(--rtk-colors-text-900, 255 255 255 / 0.88));font-size:14px;line-height:1.375;position:relative}.body .metadata{margin-top:var(--rtk-space-2, 8px);align-self:flex-end;font-size:10px}.bubble{max-width:var(--rtk-space-96, 384px);padding:var(--rtk-space-2, 8px);--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-brand-300, 73 124 253) / var(--tw-bg-opacity));color:rgb(var(--rtk-colors-text-on-brand-1000, var(--rtk-colors-text-1000, 255 255 255)));border-radius:var(--rtk-border-radius-md, 8px)}.incoming .bubble{width:-moz-fit-content;width:fit-content;--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-background-800, 30 30 30) / var(--tw-bg-opacity));color:rgb(var(--rtk-colors-text-900, 255 255 255 / 0.88))}.avatar{display:none}rtk-menu{position:absolute;right:var(--rtk-space-0, 0px);top:var(--rtk-space-0, 0px);border-radius:var(--rtk-border-radius-lg, 12px)}rtk-menu rtk-icon{height:var(--rtk-space-4, 16px);width:var(--rtk-space-4, 16px);cursor:pointer}.actions{display:flex;align-items:center;justify-content:center;padding-left:var(--rtk-space-2, 8px);padding-bottom:var(--rtk-space-2, 8px);padding-top:var(--rtk-space-1, 4px);padding-right:var(--rtk-space-1, 4px);border-radius:var(--rtk-border-radius-md, 8px);border-width:var(--rtk-border-width-none, 0);border-style:none;background:radial-gradient(\n    at top right,\n    rgb(var(--rtk-colors-brand-300, 73 124 253)) 60%,\n    rgba(255, 255, 255, 0) 80%\n  )}.actions rtk-icon{height:var(--rtk-space-4, 16px);width:var(--rtk-space-4, 16px);color:rgb(var(--rtk-colors-text-on-brand-1000, var(--rtk-colors-text-1000, 255 255 255)))}.incoming .actions{background:radial-gradient(\n      at top right,\n      rgb(var(--rtk-colors-background-800, 30 30 30)) 60%,\n      rgba(255, 255, 255, 0) 80%\n    )}.incoming .actions rtk-icon{color:rgb(var(--rtk-colors-text-900, 255 255 255 / 0.88))}.incoming rtk-avatar{--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-background-600, 60 60 60) / var(--tw-bg-opacity));color:rgb(var(--rtk-colors-text-900, 255 255 255 / 0.88))}@media (min-width: 400px){.avatar{display:flex;width:var(--rtk-space-6, 24px)}.avatar rtk-avatar{height:var(--rtk-space-6, 24px);width:var(--rtk-space-6, 24px);font-size:10px;overflow:clip;border-radius:9999px}}@media (hover: hover){rtk-menu{visibility:hidden}.body:hover rtk-menu{visibility:visible}}";var Nr=function(t,r,e,a){var i,s=arguments.length,o=s<3?r:null===a?a=Object.getOwnPropertyDescriptor(r,e):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,r,e,a);else for(var n=t.length-1;n>=0;n--)(i=t[n])&&(o=(s<3?i(o):s>3?i(r,e,o):i(r,e))||o);return s>3&&o&&Object.defineProperty(r,e,o),o};const Gr=class{constructor(r){t(this,r),this.stateUpdate=a(this,"rtkStateUpdate",7),this.iconPack=c,this.t=d(),this.allowUnmute=!0,this.onClose=()=>{this.stateUpdate.emit({activeMuteAllConfirmation:!1})},this.onMuteAll=()=>{var t;null===(t=this.meeting)||void 0===t||t.participants.disableAllAudio(this.allowUnmute),this.onClose()}}render(){return r(e,{key:"6f260e3a10d229942b3903afc721d30b6e6494a7"},r("div",{key:"9bdf56a9eee7b0a172f4b29b619632817ccc1212",class:"leave-modal"},r("div",{key:"a68cd8b46f9727a2ced5e505651e65bf1a1fb1f2",class:"header"},r("h2",{key:"202529f47bd59dd2df1a7971a33cc706070705d9",class:"title"},this.t("mute_all.header"))),r("p",{key:"40569f7f09c9f370ccd117590113545a4a083e40",class:"message"},this.t("mute_all.description")),r("div",{key:"f6a19e3fcdc7ca1c8e8d443cb705dcd27b55398e",class:"content"},r("div",{key:"979e79f3f20c60b1e1474d7c37b96392809078f9",class:"leave-meeting"},r("rtk-button",{key:"a717271acf30ebf16e22cfbc23b7e7120662754c",variant:"secondary",title:this.t("close"),onClick:this.onClose},this.t("cancel")),r("rtk-button",{key:"6b425563d4f0c4db28e9201c87d0bd9aa71399a8",variant:"danger",title:this.t("mute_all"),onClick:this.onMuteAll},this.t("mute_all"))))))}};Nr([R()],Gr.prototype,"meeting",void 0),Nr([R()],Gr.prototype,"states",void 0),Nr([R()],Gr.prototype,"iconPack",void 0),Nr([R()],Gr.prototype,"t",void 0),Gr.style=":host{line-height:initial;font-family:var(--rtk-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--rtk-space-0, 0px);padding:var(--rtk-space-0, 0px)}:host{display:block;-webkit-user-select:none;-moz-user-select:none;user-select:none}.leave-modal{position:relative;display:flex;flex-direction:column;border-radius:var(--rtk-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-background-900, 26 26 26) / var(--tw-bg-opacity));padding:var(--rtk-space-4, 16px);color:rgb(var(--rtk-colors-text-1000, 255 255 255))}.leave-modal .header h2{margin:var(--rtk-space-0, 0px);margin-bottom:var(--rtk-space-3, 12px)}.leave-modal .content{font-size:14px}.leave-message p{margin-top:var(--rtk-space-3, 12px);margin-bottom:var(--rtk-space-3, 12px)}.leave-meeting{display:flex;flex-direction:row;justify-content:space-between;gap:var(--rtk-space-2, 8px)}.leave-meeting rtk-button{flex:1 1 0%}.end-meeting{margin-top:var(--rtk-space-2, 8px)}.message{margin-bottom:var(--rtk-space-4, 16px)}label{display:flex;align-items:center}input[type='checkbox']{margin-right:var(--rtk-space-2, 8px);accent-color:rgb(var(--rtk-colors-brand-500, 33 96 253))}";var Yr=function(t,r,e,a){var i,s=arguments.length,o=s<3?r:null===a?a=Object.getOwnPropertyDescriptor(r,e):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,r,e,a);else for(var n=t.length-1;n>=0;n--)(i=t[n])&&(o=(s<3?i(o):s>3?i(r,e,o):i(r,e))||o);return s>3&&o&&Object.defineProperty(r,e,o),o};const Br=class{constructor(r){t(this,r),this.dismiss=a(this,"rtkNotificationDismiss",7),this.iconPack=c,this.t=d(),this.imageState="loading"}connectedCallback(){this.notificationChanged(this.notification)}pausedChanged(t){t?clearTimeout(this.timeout):this.notificationChanged(this.notification)}notificationChanged(t){null==t||"number"!=typeof t.duration||this.paused||(this.timeout=window.setTimeout((()=>{this.dismiss.emit(t.id)}),t.duration))}render(){var t;return r(e,{key:"60c06bbf91a415227daa6df5e33ce70f70b9e96a"},r("div",{key:"88b3028fbab2ae480d9b56169be54d7be88f283a",class:"ctr"},null!=this.notification.icon&&r("rtk-icon",{key:"2082950cbd422100eaae181089b459a228edb5b2",class:"icon",icon:this.notification.icon,variant:null!==(t=this.notification.iconVariant)&&void 0!==t?t:"primary"}),null!=this.notification.image&&null==this.notification.icon&&"errored"!==this.imageState&&r("img",{key:"56e7d906bb2daf5ddce6b143ffa74a47d602ca70",src:this.notification.image,class:{loaded:"loaded"===this.imageState},onLoad:()=>this.imageState="loaded",onError:()=>this.imageState="errored"}),r("p",{key:"980db1c29942c51de04eef62c519ff20402c639e",class:"message"},r(st,{key:"6b59afd62dcf6671d056ed424146c9c4c1e1bead",message:this.notification.message})),r("div",{key:"a4399741c18093e46be3726f3514d8e8a5682ab3",class:"right"},null!=this.notification.button&&r("rtk-button",{key:"a20046c85de2c3ee5cd7b6814c84e52a027e0cfc",size:"sm",variant:this.notification.button.variant,onClick:()=>this.notification.button.onClick()},this.notification.button.text),r("button",{key:"83d7d13c98c68f6049321d5d0c573ea2eccf65f8",onClick:()=>this.dismiss.emit(this.notification.id),class:"dismiss"},r("rtk-icon",{key:"5a17a700a54172a10cd2398dd38853bd0c337215","aria-label":this.t("dismiss"),icon:this.iconPack.dismiss})))))}static get watchers(){return{paused:["pausedChanged"],notification:["notificationChanged"]}}};Yr([R()],Br.prototype,"iconPack",void 0),Yr([R()],Br.prototype,"t",void 0),Br.style=":host{line-height:initial;font-family:var(--rtk-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--rtk-space-0, 0px);padding:var(--rtk-space-0, 0px)}:host{pointer-events:none;display:block;height:var(--rtk-space-10, 40px);color:rgb(var(--rtk-colors-text-1000, 255 255 255));animation:show 0.4s ease;transition:0.4s;z-index:100}.ctr{box-sizing:border-box;display:inline-flex;height:100%;min-width:var(--rtk-space-40, 160px);align-items:center;padding-left:var(--rtk-space-3, 12px);padding-right:var(--rtk-space-2, 8px);-webkit-user-select:none;-moz-user-select:none;user-select:none;border-radius:var(--rtk-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-background-600, 60 60 60) / var(--tw-bg-opacity));--tw-shadow:0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);--tw-shadow-colored:0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);--tw-shadow-color:rgb(var(--rtk-colors-background-1000, 8 8 8));--tw-shadow:var(--tw-shadow-colored);pointer-events:auto}img{margin-right:var(--rtk-space-2, 8px);height:var(--rtk-space-0, 0px);width:var(--rtk-space-0, 0px);border-radius:9999px}img.loaded{height:var(--rtk-space-6, 24px);width:var(--rtk-space-6, 24px)}.message{margin-right:var(--rtk-space-2, 8px);max-width:var(--rtk-space-72, 288px) !important;font-size:14px !important;overflow:hidden !important;display:-webkit-box !important;-webkit-box-orient:vertical !important;-webkit-line-clamp:2 !important}.message p{margin:var(--rtk-space-0, 0px);margin-right:var(--rtk-space-1, 4px)}.message blockquote{display:none}rtk-icon.icon{margin-right:var(--rtk-space-2, 8px);height:var(--rtk-space-6, 24px);width:var(--rtk-space-6, 24px);color:rgb(var(--rtk-colors-text-900, 255 255 255 / 0.88))}button.dismiss{display:flex;height:var(--rtk-space-6, 24px);width:var(--rtk-space-6, 24px);align-items:center;justify-content:center;border-width:var(--rtk-border-width-none, 0);border-style:none;padding:var(--rtk-space-0, 0px);border-radius:var(--rtk-border-radius-sm, 4px);background-color:transparent;color:rgb(var(--rtk-colors-text-600, 255 255 255 / 0.52));outline-width:1px;outline-color:rgb(var(--rtk-colors-text-1000, 255 255 255))}button.dismiss:hover{cursor:pointer;color:rgb(var(--rtk-colors-text-1000, 255 255 255))}button.dismiss:focus-visible{outline-style:solid}button.dismiss{transition-property:color, background-color, border-color, text-decoration-color, fill, stroke;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}.dismiss rtk-icon{height:var(--rtk-space-5, 20px);width:var(--rtk-space-5, 20px)}rtk-button{border-radius:var(--rtk-border-radius-sm, 4px)}.right{margin-left:auto;display:flex;align-items:center;gap:var(--rtk-space-2, 8px)}:host(.exit){animation:exit 0.4s ease}@keyframes show{0%{opacity:0;transform:translateX(-120px)}100%{opacity:1;transform:translateX(0px)}}@keyframes exit{0%{opacity:1;transform:translateX(0)}100%{opacity:0;transform:translateX(-120px)}}:host([size='sm']){font-size:14px}";const Jr=2e3,Fr=Object.freeze({notifications:{participant_joined:!0,participant_left:!0,participant_joined_waitlist:!0,chat:!0,polls:!0,webinar:!0,tab_sync:!0,recording_started:!0,recording_stopped:!0},notification_sounds:{participant_joined:!0,participant_left:!0,chat:!0,polls:!0,webinar:!0,participant_joined_waitlist:!0},notification_duration:{participant_joined:2100,participant_left:2100,participant_joined_waitlist:4e3,chat:Jr,polls:Jr,webinar:Jr,tab_sync:Jr,recording_started:Jr,recording_stopped:Jr},participant_joined_sound_notification_limit:10,participant_chat_message_sound_notification_limit:10});var Xr=function(t,r,e,a){var i,s=arguments.length,o=s<3?r:null===a?a=Object.getOwnPropertyDescriptor(r,e):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,r,e,a);else for(var n=t.length-1;n>=0;n--)(i=t[n])&&(o=(s<3?i(o):s>3?i(r,e,o):i(r,e))||o);return s>3&&o&&Object.defineProperty(r,e,o),o};function Hr(t){return Object.keys(t).filter((r=>t[r]))}const Kr=class{constructor(r){t(this,r),this.permissions=Fr,this.enabledSounds=Hr(Fr.notification_sounds),this.config=g(),this.t=d(),this.iconPack=c,this.notifications=[],this.addStagePeersListeners=t=>{t.participants.joined.addListener("participantJoined",this.participantJoinedListener),t.participants.joined.addListener("participantLeft",this.participantLeftListener)},this.removeStagePeersListeners=t=>{t.participants.joined.removeListener("participantJoined",this.participantJoinedListener),t.participants.joined.removeListener("participantLeft",this.participantLeftListener)},this.onNotification=t=>{this.add(t.detail);const r=t.detail.playSound;null!=r&&this.audio.play(r)},this.onRecordingUpdate=t=>{var r,e;"RECORDING"===t&&!1!==this.permissions.notifications.recording_started?this.add({id:"recording-started",icon:this.iconPack.recording,message:this.t("recording.started"),duration:null!==(r=this.permissions.notification_duration.recording_started)&&void 0!==r?r:Jr}):"STOPPING"===t&&!1!==this.permissions.notifications.recording_stopped&&this.add({id:"recording-stopped",icon:this.iconPack.stop_recording,message:this.t("recording.stopped"),duration:null!==(e=this.permissions.notification_duration.recording_stopped)&&void 0!==e?e:Jr})},this.paused=!1}connectedCallback(){"undefined"!=typeof document&&(null===document||void 0===document||document.addEventListener("rtkNotification",this.onNotification)),this.meetingChanged(this.meeting),this.configChanged(this.config),this.statesChanged(this.states)}clearListeners(t){var r,e,a,i,s,o,n,c;const d="LIVESTREAM"===t.meta.viewType;(d&&"ON_STAGE"===(null===(r=t.stage)||void 0===r?void 0:r.status)||!d)&&this.removeStagePeersListeners(t),this.chatUpdateListener&&(null===(e=t.chat)||void 0===e||e.removeListener("chatUpdate",this.chatUpdateListener)),this.pollUpdateListener&&(null===(a=t.polls)||void 0===a||a.removeListener("pollsUpdate",this.pollUpdateListener)),t.meta.removeListener("socketConnectionUpdate",this.socketConnectionUpdateListener),this.stageRequestAccepted&&(null===(i=t.stage)||void 0===i||i.removeListener("stageRequestApproved",this.stageRequestAccepted)),this.stageRequestRejected&&(null===(s=t.stage)||void 0===s||s.removeListener("stageRequestRejected",this.stageRequestRejected)),this.newStageRequests&&(null===(o=t.stage)||void 0===o||o.removeListener("newStageRequest",this.newStageRequests)),this.stageStatusUpdateListener&&(null===(n=t.stage)||void 0===n||n.removeListener("stageStatusUpdate",this.stageStatusUpdateListener)),null===(c=t.recording)||void 0===c||c.removeListener("recordingUpdate",this.onRecordingUpdate),clearTimeout(this.disconnectTimeout),t.self.removeListener("deviceUpdate",this.deviceUpdateListener)}disconnectedCallback(){var t;"undefined"!=typeof document&&(null===document||void 0===document||document.removeEventListener("rtkNotification",this.onNotification)),this.meeting&&(this.clearListeners(this.meeting),this.waitlistedParticipantJoinedListener&&this.meeting.participants.waitlisted.removeListener("participantJoined",this.waitlistedParticipantJoinedListener),this.waitlistedParticipantLeftListener&&this.meeting.participants.waitlisted.removeListener("participantLeft",this.waitlistedParticipantLeftListener),this.activeTabUpdateListener&&(null===(t=this.meeting.meta)||void 0===t||t.removeListener("activeTabUpdate",this.activeTabUpdateListener)),this.peerStageStatusListener&&this.meeting.participants.joined.removeListener("stageStatusUpdate",this.peerStageStatusListener))}meetingChanged(t,r){var e,a,i,s,o,n,c,d,l;if(clearTimeout(this.disconnectTimeout),r&&this.clearListeners(r),!t)return;const h="LIVESTREAM"===t.meta.viewType;this.audio=new Q(t);const{notifications:p,notification_duration:b,notification_sounds:g}=this.permissions;if(this.participantJoinedListener=t=>{p.participant_joined&&this.add({id:`${t.id}-joined`,message:`${y(t.name)} ${this.t("notifications.joined")}`,image:t.picture,duration:b.participant_joined}),g.participant_joined&&this.canPlayParticipantJoinedSound()&&this.audio.play("joined")},this.participantLeftListener=t=>{const{socketState:{state:r}}=this.meeting.meta;p.participant_left&&"connected"!==r&&this.add({id:`${t.id}-left`,message:`${y(t.name)} ${this.t("notifications.left")}`,image:t.picture,duration:b.participant_left}),g.participant_left&&this.canPlayParticipantJoinedSound()&&this.audio.play("left")},this.waitlistedParticipantJoinedListener=t=>{if(!this.canAcceptWaitingRequests())return;const r=`${t.id}-joined-waitlist`;this.add({id:r,message:`${y(t.name)} ${this.t("notifications.requesting_to_join_meeting")}`,image:t.picture,duration:b.participant_joined_waitlist,button:{text:this.t("notifications.accept"),variant:"primary",onClick:async()=>{await this.meeting.participants.acceptWaitingRoomRequest(t.id),this.remove(r)}}}),g.participant_joined_waitlist&&this.canPlayParticipantJoinedSound()&&this.audio.play("message")},this.waitlistedParticipantLeftListener=t=>{this.remove(`${t.id}-joined-waitlist`)},this.chatUpdateListener=({message:r})=>{const e=L(r);if(null!=e){if(e.userId===t.self.userId)return;"text"===e.type&&(p.chat&&this.add({id:`message-${Math.random().toString(36)}`,icon:this.iconPack.chat,message:`${e.displayName}: ${e.message}`,duration:b.chat}),g.chat&&this.canPlayChatSound()&&this.audio.play("message"))}},this.pollUpdateListener=({polls:t,newPoll:r})=>{!1!==r&&(p.polls&&this.meeting.self.userId!==t[t.length-1].createdByUserId&&this.add({id:`poll-${Math.random().toString(36)}`,icon:this.iconPack.poll,message:`${this.t("notifications.new_poll_created_by")} ${t[t.length-1].createdBy}`,duration:b.polls}),g.polls&&this.meeting.self.userId!==t[t.length-1].createdByUserId&&this.canPlayChatSound()&&this.audio.play("message"))},this.deviceUpdateListener=({device:t,preview:r})=>{r||("audiooutput"===t.kind&&(this.audio.setDevice(t.deviceId),this.remove("speaker-switched"),this.add({id:"speaker-switched",message:`${this.t("notifications.connected_to")} ${t.label}`,icon:this.iconPack.speaker,duration:5e3})),"videoinput"===t.kind&&(this.remove("camera-switched"),this.add({id:"camera-switched",message:`${this.t("notifications.connected_to")} ${t.label}`,icon:this.meeting.self.videoEnabled?this.iconPack.video_on:this.iconPack.video_off,iconVariant:this.meeting.self.videoEnabled?"primary":"danger",duration:5e3})),"audioinput"===t.kind&&(this.remove("mic-switched"),this.add({id:"mic-switched",message:`${this.t("notifications.connected_to")} ${t.label}`,icon:this.meeting.self.audioEnabled?this.iconPack.mic_on:this.iconPack.mic_off,iconVariant:this.meeting.self.audioEnabled?"primary":"danger",duration:5e3})))},this.socketConnectionUpdateListener=({state:t,reconnectionAttempt:r,reconnected:e})=>{switch(t){case"connected":this.remove("socket"),e&&this.add({id:"socket",icon:this.iconPack.wifi,message:this.t("network.restored"),duration:3e3});break;case"disconnected":this.remove("socket"),this.add({id:"socket",icon:this.iconPack.disconnected,message:this.t("network.reconnecting")});break;case"reconnecting":r>=6?(this.remove("socket"),this.add({id:"socket",icon:this.iconPack.disconnected,message:this.t("network.disconnected"),button:{text:this.t("end"),variant:"danger",onClick:()=>{var t;return null===(t=this.meeting)||void 0===t?void 0:t.leaveRoom()}}})):r>=4&&(this.remove("socket"),this.add({id:"socket",icon:this.iconPack.disconnected,message:this.t("network.delay_extended")}));break;case"failed":this.remove("socket"),this.add({id:"socket",icon:this.iconPack.disconnected,message:this.t("network.leaving"),button:{text:this.t("end"),variant:"danger",onClick:()=>{var t;return null===(t=this.meeting)||void 0===t?void 0:t.leaveRoom()}}})}},this.activeTabUpdateListener=r=>{if(p.tab_sync)switch(r.type){case"plugin":const e=t.plugins.active.toArray().find((t=>t.id==r.id));null!=e&&this.add({id:"activeTab",message:`${this.t("notifications.plugin_switched_to")} ${e.name}`,duration:b.participant_joined});break;case"screenshare":const a=t.participants.joined.toArray().filter((t=>t.screenShareEnabled)).find((t=>t.id==r.id));null!=a&&this.add({id:"spotlight",message:`Now watching ${a.name}'s screen`,duration:b.webinar})}},this.peerStageStatusListener=t=>{"REQUESTED_TO_JOIN_STAGE"===t.stageStatus&&(this.add({id:`stage-request-${t.id}`,message:`${t.name} ${this.t("notifications.requested_to_join_stage")}`,duration:b.webinar,button:{text:this.t("notifications.accept"),variant:"primary",onClick:async()=>{await this.meeting.stage.grantAccess([t.userId]),this.remove(`stage-request-${t.id}`)}}}),g.webinar&&this.audio.play("joined")),"ON_STAGE"===t.stageStatus&&(this.add({id:`stage-joined-${t.id}`,message:`${t.name} ${this.t("notifications.joined_stage")}`,duration:b.webinar}),g.webinar&&this.audio.play("joined"))},this.stageRequestAccepted=()=>{this.add({id:"stage-request-accepted",message:this.t("notifications.request_to_join_accepted"),duration:3e3})},this.stageRequestRejected=()=>{this.add({id:"stage-request-rejected",message:this.t("notifications.request_to_join_rejected"),duration:3e3})},this.newStageRequests=({count:t})=>{this.add({id:"new-stage-request",message:`You have ${t<0?"new stage":`${t} pending`} request${1===t?"":"s"}`,duration:3e3})},this.stageStatusUpdateListener=r=>{"ON_STAGE"===r?this.addStagePeersListeners(t):this.removeStagePeersListeners(t)},!w(t)&&(null===(e=t.chat)||void 0===e||e.addListener("chatUpdate",this.chatUpdateListener)),"CHAT"===(null===(a=t.self.config.viewType)||void 0===a?void 0:a.toString()))return;const k=t.self.getCurrentDevices();null!=k.speaker&&this.audio.setDevice(k.speaker.deviceId),h?null===(i=t.stage)||void 0===i||i.on("stageStatusUpdate",this.stageStatusUpdateListener):this.addStagePeersListeners(t),this.canAcceptWaitingRequests()&&(t.participants.waitlisted.addListener("participantJoined",this.waitlistedParticipantJoinedListener),t.participants.waitlisted.addListener("participantLeft",this.waitlistedParticipantLeftListener)),null===(s=t.polls)||void 0===s||s.addListener("pollsUpdate",this.pollUpdateListener),t.self.addListener("deviceUpdate",this.deviceUpdateListener),t.meta.addListener("socketConnectionUpdate",this.socketConnectionUpdateListener),null===(o=t.meta)||void 0===o||o.addListener("activeTabUpdate",this.activeTabUpdateListener),null===(n=t.recording)||void 0===n||n.addListener("recordingUpdate",this.onRecordingUpdate),null===(c=t.stage)||void 0===c||c.addListener("stageRequestApproved",this.stageRequestAccepted),null===(d=t.stage)||void 0===d||d.addListener("stageRequestRejected",this.stageRequestRejected),t.self.permissions.stageEnabled&&t.self.permissions.acceptStageRequests&&(null===(l=t.stage)||void 0===l||l.addListener("newStageRequest",this.newStageRequests))}configChanged(t){null!=t&&null!=(null==t?void 0:t.config)&&(this.permissions=function(t){const r=Object.assign({},Fr);return null==t||(Object.assign(r.notification_sounds,t.notification_sounds),Object.assign(r.notifications,t.notifications),Object.assign(r.notification_duration,t.notification_duration),r.participant_chat_message_sound_notification_limit=t.participant_chat_message_sound_notification_limit,r.participant_joined_sound_notification_limit=t.participant_joined_sound_notification_limit),r}(t.config),this.enabledSounds=Hr(this.permissions.notification_sounds))}statesChanged(t){var r;if(null!=t){const e=!(null===(r=null==t?void 0:t.prefs)||void 0===r?void 0:r.muteNotificationSounds);for(const t of this.enabledSounds)t in this.permissions.notification_sounds&&(this.permissions.notification_sounds[t]=e)}}apiErrorListener({detail:t}){const{trace:r,message:e}=t;this.add({id:r,message:e,duration:Jr,icon:this.iconPack.warning})}sendNotificationListener({detail:t}){const{trace:r,message:e}=t;this.add({id:r,message:e,duration:Jr})}add(t){"visible"===document.visibilityState&&this.notifications.length<5&&(this.notifications=[...this.notifications,t])}remove(t){this.notifications=this.notifications.filter((r=>r.id!==t))}handleDismiss(t){t.stopPropagation();const r=t.detail,e=this.host.shadowRoot.querySelector(`[data-id="${r}"]`);null==e||e.classList.add("exit"),setTimeout((()=>{i((()=>{this.remove(r)}))}),400)}canPlayParticipantJoinedSound(){return null==this.permissions.participant_joined_sound_notification_limit||this.permissions.participant_joined_sound_notification_limit<=0||this.meeting.participants.count<=this.permissions.participant_joined_sound_notification_limit}canPlayChatSound(){return null==this.permissions.participant_chat_message_sound_notification_limit||this.permissions.participant_chat_message_sound_notification_limit<=0||this.meeting.participants.count<=this.permissions.participant_chat_message_sound_notification_limit}canAcceptWaitingRequests(){return this.permissions.notifications.participant_joined_waitlist&&this.meeting.self.permissions.acceptWaitingRequests}render(){if(this.meeting)return r(e,null,r("div",{onMouseEnter:()=>this.paused=!0,onFocusin:()=>this.paused=!0,onMouseLeave:()=>this.paused=!1,onFocusout:()=>this.paused=!1},this.notifications.map((t=>r("rtk-notification",{size:this.size,key:t.id,"data-id":t.id,notification:t,onRtkNotificationDismiss:t=>this.handleDismiss(t),iconPack:this.iconPack,paused:this.paused,t:this.t})))))}get host(){return o(this)}static get watchers(){return{meeting:["meetingChanged"],config:["configChanged"],states:["statesChanged"]}}};Xr([R()],Kr.prototype,"meeting",void 0),Xr([R()],Kr.prototype,"states",void 0),Xr([R()],Kr.prototype,"config",void 0),Xr([R()],Kr.prototype,"t",void 0),Xr([R()],Kr.prototype,"iconPack",void 0),Kr.style=":host{line-height:initial;font-family:var(--rtk-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--rtk-space-0, 0px);padding:var(--rtk-space-0, 0px)}:host{position:absolute;top:var(--rtk-space-4, 16px);right:var(--rtk-space-4, 16px);bottom:var(--rtk-space-4, 16px);left:var(--rtk-space-4, 16px);top:auto;display:flex;flex-direction:column;pointer-events:none;z-index:100}rtk-notification{margin-top:var(--rtk-space-2, 8px)}";var Wr=function(t,r,e,a){var i,s=arguments.length,o=s<3?r:null===a?a=Object.getOwnPropertyDescriptor(r,e):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,r,e,a);else for(var n=t.length-1;n>=0;n--)(i=t[n])&&(o=(s<3?i(o):s>3?i(r,e,o):i(r,e))||o);return s>3&&o&&Object.defineProperty(r,e,o),o};const Vr=class{constructor(r){t(this,r),this.stateUpdate=a(this,"rtkStateUpdate",7),this.iconPack=c,this.t=d()}connectedCallback(){this.states.activeOverlayModal.timeout&&setTimeout((()=>{this.stateUpdate.emit({activeOverlayModal:{active:!1}})}),this.states.activeOverlayModal.timeout)}render(){return r(e,{key:"c767e575975cc837f1f484932c5c916d5d7e4522"},r("rtk-icon",{key:"0f4e8e81e1fa985852cbe4055203ca3095ae8ebe",icon:this.states.activeOverlayModal.icon}),r("h2",{key:"1af8c19bc19e93b279cf396903a91d3ae7192eda"},this.states.activeOverlayModal.title),r("p",{key:"226aacfe32b70ba4e1a01b1e4875af3fd39b559a"},this.states.activeOverlayModal.description))}};Wr([R()],Vr.prototype,"meeting",void 0),Wr([R()],Vr.prototype,"states",void 0),Wr([R()],Vr.prototype,"iconPack",void 0),Wr([R()],Vr.prototype,"t",void 0),Vr.style=":host{line-height:initial;font-family:var(--rtk-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--rtk-space-0, 0px);padding:var(--rtk-space-0, 0px)}:host{display:flex;height:100%;width:100%;flex-direction:column;align-items:center;justify-content:center;background-color:rgba(var(--rtk-colors-background-1000, 8 8 8) / 0.6);position:fixed;top:var(--rtk-space-0, 0px);right:var(--rtk-space-0, 0px);z-index:50}rtk-icon{height:var(--rtk-space-20, 80px)}h2{margin:var(--rtk-space-2, 8px);font-weight:500}p{margin:var(--rtk-space-0, 0px);font-size:16px}";var Qr=function(t,r,e,a){var i,s=arguments.length,o=s<3?r:null===a?a=Object.getOwnPropertyDescriptor(r,e):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,r,e,a);else for(var n=t.length-1;n>=0;n--)(i=t[n])&&(o=(s<3?i(o):s>3?i(r,e,o):i(r,e))||o);return s>3&&o&&Object.defineProperty(r,e,o),o};const Zr=class{constructor(r){t(this,r),this.autoScroll=!0,this.iconPack=c,this.t=d(),this.emptyListLabel=null,this.isLoading=!1,this.rerenderBoolean=!1,this.shouldRenderNewNodes=!0,this.hasNewNodesToRender=!1,this.showEmptyListLabel=!1,this.pagesToRender=[[]],this.currentTime=()=>(new Date).getTime(),this.observe=t=>{t&&this.intersectionObserver.observe(t)}}async onNewNode(t){this.shouldRenderNewNodes?(this.addNodeToRender(t,!1),this.rerender()):this.hasNewNodesToRender=!0}async onNodeDelete(t){const r=this.pagesToRender.flat().length;this.pagesToRender=this.pagesToRender.map((r=>r.filter((r=>r.id!==t)))),r!==this.pagesToRender.flat().length&&this.rerender()}async onNodeUpdate(t,r){let e=!1;this.pagesToRender=this.pagesToRender.map((a=>a.map((a=>a.id===t?(e=!0,r):a)))),e&&this.rerender()}onItemChanged(t,r){t!==r&&(this.pagesToRender=[[]],this.loadFirstPage().then((()=>this.rerender())))}connectedCallback(){this.rerender=P(this.rerender.bind(this),50,{maxWait:200}),this.intersectionObserver=new IntersectionObserver((t=>{i((()=>{for(const r of t)"bottom-scroll"===r.target.id&&(r.isIntersecting?this.loadBottom():this.shouldRenderNewNodes=!1),"top-scroll"===r.target.id&&r.isIntersecting&&this.loadTop()}))}))}disconnectedCallback(){this.intersectionObserver.disconnect()}componentDidLoad(){this.loadFirstPage(),this.observe(this.$topRef),this.observe(this.$bottomRef)}componentDidRender(){this.shouldRenderNewNodes&&this.autoScroll&&B(this.$paginatedList)}loadFirstPage(){return this.loadPage(this.currentTime(),this.pageSize,!0,(t=>{0===t.length&&(this.showEmptyListLabel=!0)}))}loadTop(){0!==this.pagesToRender.length&&(1===this.pagesToRender.length&&this.pagesToRender[0].length<this.pageSize||this.loadPage(this.pagesToRender[0][0].timeMs-1,this.pageSize,!0,(()=>{})))}loadBottom(){if(0===this.pagesToRender.length)return void(this.shouldRenderNewNodes=!0);if(1===this.pagesToRender.length&&this.pagesToRender[0].length<this.pageSize)return void(this.shouldRenderNewNodes=!0);const t=this.pagesToRender.at(-1).at(-1);this.loadPage(t.timeMs+1,this.pageSize,!1,(()=>B(this.$paginatedList)))}addNodeToRender(t,r){if(r){const r=this.pagesToRender[0];r&&(null==r?void 0:r.length)<this.pageSize?r.unshift(t):(this.pagesToRender.unshift([t]),this.removeLastPageIfNeeded(!1))}else{const[r]=this.pagesToRender.slice(-1);r&&(null==r?void 0:r.length)<this.pageSize?r.push(t):(this.pagesToRender.push([t]),this.removeLastPageIfNeeded(!0))}}async loadPage(t,r,e,a=(()=>{})){this.isLoading=!0;const i=await this.fetchData(t,r,e);if(this.isLoading=!1,!(null==i?void 0:i.length))return e||(this.hasNewNodesToRender=!1,this.shouldRenderNewNodes=!0),void a([]);i.forEach((t=>this.addNodeToRender(t,e))),this.rerender(),a(i)}rerender(){this.rerenderBoolean=!this.rerenderBoolean}removeLastPageIfNeeded(t){this.pagesToRender.length>this.pagesAllowed&&(t?this.pagesToRender.shift():this.pagesToRender.pop())}onDownArrowClicked(){this.loadBottom()}render(){var t;return r(e,{key:"4f1521c422a134079a5def745ed85631c48a132a"},r("div",{key:"0cadd9723fbc844bab7e595d18b6174ecb6ba10c",class:"scrollbar container",part:"container",ref:t=>this.$paginatedList=t},r("div",{key:"35a9b009d74a81159c7b856b9412b670051c9893",class:{"show-new-messages-ctr":!0,active:!this.shouldRenderNewNodes}},r("rtk-button",{key:"2798fbf3da7200db72dfe1f985d4570163d77ff8",class:"show-new-messages",kind:"icon",variant:"secondary",part:"show-new-messages",onClick:()=>this.onDownArrowClicked()},r("rtk-icon",{key:"08b47cd4f472b240174cee559d4d39cf796aa788",icon:this.iconPack.chevron_down}))),r("div",{key:"ae30f2391936a8a4f258384cc8da4300bf2c350c",class:"smallest-dom-element",id:"bottom-scroll",ref:t=>this.$bottomRef=t}),this.isLoading&&0===this.pagesToRender.flat().length&&r("rtk-spinner",{key:"72f866d03e6d0d954a46443aa19d95f7033dfbe9",size:"lg"}),0===this.pagesToRender.flat().length&&this.showEmptyListLabel?r("div",{class:"empty-list"},null!==(t=this.emptyListLabel)&&void 0!==t?t:this.t("list.empty")):r("div",{class:"page-wrapper"},this.pagesToRender.map((t=>this.createNodes(t)))),r("div",{key:"c96065eee8e01c56c0f6cb419b5e26ceef564678",class:"smallest-dom-element",id:"top-scroll",ref:t=>this.$topRef=t})))}static get watchers(){return{selectedItemId:["onItemChanged"]}}};Qr([R()],Zr.prototype,"iconPack",void 0),Qr([R()],Zr.prototype,"t",void 0),Zr.style=".scrollbar{scrollbar-width:thin;scrollbar-color:var(--rtk-scrollbar-color, rgb(var(--rtk-colors-background-600, 60 60 60)))\n    var(--rtk-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar{height:var(--rtk-space-1\\.5, 6px);width:var(--rtk-space-1\\.5, 6px);border-radius:9999px;background-color:var(--rtk-scrollbar-background, transparent)}.scrollbar::-webkit-scrollbar-thumb{border-radius:9999px;background-color:var(--rtk-scrollbar-color, rgb(var(--rtk-colors-background-600, 60 60 60)))}:host{position:relative;display:flex;flex-direction:column;flex:1}.container{box-sizing:border-box;display:flex;flex-direction:column-reverse;padding-top:var(--rtk-space-4, 16px);padding-bottom:var(--rtk-space-4, 16px);flex:1 0 0px;overflow-y:scroll;}.file-picker{display:none}.chat *:first-child{margin-top:var(--rtk-space-0, 0px)}.chat .head{display:flex;align-items:center}.chat .head .name{margin-right:var(--rtk-space-4, 16px);font-size:12px;font-weight:700}.chat .head .time{font-size:12px;color:rgb(var(--rtk-colors-text-800, 255 255 255 / 0.76))}.chat .body{margin-top:var(--rtk-space-2, 8px);margin-bottom:var(--rtk-space-2, 8px);overflow-wrap:break-word;font-size:14px;line-height:1.375}.chat .body .emoji{font-size:24px}p{margin-top:var(--rtk-space-0, 0px);margin-bottom:var(--rtk-space-3, 12px)}rtk-text-message,rtk-image-message,rtk-file-message{margin-top:var(--rtk-space-4, 16px);display:block;padding-left:var(--rtk-space-3, 12px);padding-right:var(--rtk-space-3, 12px);font-family:var(--rtk-font-family, sans-serif);color:rgb(var(--rtk-colors-text-900, 255 255 255 / 0.88));box-sizing:border-box}*[is-continued]{margin-top:var(--rtk-space-3, 12px)}rtk-text-message[is-continued]{margin-top:var(--rtk-space-2, 8px)}.chat .image{position:relative;height:var(--rtk-space-40, 160px);max-width:var(--rtk-space-64, 256px);cursor:pointer}.chat .image img{display:none;height:100%;width:100%;border-radius:var(--rtk-border-radius-sm, 4px);-o-object-fit:cover;object-fit:cover}.chat .image .image-spinner{display:flex;height:100%;width:100%;flex-direction:column;align-items:center;justify-content:center;border-radius:var(--rtk-border-radius-sm, 4px);--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-background-800, 30 30 30) / var(--tw-bg-opacity))}.chat .image .image-spinner rtk-spinner{--tw-text-opacity:1;color:rgba(var(--rtk-colors-brand-500, 33 96 253) / var(--tw-text-opacity))}.chat .image .image-errored{display:flex;height:100%;width:100%;flex-direction:column;align-items:center;justify-content:center;border-radius:var(--rtk-border-radius-sm, 4px);background-color:rgba(var(--rtk-colors-danger, 255 45 45) / 0.1);--tw-text-opacity:1;color:rgba(var(--rtk-colors-danger, 255 45 45) / var(--tw-text-opacity))}.chat .image .actions{display:none;height:var(--rtk-space-8, 32px);align-items:center;position:absolute;top:var(--rtk-space-2, 8px);right:var(--rtk-space-2, 8px);border-radius:var(--rtk-border-radius-sm, 4px);--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-background-900, 26 26 26) / var(--tw-bg-opacity));color:rgb(var(--rtk-colors-text-1000, 255 255 255));overflow:hidden;--tw-shadow:0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);--tw-shadow-colored:0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.chat .image .actions .action{height:var(--rtk-space-8, 32px);width:var(--rtk-space-8, 32px);border-radius:var(--rtk-border-radius-none, 0);border-width:var(--rtk-border-width-none, 0);border-style:none;background-color:transparent;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.chat .image .actions .action:hover{--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}.image.loaded img{display:block}.image.loaded .image-spinner{display:none}.image:hover .actions,.image:focus .actions{display:flex}.chat .file{display:flex;align-items:center;gap:var(--rtk-space-1, 4px);padding-left:var(--rtk-space-2, 8px);padding-right:var(--rtk-space-2, 8px);padding-top:var(--rtk-space-1\\.5, 6px);padding-bottom:var(--rtk-space-1\\.5, 6px);border-radius:var(--rtk-border-radius-sm, 4px);--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-background-700, 44 44 44) / var(--tw-bg-opacity));color:rgb(var(--rtk-colors-text-700, 255 255 255 / 0.64))}.chat .file .file-data{flex:1 1 0%}.chat .file .file-data .name{word-break:break-all;color:rgb(var(--rtk-colors-text-1000, 255 255 255));overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1}.chat .file .file-data .file-data-split{margin-top:var(--rtk-space-0\\.5, 2px);display:flex;align-items:center;font-size:12px}.chat .file .file-data .file-data-split .ext{margin-right:var(--rtk-space-2, 8px);text-transform:uppercase;overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1}.chat .file .file-data .file-data-split .divider{height:var(--rtk-space-4, 16px);width:var(--rtk-space-0\\.5, 2px);--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}.chat .file .file-data .file-data-split .size{margin-left:var(--rtk-space-2, 8px)}.smallest-dom-element{width:1px}#top-scroll{transform:translateY(20vh)}#bottom-scroll{transform:translateY(-20vh)}a{--tw-text-opacity:1;color:rgba(var(--rtk-colors-brand-300, 73 124 253) / var(--tw-text-opacity));text-decoration-line:none}a:hover{text-decoration-line:underline}.show-new-messages-ctr{pointer-events:none;position:absolute;bottom:var(--rtk-space-2, 8px);right:var(--rtk-space-4, 16px);z-index:10;margin-top:calc(var(--rtk-space-14, 56px) * -1);--tw-translate-y:var(--rtk-space-28, 112px);transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));opacity:0;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, -webkit-backdrop-filter;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter, -webkit-backdrop-filter;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}.show-new-messages-ctr.active{--tw-translate-y:var(--rtk-space-0, 0px);transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));opacity:1}.show-new-messages{pointer-events:auto;border-radius:9999px}.show-new-messages:hover{border-radius:9999px;--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000);--tw-ring-opacity:1;--tw-ring-color:rgba(var(--rtk-colors-background-600, 60 60 60) / var(--tw-ring-opacity));--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-background-600, 60 60 60) / var(--tw-bg-opacity))}rtk-spinner,.empty-list{margin:auto}.page-wrapper{margin-left:var(--rtk-space-1, 4px);margin-right:var(--rtk-space-1, 4px)}.message-wrapper{margin-bottom:var(--rtk-space-2, 8px)}.pinned .message-wrapper{position:relative}.pinned .pin-icon{position:absolute;right:calc(var(--rtk-space-1, 4px) * -1);top:calc(var(--rtk-space-1, 4px) * -1);display:flex;border-radius:var(--rtk-border-radius-sm, 4px)}.pinned rtk-message-view{--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-background-700, 44 44 44) / var(--tw-bg-opacity));padding-top:var(--rtk-space-1, 4px);padding-bottom:var(--rtk-space-1, 4px)}";var te=function(t,r,e,a){var i,s=arguments.length,o=s<3?r:null===a?a=Object.getOwnPropertyDescriptor(r,e):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,r,e,a);else for(var n=t.length-1;n>=0;n--)(i=t[n])&&(o=(s<3?i(o):s>3?i(r,e,o):i(r,e))||o);return s>3&&o&&Object.defineProperty(r,e,o),o};const re={"Chrome.Desktop.audio":["Chrome1.svg","Chrome2.svg","Chrome3.svg"],"Chrome.Desktop.video":["Chrome1.svg","Chrome2.svg","Chrome3.svg"]},ee=class{constructor(r){t(this,r),this.stateUpdate=a(this,"rtkStateUpdate",7),this.t=d(),this.iconPack=c,this.currentStep=0,this.svgSteps=[],this.continue=()=>{this.stateUpdate.emit({activePermissionsMessage:{enabled:!1}})},this.reload=()=>{"undefined"!=typeof window&&window.location.reload()},this.getImage=async t=>{function r(t,r,e){return t.split(r).join(e)}const e=await fetch(`https://assets.dyte.io/ui-kit/permissions/${t}`);let a=await e.text();return a=r(a,"yoursite.com",location.host),a=r(a,"Yoursite",document.title.length>14?`${document.title.slice(0,14)}...`:document.title),a},this.nextStep=()=>{this.currentStep=(this.currentStep+1)%this.svgSteps.length},this.openMacSystemSettings=()=>{const t=document.createElement("a");switch(this.mediaType){case"audio":t.href="x-apple.systempreferences:com.apple.preference.security?Privacy_Microphone";break;case"screenshare":t.href="x-apple.systempreferences:com.apple.preference.security?Privacy_ScreenCapture";break;case"video":t.href="x-apple.systempreferences:com.apple.preference.security?Privacy_Camera"}t.click()}}connectedCallback(){this.meetingChanged(this.meeting)}disconnectedCallback(){this.stepsTimer&&clearTimeout(this.stepsTimer)}meetingChanged(t){var r,e,a;if(null!=t){this.device=t.self.device;const i=(null===(r=this.device)||void 0===r?void 0:r.isMobile)?"Mobile":"Desktop",s=null!==(a=re[`${null===(e=this.device)||void 0===e?void 0:e.browserName}.${i}.${this.mediaType}`])&&void 0!==a?a:[];Promise.all(s.map(this.getImage)).then((t=>{this.svgSteps=t}))}}getLink(t){let r;switch(t){case"audio":r="microphone";break;case"video":r="camera";break;default:r="screenshare"}let e=`Allow+${r}+access`;if(null!=this.device){const{browserName:t,isMobile:r}=this.device;e+="+"+t,r&&(e+="+mobile")}return"https://www.google.com/search?q="+e}isDeniedBySystem(){var t;const r=null===(t=this.meeting)||void 0===t?void 0:t.self.mediaPermissions;return null!=r&&"SYSTEM_DENIED"===r[this.mediaType]}getTitle(){const t=this.isDeniedBySystem();return this.t(t?`perm_sys_denied.${this.mediaType}`:`perm_denied.${this.mediaType}`)}get mediaType(){var t,r,e;return null!==(e=null===(r=null===(t=this.states)||void 0===t?void 0:t.activePermissionsMessage)||void 0===r?void 0:r.kind)&&void 0!==e?e:"audio"}getMessage(){var t;const{browserName:r,osName:e}=this.meeting.self.device,a=this.isDeniedBySystem(),i=null!==(t=r.toLowerCase())&&void 0!==t?t:"others";if(a){const t=`perm_sys_denied.${this.mediaType}.${(null!=e?e:"others").toLowerCase()}.message`;return this.t(t)===t?this.t(`perm_sys_denied.${this.mediaType}.others.message`):this.t(t)}const s=`perm_denied.${this.mediaType}.${i}.message`;return this.t(s)===s?this.t(`perm_denied.${this.mediaType}.others.message`):this.t(s)}render(){var t,a,i;const s=this.isDeniedBySystem();this.svgSteps.length>0&&(this.stepsTimer&&clearTimeout(this.stepsTimer),this.stepsTimer=setTimeout(this.nextStep,2500));const o=s&&"macOS"==this.meeting.self.device.osName;return r(e,{key:"5382ef58e7cd1b901c615f2137460d9cdf255218"},r("h2",{key:"62cbe05476171bd2faaca3c1c6142bf17949e405"},r("rtk-icon",{key:"1727839b136ad2e87d7109883d3ba22f0db16418",class:"text-icon",icon:this.iconPack.warning}),this.getTitle()),this.svgSteps.length>0&&r("div",{key:"ebabd8b9725e2a65218ab7826643565bf0f14884",class:"svg-container"},this.svgSteps.map(((t,e)=>r("p",{innerHTML:t,class:"svg-ins",key:this.currentStep,hidden:e!==this.currentStep})))),r("div",{key:"a9686c1c427f120d0879c3d57dda17941b06758e"},this.getMessage()),!s&&r("a",{key:"841dc8ff76cc10e376171c4267efcca71d2ef2a6",class:"need-help-link",href:this.getLink(null!==(i=null===(a=null===(t=this.states)||void 0===t?void 0:t.activePermissionsMessage)||void 0===a?void 0:a.kind)&&void 0!==i?i:"audio"),target:"_blank",rel:"noreferrer external noreferrer noopener"},r("rtk-icon",{key:"6cded0b28e0cd0f25aa58476c7f9f60cacd8abbf",class:"text-icon",icon:this.iconPack.attach}),this.t("cta.help")),r("div",{key:"45a90d83f86799bc5e6c5df08adec1b261caad9a",class:"actions"},r("rtk-button",{key:"f882b2b00cea111bd87a23e9985a60a7e45e9e18",size:"lg",kind:"wide",variant:"secondary",onClick:this.continue},this.t("cta.continue")),o?r("rtk-button",{size:"lg",kind:"wide",onClick:this.openMacSystemSettings},this.t("cta.system_settings")):r("rtk-button",{size:"lg",kind:"wide",onClick:this.reload},this.t("cta.reload"))),r("slot",{key:"091e35565236749006f6aac7dd8368dd7045b1b1"}))}static get watchers(){return{meeting:["meetingChanged"]}}};te([R()],ee.prototype,"meeting",void 0),te([R()],ee.prototype,"t",void 0),te([R()],ee.prototype,"iconPack",void 0),te([R()],ee.prototype,"states",void 0),ee.style=":host{line-height:initial;font-family:var(--rtk-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--rtk-space-0, 0px);padding:var(--rtk-space-0, 0px)}:host{box-sizing:border-box;display:block;max-height:100%;width:600px;overflow-y:auto;padding:var(--rtk-space-6, 24px);border-radius:var(--rtk-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgba(var(--rtk-colors-background-1000, 8 8 8) / var(--tw-bg-opacity));overflow-wrap:break-word;color:rgb(var(--rtk-colors-text-1000, 255 255 255));word-wrap:break-word}.actions{display:flex;align-items:center;gap:var(--rtk-space-2, 8px)}.text-icon{display:inline-block;vertical-align:middle}h2{margin-top:var(--rtk-space-0, 0px);margin-bottom:var(--rtk-space-4, 16px)}h2 .text-icon{margin-right:var(--rtk-space-2, 8px);height:var(--rtk-space-8, 32px);width:var(--rtk-space-8, 32px);--tw-text-opacity:1;color:rgba(var(--rtk-colors-danger, 255 45 45) / var(--tw-text-opacity))}p{margin-top:var(--rtk-space-0, 0px);margin-bottom:var(--rtk-space-0, 0px);margin-bottom:var(--rtk-space-4, 16px)}.need-help-link{margin-top:var(--rtk-space-2, 8px);display:inline-block;text-underline-offset:2px;--tw-text-opacity:1;color:rgba(var(--rtk-colors-brand-400, 53 110 253) / var(--tw-text-opacity))}.need-help-link:hover{--tw-text-opacity:1;color:rgba(var(--rtk-colors-brand-600, 13 81 253) / var(--tw-text-opacity))}a rtk-icon{margin-right:var(--rtk-space-2, 8px);height:var(--rtk-space-5, 20px);width:var(--rtk-space-5, 20px)}:host([size='sm']) .actions{flex-direction:column;align-items:flex-start;justify-content:center}:host([size='sm']) .action{width:100%;padding-top:var(--rtk-space-2, 8px);padding-bottom:var(--rtk-space-2, 8px)}.actions{margin-top:var(--rtk-space-6, 24px)}.actions rtk-button{flex:1 1 0%}.svg-container{display:flex;width:100%;justify-content:center !important}.svg-ins{width:80%;border-radius:var(--rtk-border-radius-md, 8px);--tw-bg-opacity:1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}";const ae=class{constructor(r){t(this,r),this.iconPack=c,this.size="md"}render(){return r(e,{key:"896d7e13900a390f5c03df4e2af45163d61f6d09"},r("rtk-icon",{key:"dd05bbbb3eb9db982d85db131b82c2bcaf253a94",class:"spinner",icon:this.iconPack.spinner}))}};(function(t,r,e,a){var i,s=arguments.length,o=s<3?r:null===a?a=Object.getOwnPropertyDescriptor(r,e):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,r,e,a);else for(var n=t.length-1;n>=0;n--)(i=t[n])&&(o=(s<3?i(o):s>3?i(r,e,o):i(r,e))||o);s>3&&o&&Object.defineProperty(r,e,o)})([R()],ae.prototype,"iconPack",void 0),ae.style=":host{line-height:initial;font-family:var(--rtk-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--rtk-space-0, 0px);padding:var(--rtk-space-0, 0px)}:host{box-sizing:border-box;display:block;height:var(--rtk-space-10, 40px);width:var(--rtk-space-10, 40px);--rtk-spinner-color:currentColor}.spinner{height:100%;width:100%}@keyframes spin{to{transform:rotate(360deg)}}.spinner{animation:spin 1s linear infinite;border-radius:9999px;background-color:transparent;animation-duration:1.3s}:host([size='md']){height:var(--rtk-space-6, 24px);width:var(--rtk-space-6, 24px)}:host([size='sm']){height:var(--rtk-space-4, 16px);width:var(--rtk-space-4, 16px)}";var ie=function(t,r,e,a){var i,s=arguments.length,o=s<3?r:null===a?a=Object.getOwnPropertyDescriptor(r,e):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,r,e,a);else for(var n=t.length-1;n>=0;n--)(i=t[n])&&(o=(s<3?i(o):s>3?i(r,e,o):i(r,e))||o);return s>3&&o&&Object.defineProperty(r,e,o),o};const se=class{constructor(r){t(this,r),this.onTextChange=a(this,"textChange",7),this.disabled=!1,this.rateLimitBreached=!1,this.keyDownHandler=()=>{},this.iconPack=c,this.t=d(),this.maxLengthBreached=0,this.onInputHandler=()=>{const t=this.$textArea.value.trim();this.maybeResize(t),this.checkLength(t),this.onTextChange.emit(t)},this.maybeResize=t=>{const r=[...t.matchAll(/\n/g)].length;this.$textArea.style.height=`${Math.min(200,60+20*r)}px`}}componentDidLoad(){this.maxLength&&(this.$textArea.maxLength=this.maxLength);const t=this.$textArea.value.trim();""!==t&&this.maybeResize(t),this.$textArea.focus()}async setText(t,r=!1){this.$textArea.value=t,this.maybeResize(t),r&&this.$textArea.focus(),this.checkLength(t),this.onTextChange.emit(t)}checkLength(t){const r=t.length;r+10>=this.maxLength?this.maxLengthBreached=t.length:r+10<this.maxLength&&this.maxLengthBreached>0&&(this.maxLengthBreached=0)}render(){return r("div",{key:"16cc81323e6fb16e4d4a6622895ed7edc80f2db9",class:"chat-input",part:"chat-input-container"},this.maxLengthBreached>0&&r("div",{key:"05fde7b4f3e084e464fcc3276f0ce1e0d909e6a7",class:"text-error "+(this.maxLengthBreached===this.maxLength?"breached":"")},r("rtk-icon",{key:"d4101bf8933a9873605e88fbb617d8ae38bb56a1",id:"warning-indicator",icon:this.iconPack.warning,part:"warning-indicator"})," ",this.maxLengthBreached," / ",this.maxLength," ",this.t("chat.max_limit_warning")),this.rateLimitBreached&&r("div",{key:"779a1c58114de2cce65a13ee3ea8cb308f7cd68a",class:"text-error breached"},r("rtk-icon",{key:"9dedd14d826b1437f434d92c985659ecc3bc1842",id:"warning-indicator",icon:this.iconPack.warning,part:"warning-indicator"})," ",this.t("chat.rate_limit_error")),r("textarea",{key:"f45f8f812ad668a86d2d0a22926bf437be44cbc9",ref:t=>this.$textArea=t,placeholder:this.placeholder,disabled:this.disabled,onInput:this.onInputHandler,onKeyDown:this.keyDownHandler,part:"chat-input",value:this.value}))}};ie([R()],se.prototype,"iconPack",void 0),ie([R()],se.prototype,"t",void 0),se.style=".chat-input {\n  position: relative;\n  z-index: 10;\n  box-sizing: border-box;\n  display: flex;\n  flex-direction: column;\n  border-top-left-radius: var(--rtk-border-radius-md, 8px);\n  border-top-right-radius: var(--rtk-border-radius-md, 8px)\n}\n\n  .chat-input textarea {\n  --tw-bg-opacity: 1;\n  background-color: rgba(var(--rtk-colors-background-800, 30 30 30) / var(--tw-bg-opacity));\n  box-sizing: border-box;\n  padding: var(--rtk-space-3, 12px);\n  color: rgb(var(--rtk-colors-text-1000, 255 255 255))\n}\n\n  .chat-input textarea::-moz-placeholder {\n  color: rgb(var(--rtk-colors-text-1000, 255 255 255))\n}\n\n  .chat-input textarea::placeholder {\n  color: rgb(var(--rtk-colors-text-1000, 255 255 255))\n}\n\n  .chat-input textarea {\n  font-family: var(--rtk-font-family, sans-serif);\n  outline: 2px solid transparent;\n  outline-offset: 2px;\n  resize: none;\n  overflow-y: auto;\n  border-width: var(--rtk-border-width-none, 0);\n  border-style: none;\n  min-height: 60px;\n  font-size: 14px\n}\n\n@container chatcontainer (height < 360px) {\n  textarea {\n    height: 30px !important;\n    min-height: 30px !important\n  }\n}\n\n.text-error {\n  left: var(--rtk-space-0, 0px);\n  z-index: 10;\n  margin-top: var(--rtk-space-1, 4px);\n  margin-left: var(--rtk-space-1, 4px);\n  display: flex;\n  width: -moz-fit-content;\n  width: fit-content;\n  align-items: center;\n  justify-content: flex-start;\n  border-radius: var(--rtk-border-radius-sm, 4px);\n  --tw-border-opacity: 1;\n  border-color: rgba(var(--rtk-colors-warning, 255 205 7) / var(--tw-border-opacity));\n  --tw-bg-opacity: 1;\n  background-color: rgba(var(--rtk-colors-background-600, 60 60 60) / var(--tw-bg-opacity));\n  padding-left: var(--rtk-space-2, 8px);\n  padding-right: var(--rtk-space-2, 8px);\n  font-size: 12px;\n  font-weight: 600;\n  --tw-text-opacity: 1;\n  color: rgba(var(--rtk-colors-warning, 255 205 7) / var(--tw-text-opacity));\n  border: 1px solid\n}\n\n#warning-indicator {\n  margin-right: var(--rtk-space-1, 4px);\n  height: var(--rtk-space-3, 12px);\n  width: var(--rtk-space-3, 12px)\n}\n\n.text-error.breached {\n  --tw-border-opacity: 1;\n  border-color: rgba(var(--rtk-colors-danger, 255 45 45) / var(--tw-border-opacity));\n  --tw-text-opacity: 1;\n  color: rgba(var(--rtk-colors-danger, 255 45 45) / var(--tw-text-opacity))\n}";var oe=function(t,r,e,a){var i,s=arguments.length,o=s<3?r:null===a?a=Object.getOwnPropertyDescriptor(r,e):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,r,e,a);else for(var n=t.length-1;n>=0;n--)(i=t[n])&&(o=(s<3?i(o):s>3?i(r,e,o):i(r,e))||o);return s>3&&o&&Object.defineProperty(r,e,o),o};const ne=class{constructor(r){t(this,r),this.now=new Date,this.isContinued=!1,this.iconPack=c,this.t=d(),this.showBubble=!1}render(){return r(e,{key:"74b8d7a70a5960c4350061055ded0fa8838084ae"},!this.isContinued&&r(Y,{key:"c0819a75eb645eff5ac6ccd7bdb54e7dbdce9876",name:this.message.displayName,time:this.message.time,now:this.now}),r("div",{key:"f06fbf9a9e4680cc426c183d9ee09bfad452a5ad",class:{body:!0,bubble:this.showBubble},part:"body"},r("div",{key:"2755f1cefa98695843569934c414d6b2fbf158e5",class:{text:!0,emoji:z(this.message.message)}},r(st,{key:"52e0ae4b7710d970cb1915fc4059abef212b12fd",message:this.message.message}))))}};oe([R()],ne.prototype,"iconPack",void 0),oe([R()],ne.prototype,"t",void 0);const ce=class{constructor(r){t(this,r),this.isMarkdown=!1}render(){return r("p",{key:"3a9c21d67487ea40760163f0dd69152454049063",class:{text:!0,emoji:z(this.text)}},this.isMarkdown?r("rtk-markdown-view",{text:this.text}):this.text)}};ce.style=":host{line-height:initial;font-family:var(--rtk-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--rtk-space-0, 0px);padding:var(--rtk-space-0, 0px)}.text{word-break:break-word;display:block;overflow-wrap:break-word;line-height:1.375}.text.emoji{font-size:24px}";const de=class{constructor(r){t(this,r),this.openChange=a(this,"rtkOpenChange",7),this.label="",this.variant="secondary",this.disabled=!1,this.open=!1,this.kind="inline",this.placement="top",this.delay=0,this.isInFocus=!1,this.showMenu=()=>{this.disabled||(this.isInFocus=!0,setTimeout((()=>{this.isInFocus&&(this.tooltipEl.style.display="block",this.update(),this.openChange.emit(!0),"sm"===this.size&&setTimeout((()=>{this.isInFocus&&this.hideMenu()}),1e3))}),this.delay))},this.hideMenu=()=>{this.open||this.disabled||(this.isInFocus=!1,this.tooltipEl.style.display="none",this.openChange.emit(!1))}}componentDidLoad(){this.triggerEl.addEventListener("focusin",this.showMenu),this.triggerEl.addEventListener("mouseenter",this.showMenu),this.triggerEl.addEventListener("focusout",this.hideMenu),this.triggerEl.addEventListener("mouseleave",this.hideMenu),i((()=>{this.openChanged(this.open)}))}disconnectedCallback(){this.triggerEl&&(this.triggerEl.removeEventListener("focusin",this.showMenu),this.triggerEl.removeEventListener("mouseenter",this.showMenu),this.triggerEl.removeEventListener("focusout",this.hideMenu),this.triggerEl.removeEventListener("mouseleave",this.hideMenu),this.triggerEl=void 0)}openChanged(t){t?this.showMenu():this.hideMenu()}update(){tt(this.triggerEl,this.tooltipEl,{placement:this.placement,middleware:[rt(8),et(),at({padding:5}),it({element:this.arrowEl})]}).then((({x:t,y:r,placement:e,middlewareData:a})=>{Object.assign(this.tooltipEl.style,{left:`${t}px`,top:`${r}px`});const{x:i,y:s}=a.arrow,o={top:"bottom",right:"left",bottom:"top",left:"right"}[e.split("-")[0]];Object.assign(this.arrowEl.style,{left:null!=i?`${i}px`:"",top:null!=s?`${s}px`:"",right:"",bottom:"",[o]:"-4px"})}))}render(){return r(e,{key:"cee2142cb6afa3e002b614bd3dd18b710b749ac1"},r("span",{key:"4ba5b4777592afc8eb0ae14b50e5ebbfbb43bd1f",part:"trigger",id:"trigger",ref:t=>this.triggerEl=t},r("slot",{key:"fa1ecc3998424e21444324bf4b5c90d6891ab03f"})),r("div",{key:"39306bb13f784942525e0b8b203406512253be3d",part:"tooltip",class:"tooltip",id:"tooltip",role:"tooltip",ref:t=>this.tooltipEl=t},r("div",{key:"d5bd2ca0781605c1ffe4cbeb1ade65430aed6691",id:"arrow",ref:t=>this.arrowEl=t,part:"arrow"}),this.label,r("slot",{key:"c80c860e2c9cdcbe3c0e0ec97b8f4cd9c99abb78",name:"tooltip"})))}static get watchers(){return{open:["openChanged"]}}};de.style=":host{line-height:initial;font-family:var(--rtk-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--rtk-space-0, 0px);padding:var(--rtk-space-0, 0px)}:host{--background-color:var(--rtk-tooltip-background-color, rgb(var(--rtk-colors-background-600, 60 60 60)));--color:var(--rtk-tooltip-color, rgb(var(--rtk-colors-text-1000, 255 255 255)));display:inline-flex}#trigger{display:block;width:100%;flex:1 1 0%}.tooltip{max-width:var(--rtk-space-64, 256px);position:fixed;z-index:20;display:none;width:-moz-max-content;width:max-content;padding-left:var(--rtk-space-2, 8px);padding-right:var(--rtk-space-2, 8px);padding-top:var(--rtk-space-1, 4px);padding-bottom:var(--rtk-space-1, 4px);border-radius:var(--rtk-border-radius-sm, 4px);--tw-shadow:0 1px 2px 0 rgb(0 0 0 / 0.05);--tw-shadow-colored:0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);font-size:12px}.tooltip,#arrow{position:absolute;background-color:var(--background-color);color:var(--color)}#arrow{position:absolute;height:var(--rtk-space-2, 8px);width:var(--rtk-space-2, 8px);transform:rotate(45deg)}:host([variant='primary']){--background-color:rgb(var(--rtk-colors-brand-500, 33 96 253));--color:rgb(var(--rtk-colors-text-on-brand-1000, var(--rtk-colors-text-1000, 255 255 255)))}:host([kind='block']){display:block}";export{nt as rtk_avatar,dt as rtk_breakout_room_manager,ht as rtk_breakout_room_participants,bt as rtk_breakout_rooms_manager,kt as rtk_broadcast_message_modal,vt as rtk_button,ft as rtk_channel_creator,xt as rtk_channel_details,yt as rtk_channel_header,_t as rtk_channel_selector_view,zt as rtk_chat,Ot as rtk_chat_composer_view,Mt as rtk_chat_message,$t as rtk_chat_messages_ui,Tt as rtk_chat_messages_ui_paginated,At as rtk_chat_search_results,It as rtk_confirmation_modal,Nt as rtk_counter,Yt as rtk_debugger,Vt as rtk_debugger_audio,Zt as rtk_debugger_screenshare,rr as rtk_debugger_system,ar as rtk_debugger_video,sr as rtk_dialog,nr as rtk_dialog_manager,dr as rtk_draft_attachment_view,pr as rtk_emoji_picker,gr as rtk_emoji_picker_button,vr as rtk_file_message,ur as rtk_file_message_view,mr as rtk_file_picker_button,wr as rtk_icon,jr as rtk_image_message,Cr as rtk_image_message_view,Rr as rtk_join_stage,Or as rtk_leave_meeting,Mr as rtk_logo,Dr as rtk_markdown_view,$r as rtk_meeting,Tr as rtk_menu,Ar as rtk_menu_item,Ir as rtk_menu_list,qr as rtk_message_view,Gr as rtk_mute_all_confirmation,Br as rtk_notification,Kr as rtk_notifications,Vr as rtk_overlay_modal,Zr as rtk_paginated_list,ee as rtk_permissions_message,ae as rtk_spinner,se as rtk_text_composer_view,ne as rtk_text_message,ce as rtk_text_message_view,de as rtk_tooltip}