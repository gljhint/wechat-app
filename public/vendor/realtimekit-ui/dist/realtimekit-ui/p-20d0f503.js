import{c as t,E as e,F as i}from"./p-3c9aa206.js";import{d as r,i as a}from"./p-f22deedb.js";const o=(e,i=t())=>{let a=Object.assign({},i);return r(a,e),a},n=(t,i,r={},n={grid_pagination:!0,settings_toggle:!0})=>{var l,d,s,g,c,v,k,p,m,u,h,b,f,x,y,w,S,I;const O={showSetupScreen:!0};let _,j=["rtk-stage"],M={},T={};const A=!1!==(null==n?void 0:n.settings_toggle),R=!1!==(null==n?void 0:n.grid_pagination);if(null===(l=t.controlBar)||void 0===l?void 0:l.isEnabled){j.push("rtk-controlbar");const{elements:r}=t.controlBar,a=[...r.fullscreen?["rtk-fullscreen-toggle"]:[],...A?["rtk-settings-toggle"]:[]],o=[],n=[];(null===(d=i.participants.pip)||void 0===d?void 0:d.isSupported())&&(null===(g=null===(s=i.self)||void 0===s?void 0:s.config)||void 0===g?void 0:g.pipMode)&&"LIVESTREAM"!==(null===(c=i.self.config)||void 0===c?void 0:c.viewType)&&n.push("rtk-pip-toggle"),(null==i?void 0:i.self.permissions.canDisableParticipantAudio)&&n.push("rtk-mute-all-button"),n.push("rtk-breakout-rooms-toggle"),(null===(v=i.self)||void 0===v?void 0:v.permissions.canRecord)&&n.push("rtk-recording-toggle"),null!==(k=i.self.permissions.transcriptionEnabled)&&void 0!==k&&k&&n.push("rtk-caption-toggle"),"ReactNative"!==navigator.product&&n.push("rtk-debugger-toggle"),e(i)&&a.push("rtk-livestream-toggle"),r.screenshare&&a.push("rtk-screen-share-toggle"),r.chat&&o.push("rtk-chat-toggle"),r.polls&&o.push("rtk-polls-toggle"),r.participants&&o.push("rtk-participants-toggle"),r.plugins&&o.push("rtk-plugins-toggle"),o.push("rtk-ai-toggle");const l=["rtk-mic-toggle","rtk-camera-toggle","rtk-stage-toggle","rtk-leave-button"];n.length>0&&l.push("rtk-more-toggle");const p=a.concat(o).concat(n);let m=!1;p.length>0&&(m=!0),T={"rtk-controlbar":{states:["activeMoreMenu"],children:["div#controlbar-left","div#controlbar-center","div#controlbar-right"]},"div#controlbar-left":a,"div#controlbar-center":l,"div#controlbar-right":o,"rtk-more-toggle":{states:["activeMoreMenu"],children:[]},"rtk-more-toggle.activeMoreMenu":n.map((t=>[t,{variant:"horizontal",slot:"more-elements"}])),"rtk-controlbar.sm":["div#controlbar-mobile"],"rtk-controlbar.md":["div#controlbar-mobile"],"rtk-more-toggle.activeMoreMenu.md":p.map((t=>[t,{variant:"horizontal",slot:"more-elements"}])),"rtk-more-toggle.activeMoreMenu.sm":p.map((t=>[t,{variant:"horizontal",slot:"more-elements"}])),"div#controlbar-mobile":["rtk-mic-toggle","rtk-camera-toggle","rtk-stage-toggle",m&&"rtk-more-toggle","rtk-leave-button"]}}if(null===(p=t.header)||void 0===p?void 0:p.isEnabled){j.unshift("rtk-header");const{elements:e}=t.header;let i=["rtk-recording-indicator","rtk-livestream-indicator"],r=[],a=[];R&&a.push("rtk-grid-pagination"),e.title&&r.push("rtk-meeting-title"),"string"==typeof e.logo&&e.logo.length>0&&(_=e.logo,i.unshift("rtk-logo")),e.participantCount&&a.push("rtk-participant-count","rtk-viewer-count"),e.timer&&a.push("rtk-clock"),M={"rtk-header":["div#header-left","div#header-center","div#header-right"],"rtk-header.sm":{remove:["div#header-center"]},"div#header-left":i,"div#header-center":r,"div#header-right":a,"div#header-left.sm":{remove:["rtk-logo"],prepend:["rtk-meeting-title"]}}}j.push("rtk-participants-audio","rtk-dialog-manager");let z={logo:_};z=t.designTokens,a(null===(u=null===(m=null==t?void 0:t.designTokens)||void 0===m?void 0:m.colors)||void 0===u?void 0:u.textOnBrand)&&(z.colors["text-on-brand"]=null===(b=null===(h=null==t?void 0:t.designTokens)||void 0===h?void 0:h.colors)||void 0===b?void 0:b.textOnBrand),a(null===(x=null===(f=null==t?void 0:t.designTokens)||void 0===f?void 0:f.colors)||void 0===x?void 0:x.videoBg)&&(z.colors["video-bg"]=null===(w=null===(y=null==t?void 0:t.designTokens)||void 0===y?void 0:y.colors)||void 0===w?void 0:w.videoBg);let C={designTokens:z,styles:{"rtk-header":{display:"grid",height:"48px",gridTemplateColumns:"repeat(3, 1fr)",gridTemplateRows:"1fr",alignItems:"center","--header-section-gap":"var(--rtk-space-2, 8px)"},"rtk-header.sm":{display:"grid",gridArea:"header",gridTemplateColumns:"repeat(2, 1fr)",gridTemplateRows:"1fr",alignItems:"center","--header-section-gap":"var(--rtk-space-1, 4px)"},"div#header-left":{display:"flex",alignItems:"center",height:"48px",wordBreak:"break-all",gap:"var(--header-section-gap)"},"rtk-logo":{height:"26px"},"div#header-center":{display:"flex",alignItems:"center",justifyContent:"center",wordBreak:"break-all",gap:"var(--header-section-gap)",paddingInline:"var(--rtk-space-3, 12px)"},"div#header-right":{display:"flex",alignItems:"center",justifyContent:"flex-end",gap:"var(--header-section-gap)"},"rtk-stage":{display:"flex",flex:"1"},"rtk-grid":{flex:"1",height:"auto"},"rtk-controlbar":{display:"grid",gridTemplateColumns:"repeat(3,1fr)",gridTemplateRows:"1fr",alignItems:"center",padding:"8px"},"rtk-controlbar.sm":{display:"flex",position:"relative",backgroundColor:"var(--rtk-colors-background-1000, #000)"},"rtk-controlbar.md":{display:"flex",position:"relative",backgroundColor:"var(--rtk-colors-background-1000, #000)"},"div#controlbar-left":{display:"flex",alignItems:"center",gap:"var(--rtk-space-1, 4px)"},"div#controlbar-center":{display:"flex",alignItems:"center",position:"relative",overflow:"visible",justifyContent:"center",gap:"var(--rtk-space-1, 4px)"},"div#controlbar-mobile":{display:"flex",flex:"1",alignItems:"center",justifyContent:"center",zIndex:"10000",gap:"var(--rtk-space-1, 4px)"},"div#controlbar-right":{display:"flex",alignItems:"center",justifyContent:"flex-end",gap:"var(--rtk-space-1, 4px)"},"rtk-settings":{width:"720px",height:"480px"},"rtk-debugger":{width:"720px",height:"480px"},"div#setupcontrols-indicator":{position:"absolute",bottom:"12px",left:"12px",display:"flex",gap:"6px",background:"rgb(var(--rtk-colors-background-800, 0 0 0))",borderRadius:"100%"},"div#setupcontrols-media":{position:"absolute",bottom:"8px",right:"8px",display:"flex",gap:"6px"},"div#setupcontrols-settings":{position:"absolute",top:"8px",right:"8px",display:"flex",flexDirection:"column",gap:"6px"},"rtk-meeting-title.sm":{marginLeft:"0"},"rtk-clock":{marginRight:"0"}},root:Object.assign(Object.assign(Object.assign({"rtk-meeting":{state:"meeting",states:["activeSidebar","activeAI"]},"rtk-meeting[meeting=idle]":["rtk-idle-screen"],"rtk-meeting[meeting=waiting]":["rtk-waiting-screen"],"rtk-meeting[meeting=setup]":["rtk-setup-screen","rtk-dialog-manager"],"rtk-meeting[meeting=joined]":j,"rtk-meeting[meeting=joined].activeSidebar.sm":{add:[["rtk-sidebar",{view:"full-screen"}]]},"rtk-meeting[meeting=joined].activeSidebar.md":{add:[["rtk-sidebar",{view:"full-screen"}]]},"rtk-meeting[meeting=joined].activeAI.sm":{add:[["rtk-ai",{view:"full-screen"}]]},"rtk-meeting[meeting=joined].activeAI.md":{add:[["rtk-ai",{view:"full-screen"}]]},"rtk-meeting[meeting=ended]":["rtk-ended-screen"]},M),T),{"rtk-stage":{states:["activeSidebar","activeAI"],children:["rtk-grid","rtk-notifications","rtk-transcripts"]},"rtk-stage.activeSidebar":{add:[["rtk-sidebar",{view:"sidebar"}]]},"rtk-stage.activeSidebar.sm":{remove:["rtk-sidebar"]},"rtk-stage.activeAI":{add:[["rtk-ai",{view:"sidebar"}]]},"rtk-stage.activeAI.sm":{remove:["rtk-ai"]},"rtk-grid":{states:["activeScreenShare","activePlugin","activeSpotlight"],state:"viewType",children:["rtk-simple-grid"]},"rtk-grid[viewType=AUDIO_ROOM]":["rtk-audio-grid"],"rtk-grid[viewType=AUDIO_ROOM].activePlugin":["rtk-mixed-grid"],"rtk-grid[viewType=AUDIO_ROOM].activeScreenshare":["rtk-mixed-grid"],"rtk-grid[viewType=AUDIO_ROOM].activeScreenShare.activeSpotlight":["rtk-mixed-grid"],"rtk-grid[viewType=AUDIO_ROOM].activePlugin.activeSpotlight":["rtk-mixed-grid"],"rtk-grid[viewType=AUDIO_ROOM].activePlugin.activeScreenShare.activeSpotlight":["rtk-mixed-grid"],"rtk-grid.activeSpotlight":["rtk-spotlight-grid"],"rtk-grid.activeScreenShare":["rtk-mixed-grid"],"rtk-grid.activePlugin":["rtk-mixed-grid"],"rtk-grid.activeScreenShare.activeSpotlight":["rtk-mixed-grid"],"rtk-grid.activePlugin.activeSpotlight":["rtk-mixed-grid"],"rtk-grid.activePlugin.activeScreenShare.activeSpotlight":["rtk-mixed-grid"],"rtk-mixed-grid":{states:["activeSpotlight"],state:"viewType",children:["rtk-simple-grid"]},"rtk-mixed-grid[viewType=AUDIO_ROOM]":["rtk-audio-grid"],"rtk-mixed-grid.activeSpotlight":["rtk-spotlight-grid"],"rtk-participant-tile":{state:"meeting",children:["rtk-name-tag","rtk-avatar","rtk-network-indicator"]},"rtk-participant-setup":["rtk-avatar","div#setupcontrols-media"],"rtk-participant-tile[meeting=setup]":["rtk-avatar","div#setupcontrols-indicator","div#setupcontrols-media",...A?["div#setupcontrols-settings"]:[]],"div#setupcontrols-indicator":[["rtk-audio-visualizer",{slot:"start",hideMuted:!0}]],"div#setupcontrols-media":[["rtk-mic-toggle",{size:"sm"}],["rtk-camera-toggle",{size:"sm"}]],"div#setupcontrols-settings":[["rtk-settings-toggle",{size:"sm"}]],"rtk-screenshare-view":["rtk-name-tag","rtk-network-indicator"],"rtk-name-tag":[["rtk-audio-visualizer",{slot:"start"}]]}),config:{notification_sounds:{participant_left:!1},participant_joined_sound_notification_limit:3,participant_chat_message_sound_notification_limit:10,videoFit:"cover"}};return C=o(r,C),O.showSetupScreen=null===(I=null===(S=t.setupScreen)||void 0===S?void 0:S.isEnabled)||void 0===I||I,{config:C,data:O}},l={joined:"https://dyte-uploads.s3.ap-south-1.amazonaws.com/notification_join.mp3",left:"https://dyte-uploads.s3.ap-south-1.amazonaws.com/notification_join.mp3",message:"https://dyte-uploads.s3.ap-south-1.amazonaws.com/notification_message.mp3"};class d{constructor(t){this.meeting=t,this.audio=document.createElement("audio"),this.audio.volume=.3}play(t,e=3e3){var i;this.playing||(this.playing=!0,this.audio.src=l[t],this.audio.volume=.3,null===(i=this.audio.play())||void 0===i||i.catch((()=>{})),setTimeout((()=>{this.playing=!1}),e))}async setDevice(t){var e,r,a;i(this.meeting)||await(null===(a=null===(r=null===(e=this.audio)||void 0===e?void 0:e.setSinkId)||void 0===r?void 0:r.call(e,t))||void 0===a?void 0:a.catch((()=>{})))}}export{d as R,o as e,n as g}